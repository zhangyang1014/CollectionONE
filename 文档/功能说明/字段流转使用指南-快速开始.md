# 字段流转使用指南 - 快速开始

## 🎯 什么是字段流转?

**字段流转**是指"甲方字段展示配置"在系统三个核心场景的完整应用:

1. **控台案件列表** - 管理后台查看案件
2. **催员案件列表** - 催员工作台查看分配案件
3. **催员案件详情** - 催员查看案件详细信息

---

## 🚀 5分钟快速上手

### 步骤1: 配置字段展示

1. 登录管理控台
2. 进入 `字段配置 > 甲方字段展示配置`
3. 选择场景类型:
   - **控台案件管理列表**
   - **催员案件列表**
   - **催员案件详情**
4. 点击"添加字段配置"

### 步骤2: 设置字段属性

#### 基本配置
- **字段名称**: 显示的列名
- **排序顺序**: 数字越小越靠前
- **显示宽度**: 填写0表示自动

#### 搜索筛选配置

根据字段类型勾选:

| 字段类型 | 配置项 | 说明 |
|---------|--------|------|
| String (文本) | ✅ 是否可搜索 | 启用模糊搜索 |
| Enum (枚举) | ✅ 是否可筛选 | 启用下拉筛选 |
| Integer/Decimal/Date | ✅ 是否支持范围检索 | 启用范围查询 |

#### 催员端特有: 隐藏规则

选择要隐藏该字段的:
- 队列
- 机构
- 小组

### 步骤3: 保存并生效

点击"保存"后,配置立即在对应场景生效。

---

## 💡 典型使用场景

### 场景1: 为控台配置案件列表字段

**需求**: 管理员希望看到案件编号、客户姓名、逾期天数、未还金额等关键信息。

**配置**:

1. 选择场景: `控台案件管理列表`
2. 添加字段:

| 字段 | 排序 | 宽度 | 可搜索 | 可范围检索 |
|------|------|------|--------|-----------|
| case_code (案件编号) | 1 | 150 | ✅ | - |
| user_name (客户姓名) | 2 | 120 | ✅ | - |
| overdue_days (逾期天数) | 3 | 100 | - | ✅ |
| outstanding_amount (未还金额) | 4 | 130 | - | ✅ |

3. 保存后,控台案件列表会按配置显示

### 场景2: 为催员配置差异化显示

**需求**: M1队列催员只看基础字段,M3+队列催员看更多风控字段。

**配置**:

1. 选择场景: `催员案件列表`
2. 添加基础字段 (所有队列可见)
3. 添加风控字段,配置隐藏规则:
   - 对队列隐藏: `[M1队列ID]`
4. 保存

**效果**:
- M1队列催员: 只看到基础字段
- M3+队列催员: 看到基础字段 + 风控字段

### 场景3: 配置详情页分组展示

**需求**: 催员查看案件详情时,希望按"客户信息"、"贷款信息"、"还款记录"分组展示。

**配置**:

1. 选择场景: `催员案件详情`
2. 添加客户信息相关字段 (排序1-10)
3. 添加贷款信息相关字段 (排序11-20)
4. 添加还款记录相关字段 (排序21-30)
5. 保存

**效果**: 详情页会自动分组,清晰展示。

---

## 🔍 三种筛选功能说明

### 1. 文本搜索 (is_searchable)

**适用**: 文本类型字段

**效果**: 在筛选器区域显示搜索框

```
┌─────────────────────┐
│ 客户姓名             │
│ ┌─────────────────┐ │
│ │ 搜索...    🔍   │ │
│ └─────────────────┘ │
└─────────────────────┘
```

**使用**: 用户输入关键词,系统模糊匹配该字段

### 2. 枚举筛选 (is_filterable)

**适用**: 枚举类型字段

**效果**: 在筛选器区域显示下拉框

```
┌─────────────────────┐
│ 案件状态             │
│ ┌─────────────────┐ │
│ │ 全部        ▼   │ │
│ ├─────────────────┤ │
│ │ 待催收          │ │
│ │ 催收中          │ │
│ │ 已结清          │ │
│ └─────────────────┘ │
└─────────────────────┘
```

**使用**: 用户选择选项,系统精确匹配

### 3. 范围检索 (is_range_searchable)

**适用**: 数字和日期类型字段

**效果**: 在筛选器区域显示范围选择器

**数字范围**:
```
┌─────────────────────┐
│ 未还金额             │
│ ┌─────────────────┐ │
│ │ 1000-5000       │ │
│ └─────────────────┘ │
└─────────────────────┘
```

**日期范围**:
```
┌──────────────────────────┐
│ 到期日期                  │
│ ┌──────────┬──────────┐  │
│ │ 开始日期  │ 结束日期  │  │
│ └──────────┴──────────┘  │
└──────────────────────────┘
```

---

## ⚙️ 高级功能

### 格式化规则

配置字段的显示格式:

#### 货币格式
```json
{
  "format_type": "currency",
  "prefix": "¥",
  "suffix": ""
}
```
显示效果: `¥1,234.56`

#### 百分比格式
```json
{
  "format_type": "percentage",
  "suffix": "%"
}
```
显示效果: `85.5%`

### 颜色标记

设置字段的颜色类型:
- **normal** (黑色)
- **red** (红色) - 适合逾期、欠款等
- **yellow** (黄色) - 适合警告信息
- **green** (绿色) - 适合正常、已还款等

---

## 🐛 常见问题

### Q1: 配置保存后没有生效?

**A**: 检查以下几点:
1. 是否选择了正确的甲方?
2. 是否选择了正确的场景类型?
3. 刷新浏览器页面

### Q2: 字段显示顺序不对?

**A**: 检查`排序顺序`字段,数字越小越靠前。

### Q3: 催员端某些字段不显示?

**A**: 检查是否设置了隐藏规则,该催员的队列/机构/小组可能被隐藏。

### Q4: 筛选器没有显示?

**A**: 检查是否勾选了对应的筛选配置:
- 文本字段: `是否可搜索`
- 枚举字段: `是否可筛选`
- 数字/日期: `是否支持范围检索`

---

## 📚 相关文档

- [字段流转完整性校准报告](./字段流转完整性校准报告.md) - 技术实现详情
- [甲方字段展示配置-完成报告](./甲方字段展示配置-完成报告.md) - 功能完整说明
- [CCO字段配置系统设计](../后端/CCO字段配置系统设计.md) - 系统设计文档

---

**提示**: 如有任何问题,请查阅完整文档或联系技术支持。

**文档版本**: 1.0  
**最后更新**: 2025-11-22
























