# ç®¡ç†å‘˜ä¿¡æ¯ç¼–è¾‘åŠŸèƒ½ - ä¼˜åŒ–è¯´æ˜

## ä¼˜åŒ–å†…å®¹

æ ¹æ®ç”¨æˆ·åé¦ˆï¼Œå·²å°†ç¼–è¾‘æ—¶çš„ç®¡ç†å‘˜ä¿¡æ¯ä»"åªè¯»æ˜¾ç¤º"æ”¹ä¸º"**å¯ç¼–è¾‘**"ã€‚

## ä¿®æ”¹è¯¦æƒ…

### 1. ç”²æ–¹ç¼–è¾‘ï¼ˆTenantList.vueï¼‰

**å¯ç¼–è¾‘å­—æ®µ**ï¼š
- âœ… ç®¡ç†å‘˜è´¦å·å - **å¯ç¼–è¾‘**
- âœ… ç®¡ç†å‘˜é‚®ç®± - **å¯ç¼–è¾‘**
- âœ… ç®¡ç†å‘˜å¯†ç  - **å¯ç¼–è¾‘**ï¼ˆå¦‚éœ€ä¿®æ”¹å¯†ç ï¼Œå¡«å†™æ–°å¯†ç ï¼›å¦åˆ™ç•™ç©ºï¼‰

**ä¸å¯ç¼–è¾‘å­—æ®µ**ï¼š
- âŒ ç®¡ç†å‘˜ç™»å½•ID - **åªè¯»**ï¼ˆè´¦å·å”¯ä¸€æ ‡è¯†ï¼Œä¸å¯ä¿®æ”¹ï¼‰

### 2. æœºæ„ç¼–è¾‘ï¼ˆAgencyManagement.vueï¼‰

**å¯ç¼–è¾‘å­—æ®µ**ï¼š
- âœ… ç®¡ç†å‘˜è´¦å·å - **å¯ç¼–è¾‘**
- âœ… ç®¡ç†å‘˜é‚®ç®± - **å¯ç¼–è¾‘**
- âœ… ç®¡ç†å‘˜å¯†ç  - **å¯ç¼–è¾‘**ï¼ˆå¦‚éœ€ä¿®æ”¹å¯†ç ï¼Œå¡«å†™æ–°å¯†ç ï¼›å¦åˆ™ç•™ç©ºï¼‰

**ä¸å¯ç¼–è¾‘å­—æ®µ**ï¼š
- âŒ ç®¡ç†å‘˜ç™»å½•ID - **åªè¯»**ï¼ˆè´¦å·å”¯ä¸€æ ‡è¯†ï¼Œä¸å¯ä¿®æ”¹ï¼‰

### 3. å°ç»„ç¾¤ç¼–è¾‘ï¼ˆTeamGroupManagement.vueï¼‰

**å¯ç¼–è¾‘å­—æ®µ**ï¼š
- âœ… SPVè´¦å·åç§° - **å¯ç¼–è¾‘**
- âœ… SPVé‚®ç®± - **å¯ç¼–è¾‘**
- âœ… SPVæ‰‹æœºå· - **å¯ç¼–è¾‘**
- âœ… SPVå¯†ç  - **å¯ç¼–è¾‘**ï¼ˆå¦‚éœ€ä¿®æ”¹å¯†ç ï¼Œå¡«å†™æ–°å¯†ç ï¼›å¦åˆ™ç•™ç©ºï¼‰

**ä¸å¯ç¼–è¾‘å­—æ®µ**ï¼š
- âŒ SPVç™»å½•ID - **åªè¯»**ï¼ˆè´¦å·å”¯ä¸€æ ‡è¯†ï¼Œä¸å¯ä¿®æ”¹ï¼‰

**éšè—å­—æ®µ**ï¼š
- SPVè´¦å·ç¼–ç  - ç¼–è¾‘æ—¶ä¸æ˜¾ç¤ºï¼ˆåˆ›å»ºæ—¶éœ€è¦ï¼‰

## åŠŸèƒ½ç‰¹æ€§

### 1. æ˜æ–‡å›æ˜¾
ç¼–è¾‘æ—¶ï¼Œæ‰€æœ‰ç®¡ç†å‘˜ä¿¡æ¯å­—æ®µéƒ½ä¼šæ˜æ–‡æ˜¾ç¤ºï¼ˆå¯†ç å­—æ®µé™¤å¤–ï¼Œå¯†ç ä¸ºç©ºè¡¨ç¤ºä¸ä¿®æ”¹ï¼‰

### 2. å¯†ç ä¿®æ”¹é€»è¾‘
- **åˆ›å»ºæ¨¡å¼**ï¼šå¯†ç å¿…å¡«
- **ç¼–è¾‘æ¨¡å¼**ï¼š
  - å¯†ç å­—æ®µç•™ç©º = ä¸ä¿®æ”¹å¯†ç 
  - å¡«å†™æ–°å¯†ç  = ä¿®æ”¹ä¸ºæ–°å¯†ç 
  - æç¤ºæ–‡å­—ï¼š"å¦‚éœ€ä¿®æ”¹å¯†ç è¯·è¾“å…¥æ–°å¯†ç ï¼Œå¦åˆ™ç•™ç©º"

### 3. éªŒè¯è§„åˆ™
- **åˆ›å»ºæ¨¡å¼**ï¼šæ‰€æœ‰ç®¡ç†å‘˜å­—æ®µå¿…å¡«
- **ç¼–è¾‘æ¨¡å¼**ï¼š
  - ç®¡ç†å‘˜è´¦å·åã€é‚®ç®±ï¼šéå¿…å¡«ï¼ˆä¿ç•™åŸå€¼ï¼‰
  - å¯†ç ï¼šéå¿…å¡«ï¼ˆå¦‚å¡«å†™åˆ™éªŒè¯é•¿åº¦ â‰¥ 6ä½ï¼‰
  - ç™»å½•IDï¼šç¦ç”¨ç¼–è¾‘

### 4. ç¡®è®¤å¯†ç å­—æ®µ
- **åˆ›å»ºæ¨¡å¼**ï¼šå§‹ç»ˆæ˜¾ç¤º
- **ç¼–è¾‘æ¨¡å¼**ï¼šåªåœ¨å¡«å†™æ–°å¯†ç æ—¶æ˜¾ç¤º

## åç«¯æ”¹è¿›

### team_groups è¯¦æƒ…APIå¢å¼º

**æ–‡ä»¶**: `backend/app/api/team_groups.py`

**æ–°å¢è¿”å›å­—æ®µ**ï¼š
```json
{
  "spv_email": "spv@example.com",
  "spv_mobile": "1234567890"
}
```

ç°åœ¨å°ç»„ç¾¤è¯¦æƒ…APIè¿”å›å®Œæ•´çš„SPVä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼š
- spv_account_name
- spv_login_id
- **spv_email** (æ–°å¢)
- **spv_mobile** (æ–°å¢)

## ä½¿ç”¨ç¤ºä¾‹

### ç¼–è¾‘ç”²æ–¹ç®¡ç†å‘˜ä¿¡æ¯

1. ç‚¹å‡»"ç¼–è¾‘ç”²æ–¹"æŒ‰é’®
2. çœ‹åˆ°ç®¡ç†å‘˜ä¿¡æ¯å·²è‡ªåŠ¨å¡«å……ï¼š
   - ç®¡ç†å‘˜è´¦å·åï¼š`admin001` âœï¸ å¯ä¿®æ”¹
   - ç®¡ç†å‘˜ç™»å½•IDï¼š`admin_login` ğŸ”’ ç°è‰²åªè¯»
   - ç®¡ç†å‘˜é‚®ç®±ï¼š`admin@example.com` âœï¸ å¯ä¿®æ”¹
   - ç®¡ç†å‘˜å¯†ç ï¼šï¼ˆç•™ç©ºï¼‰ğŸ’¡ å¦‚éœ€ä¿®æ”¹è¯·è¾“å…¥

3. **ä¿®æ”¹åœºæ™¯ç¤ºä¾‹**ï¼š
   - **åªæ”¹åç§°**ï¼šä¿®æ”¹"ç®¡ç†å‘˜è´¦å·å"ï¼Œå…¶ä»–ç•™ç©ºæˆ–ä¿æŒåŸå€¼
   - **åªæ”¹é‚®ç®±**ï¼šä¿®æ”¹"ç®¡ç†å‘˜é‚®ç®±"ï¼Œå…¶ä»–ç•™ç©º
   - **ä¿®æ”¹å¯†ç **ï¼šåœ¨"ç®¡ç†å‘˜å¯†ç "ä¸­è¾“å…¥æ–°å¯†ç ï¼Œå¹¶åœ¨"ç¡®è®¤å¯†ç "ä¸­å†æ¬¡è¾“å…¥
   - **åŒæ—¶ä¿®æ”¹å¤šé¡¹**ï¼šå¯ä»¥åŒæ—¶ä¿®æ”¹åç§°ã€é‚®ç®±ã€å¯†ç 

## æ³¨æ„äº‹é¡¹

### 1. ç™»å½•IDä¸å¯ä¿®æ”¹
- ç™»å½•IDæ˜¯è´¦å·çš„å”¯ä¸€æ ‡è¯†ï¼Œå…³è”åˆ°è®¤è¯ç³»ç»Ÿ
- ç¼–è¾‘æ—¶æ˜¾ç¤ºä¸ºç°è‰²ç¦ç”¨çŠ¶æ€
- æç¤ºï¼š"ç™»å½•IDä¸å¯ä¿®æ”¹"

### 2. å¯†ç ä¿®æ”¹é€»è¾‘
- ç¼–è¾‘æ—¶å¯†ç å­—æ®µä¸º**å¯é€‰**
- ç•™ç©º = ä¿æŒåŸå¯†ç ä¸å˜
- å¡«å†™ = æ›´æ–°ä¸ºæ–°å¯†ç 

### 3. æ•°æ®å›æ˜¾æ—¶æœº
- æ‰“å¼€ç¼–è¾‘å¯¹è¯æ¡†æ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨APIè·å–ç®¡ç†å‘˜è´¦å·ä¿¡æ¯
- å¦‚æœè¯¥å®ä½“æ²¡æœ‰å…³è”çš„ç®¡ç†å‘˜è´¦å·ï¼Œå­—æ®µå°†ä¸ºç©ºï¼ˆå¯ä»¥å¡«å†™æ–°å»ºï¼‰

### 4. è¡¨å•éªŒè¯
- åˆ›å»ºæ—¶ï¼šä¸¥æ ¼éªŒè¯æ‰€æœ‰å¿…å¡«å­—æ®µ
- ç¼–è¾‘æ—¶ï¼šæ”¾å®½éªŒè¯ï¼Œå…è®¸éƒ¨åˆ†å­—æ®µä¸ºç©º

## æŠ€æœ¯ç»†èŠ‚

### å¯†ç éªŒè¯å™¨ï¼ˆåˆ›å»º/ç¼–è¾‘è‡ªé€‚åº”ï¼‰

```typescript
const validatePasswordConditional = (rule: any, value: any, callback: any) => {
  if (!isEdit.value) {
    // åˆ›å»ºæ¨¡å¼ï¼šå¯†ç å¿…å¡«
    if (!value) {
      callback(new Error('è¯·è¾“å…¥ç®¡ç†å‘˜å¯†ç '))
    } else if (value.length < 6) {
      callback(new Error('å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6ä½'))
    } else {
      callback()
    }
  } else {
    // ç¼–è¾‘æ¨¡å¼ï¼šå¯†ç å¯é€‰ï¼Œä½†å¦‚æœå¡«å†™äº†å°±è¦éªŒè¯é•¿åº¦
    if (value && value.length < 6) {
      callback(new Error('å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6ä½'))
    } else {
      callback()
    }
  }
}
```

### ç¡®è®¤å¯†ç å­—æ®µåŠ¨æ€æ˜¾ç¤º

```vue
<el-form-item label="ç¡®è®¤å¯†ç " v-if="!isEdit || form.admin_password">
  <!-- åˆ›å»ºæ¨¡å¼ æˆ– ç¼–è¾‘æ¨¡å¼ä¸”å¡«å†™äº†æ–°å¯†ç æ—¶æ˜¾ç¤º -->
</el-form-item>
```

## ç›¸å…³æ–‡ä»¶

### å‰ç«¯æ–‡ä»¶
- `frontend/src/views/tenant-management/TenantList.vue`
- `frontend/src/views/organization/AgencyManagement.vue`
- `frontend/src/views/organization/TeamGroupManagement.vue`

### åç«¯æ–‡ä»¶
- `backend/app/api/team_groups.py` (å¢å¼ºè¯¦æƒ…API)

## ç”¨æˆ·ä½“éªŒæå‡

âœ… **ç›´è§‚æ˜äº†**ï¼šç®¡ç†å‘˜ä¿¡æ¯æ˜æ–‡æ˜¾ç¤ºï¼Œä¸€ç›®äº†ç„¶  
âœ… **çµæ´»ç¼–è¾‘**ï¼šå¯ä»¥åªä¿®æ”¹éœ€è¦æ”¹çš„å­—æ®µï¼Œå…¶ä»–ä¿æŒä¸å˜  
âœ… **å¯†ç ä¿æŠ¤**ï¼šå¯†ç å¯é€‰å¡«ï¼Œç•™ç©ºå³ä¿æŒåŸå¯†ç   
âœ… **é˜²æ­¢è¯¯æ“ä½œ**ï¼šç™»å½•IDä¸å¯ä¿®æ”¹ï¼Œé¿å…ç ´åè´¦å·ä½“ç³»  
âœ… **å‹å¥½æç¤º**ï¼šæä¾›æ¸…æ™°çš„placeholderå’Œè¯´æ˜æ–‡å­—

---

**æ›´æ–°æ—¥æœŸ**: 2025-11-20  
**ç‰ˆæœ¬**: v2.0  
**çŠ¶æ€**: âœ… å·²å®Œæˆå¹¶æµ‹è¯•é€šè¿‡

