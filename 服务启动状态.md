# ğŸš€ æœåŠ¡å¯åŠ¨çŠ¶æ€

## âœ… å½“å‰çŠ¶æ€

### å‰ç«¯æœåŠ¡
- **çŠ¶æ€**: âœ… **è¿è¡Œä¸­**
- **åœ°å€**: http://localhost:5173
- **è¿›ç¨‹ID**: 26475
- **è®¿é—®**: æµè§ˆå™¨æ‰“å¼€ http://localhost:5173

### åç«¯æœåŠ¡
- **çŠ¶æ€**: âœ… **è¿è¡Œä¸­**
- **åœ°å€**: http://localhost:8000
- **è¿›ç¨‹ID**: 28586
- **æœåŠ¡ç±»å‹**: Mock API Serverï¼ˆç®€åŒ–ç‰ˆï¼Œæ— éœ€ä¾èµ–ï¼‰
- **è®¿é—®**: æµè§ˆå™¨æ‰“å¼€ http://localhost:8000/api/v1/tenants æµ‹è¯•

---

## ğŸ“ å½“å‰ä½¿ç”¨çš„æœåŠ¡

### Mock API Serverï¼ˆå½“å‰è¿è¡Œï¼‰
- **æ–‡ä»¶**: `backend/simple_server.py`
- **ä¼˜ç‚¹**: 
  - âœ… æ— éœ€å®‰è£…ä»»ä½•ä¾èµ–
  - âœ… æ— éœ€é…ç½®æ•°æ®åº“
  - âœ… å¿«é€Ÿå¯åŠ¨ï¼Œé€‚åˆå‰ç«¯å¼€å‘
- **ç¼ºç‚¹**:
  - âš ï¸ ä»…æä¾›Mockæ•°æ®ï¼Œæ— æ³•ä¿å­˜
  - âš ï¸ åŠŸèƒ½æœ‰é™ï¼Œä¸æ”¯æŒå®Œæ•´ä¸šåŠ¡é€»è¾‘

### å¯åŠ¨/åœæ­¢å‘½ä»¤
```bash
# å¯åŠ¨MockæœåŠ¡å™¨
cd backend
python3 simple_server.py

# åœæ­¢æœåŠ¡å™¨ï¼ˆæŒ‰ Ctrl+Cï¼‰
```

---

## ğŸ”§ åˆ‡æ¢åˆ°å®Œæ•´ç‰ˆFastAPIæœåŠ¡å™¨ï¼ˆå¯é€‰ï¼‰

### 1. å®‰è£…Pythonä¾èµ–

```bash
cd backend

# å®‰è£…ä¾èµ–
pip3 install -r requirements.txt

# æˆ–ä½¿ç”¨å›½å†…é•œåƒåŠ é€Ÿ
pip3 install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

### 2. åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶

åœ¨ `backend` ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
cd backend
cat > .env << 'EOF'
# æ•°æ®åº“é…ç½®ï¼ˆæ ¹æ®å®é™…æƒ…å†µä¿®æ”¹ï¼‰
DATABASE_URL=postgresql://user:password@localhost:5432/cco_db
# æˆ– MySQL
# DATABASE_URL=mysql+pymysql://user:password@localhost:3306/cco_db

# Redisé…ç½®
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# JWTå®‰å…¨é…ç½®
SECRET_KEY=your-secret-key-change-this-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# CORSé…ç½®ï¼ˆJSONæ ¼å¼ï¼‰
BACKEND_CORS_ORIGINS=["http://localhost:5173","http://localhost:3000"]
EOF
```

### 3. å¯åŠ¨åç«¯æœåŠ¡

```bash
cd backend

# æ–¹å¼1ï¼šä½¿ç”¨uvicornå‘½ä»¤
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000

# æ–¹å¼2ï¼šä½¿ç”¨pythonæ¨¡å—
python3 -m uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

**å¯åŠ¨æˆåŠŸæ ‡å¿—ï¼š**
```
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process
INFO:     Started server process
INFO:     Waiting for application startup.
INFO:     Application startup complete.
```

---

## ğŸŒ è®¿é—®åœ°å€

### å‰ç«¯
- **ä¸»åº”ç”¨**: http://localhost:5173 âœ…
- **ç™»å½•é¡µ**: http://localhost:5173/login
- **ä»ªè¡¨ç›˜**: http://localhost:5173/dashboard

### åç«¯ï¼ˆå¯åŠ¨åï¼‰
- **APIæ ¹åœ°å€**: http://localhost:8000
- **Swaggeræ–‡æ¡£**: http://localhost:8000/docs â­ **æ¨è**
- **ReDocæ–‡æ¡£**: http://localhost:8000/redoc
- **å¥åº·æ£€æŸ¥**: http://localhost:8000/health
- **API v1**: http://localhost:8000/api/v1

---

## ğŸ§ª éªŒè¯æœåŠ¡

### æ£€æŸ¥å‰ç«¯
```bash
curl http://localhost:5173
# åº”è¯¥è¿”å›HTMLå†…å®¹
```

### æ£€æŸ¥åç«¯ï¼ˆå¯åŠ¨åï¼‰
```bash
curl http://localhost:8000/health
# åº”è¯¥è¿”å›: {"status":"healthy"}

curl http://localhost:8000/
# åº”è¯¥è¿”å›: {"message":"CCO System API","version":"1.0.0"}
```

---

## ğŸš¨ å¸¸è§é—®é¢˜

### 1. ç«¯å£è¢«å ç”¨

```bash
# æŸ¥æ‰¾å ç”¨8000ç«¯å£çš„è¿›ç¨‹
lsof -i :8000

# æ€æ­»è¿›ç¨‹
kill -9 <PID>
```

### 2. æ•°æ®åº“è¿æ¥å¤±è´¥

ç¡®ä¿æ•°æ®åº“æœåŠ¡å·²å¯åŠ¨ï¼š
```bash
# PostgreSQL
pg_isready

# MySQL
mysqladmin ping
```

### 3. æ¨¡å—å¯¼å…¥é”™è¯¯

```bash
cd backend
pip3 install -r requirements.txt --force-reinstall
```

### 4. ç¯å¢ƒå˜é‡æœªåŠ è½½

ç¡®ä¿ `.env` æ–‡ä»¶åœ¨ `backend` ç›®å½•ä¸‹ï¼Œä¸”æ ¼å¼æ­£ç¡®ã€‚

---

## ğŸ“ å¿«é€Ÿå¯åŠ¨è„šæœ¬

åˆ›å»º `backend/start.sh`ï¼š

```bash
#!/bin/bash
cd "$(dirname "$0")"

# æ£€æŸ¥è™šæ‹Ÿç¯å¢ƒ
if [ ! -d "venv" ]; then
    echo "åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ..."
    python3 -m venv venv
fi

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt -q

# æ£€æŸ¥.envæ–‡ä»¶
if [ ! -f ".env" ]; then
    echo "âš ï¸  è­¦å‘Š: .env æ–‡ä»¶ä¸å­˜åœ¨ï¼Œè¯·å…ˆé…ç½®ç¯å¢ƒå˜é‡"
    exit 1
fi

# å¯åŠ¨æœåŠ¡
echo "ğŸš€ å¯åŠ¨åç«¯æœåŠ¡..."
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

ä½¿ç”¨ï¼š
```bash
chmod +x backend/start.sh
./backend/start.sh
```

---

## ğŸ¯ ä¸‹ä¸€æ­¥

1. âœ… **å‰ç«¯å·²è¿è¡Œ** - å¯ä»¥ç›´æ¥è®¿é—® http://localhost:5173
2. â³ **é…ç½®åç«¯** - æŒ‰ç…§ä¸Šè¿°æ­¥éª¤å®‰è£…ä¾èµ–å’Œé…ç½®ç¯å¢ƒå˜é‡
3. â³ **å¯åŠ¨åç«¯** - è¿è¡Œå¯åŠ¨å‘½ä»¤
4. â³ **æµ‹è¯•è¿æ¥** - è®¿é—® http://localhost:8000/docs æŸ¥çœ‹APIæ–‡æ¡£

---

**æœ€åæ›´æ–°**: 2024-11-11  
**çŠ¶æ€**: å‰ç«¯è¿è¡Œä¸­ï¼Œåç«¯å¾…é…ç½®

