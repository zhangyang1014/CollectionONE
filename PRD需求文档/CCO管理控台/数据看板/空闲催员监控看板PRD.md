# CCOç³»ç»Ÿ - ç©ºé—²å‚¬å‘˜ç›‘æ§çœ‹æ¿ PRD

## æ–‡æ¡£ä¿¡æ¯

| é¡¹ç›® | å†…å®¹ |
|------|------|
| æ–‡æ¡£åç§° | CCOç³»ç»Ÿç©ºé—²å‚¬å‘˜ç›‘æ§çœ‹æ¿äº§å“éœ€æ±‚æ–‡æ¡£ |
| ç‰ˆæœ¬å· | V1.0 |
| åˆ›å»ºæ—¥æœŸ | 2025-11-20 |
| æœ€åæ›´æ–° | 2025-11-20 |
| äº§å“ç»ç† | - |
| å¼€å‘å›¢é˜Ÿ | CCOå¼€å‘å›¢é˜Ÿ |

## ç›®å½•

1. [éœ€æ±‚æ¦‚è¿°](#éœ€æ±‚æ¦‚è¿°)
2. [åŠŸèƒ½æ¶æ„](#åŠŸèƒ½æ¶æ„)
3. [è¯¦ç»†åŠŸèƒ½è®¾è®¡](#è¯¦ç»†åŠŸèƒ½è®¾è®¡)
4. [æ•°æ®æ¨¡å‹](#æ•°æ®æ¨¡å‹)
5. [æ¥å£è®¾è®¡](#æ¥å£è®¾è®¡)
6. [ç”¨æˆ·ç•Œé¢è®¾è®¡](#ç”¨æˆ·ç•Œé¢è®¾è®¡)
7. [ä¸šåŠ¡æµç¨‹](#ä¸šåŠ¡æµç¨‹)
8. [éåŠŸèƒ½æ€§éœ€æ±‚](#éåŠŸèƒ½æ€§éœ€æ±‚)
9. [å®æ–½è®¡åˆ’](#å®æ–½è®¡åˆ’)

---

## éœ€æ±‚æ¦‚è¿°

### 1.1 èƒŒæ™¯

åœ¨CCOå‚¬æ”¶ç®¡ç†ç³»ç»Ÿä¸­ï¼Œå‚¬å‘˜çš„å·¥ä½œæ•ˆç‡ç›´æ¥å½±å“å‚¬æ”¶æ•ˆæœã€‚ç®¡ç†å±‚éœ€è¦å®æ—¶ç›‘æ§å‚¬å‘˜çš„å·¥ä½œçŠ¶æ€ï¼Œè¯†åˆ«ç©ºé—²æ—¶æ®µï¼Œä»¥ä¾¿ï¼š
- ä¼˜åŒ–äººåŠ›èµ„æºé…ç½®
- åŠæ—¶å‘ç°å·¥ä½œå¼‚å¸¸æƒ…å†µ
- æå‡æ•´ä½“å‚¬æ”¶æ•ˆç‡
- åŠ å¼ºå›¢é˜Ÿç®¡ç†æ°´å¹³

å½“å‰ç³»ç»Ÿç¼ºå°‘å¯¹å‚¬å‘˜ç©ºé—²æ—¶æ®µçš„ç³»ç»Ÿæ€§ç›‘æ§å’Œåˆ†æèƒ½åŠ›ï¼Œéœ€è¦å»ºç«‹ä¸“é—¨çš„ç©ºé—²å‚¬å‘˜ç›‘æ§çœ‹æ¿ã€‚

### 1.2 ç›®æ ‡

1. **å®æ—¶ç›‘æ§**ï¼šå®æ—¶æˆ–å‡†å®æ—¶ç›‘æ§å‚¬å‘˜å·¥ä½œçŠ¶æ€
2. **æ™ºèƒ½è¯†åˆ«**ï¼šåŸºäºå¯é…ç½®è§„åˆ™è‡ªåŠ¨è¯†åˆ«ç©ºé—²æ—¶æ®µ
3. **å¤šç»´åˆ†æ**ï¼šæ”¯æŒæŒ‰æœºæ„ã€å°ç»„ã€å‚¬å‘˜ç­‰ç»´åº¦åˆ†æ
4. **çµæ´»é…ç½®**ï¼šæ”¯æŒè‡ªå®šä¹‰ç©ºé—²å®šä¹‰è§„åˆ™
5. **æ•°æ®å¯è§†**ï¼šé€šè¿‡å›¾è¡¨å’Œæ—¶é—´è½´æ¸…æ™°å±•ç¤ºç©ºé—²æƒ…å†µ

### 1.3 ç”¨æˆ·è§’è‰²

| è§’è‰² | èŒè´£ | æƒé™ |
|------|------|------|
| ç³»ç»Ÿç®¡ç†å‘˜ | é…ç½®ç©ºé—²å®šä¹‰è§„åˆ™ã€æŸ¥çœ‹æ‰€æœ‰æ•°æ® | å®Œå…¨æƒé™ |
| ç”²æ–¹ç®¡ç†å‘˜ | æŸ¥çœ‹æ‰€æœ‰æœºæ„æ•°æ®ã€é…ç½®ç›‘æ§è§„åˆ™ | ç”²æ–¹èŒƒå›´å†…å®Œå…¨æƒé™ |
| æœºæ„ç®¡ç†å‘˜ | æŸ¥çœ‹æœ¬æœºæ„æ•°æ® | æœ¬æœºæ„åªè¯»æƒé™ |
| å°ç»„é•¿ | æŸ¥çœ‹æœ¬å°ç»„æ•°æ® | æœ¬å°ç»„åªè¯»æƒé™ |

---

## åŠŸèƒ½æ¶æ„

### 2.1 åŠŸèƒ½æ¨¡å—

```
ç©ºé—²å‚¬å‘˜ç›‘æ§çœ‹æ¿
â”œâ”€â”€ ç­›é€‰æ£€ç´¢æ¨¡å—
â”‚   â”œâ”€â”€ æœºæ„ç­›é€‰ï¼ˆæ”¯æŒå¤šé€‰ï¼‰
â”‚   â”œâ”€â”€ å°ç»„ç­›é€‰ï¼ˆæ”¯æŒå¤šé€‰ï¼‰
â”‚   â”œâ”€â”€ å‚¬å‘˜ç­›é€‰ï¼ˆæ”¯æŒæœç´¢ï¼‰
â”‚   â””â”€â”€ æ—¥æœŸç­›é€‰ï¼ˆå•æ—¥/æ—¥æœŸèŒƒå›´ï¼‰
â”œâ”€â”€ ç©ºé—²å®šä¹‰é…ç½®æ¨¡å—
â”‚   â”œâ”€â”€ ä¸Šç­æ—¶é—´æ®µé…ç½®
â”‚   â”œâ”€â”€ ç©ºé—²æ—¶é•¿é˜ˆå€¼é…ç½®
â”‚   â”œâ”€â”€ ç›‘æ§è¡Œä¸ºé…ç½®
â”‚   â””â”€â”€ é…ç½®å†å²ç‰ˆæœ¬ç®¡ç†
â”œâ”€â”€ æ•°æ®æ€»è§ˆæ¨¡å—
â”‚   â”œâ”€â”€ ç©ºé—²å‚¬å‘˜æ€»æ•°
â”‚   â”œâ”€â”€ ç©ºé—²æ€»æ¬¡æ•°
â”‚   â”œâ”€â”€ ç©ºé—²æ€»æ—¶é•¿ç»Ÿè®¡
â”‚   â””â”€â”€ è¶‹åŠ¿å›¾è¡¨
â””â”€â”€ è¯¦æƒ…åˆ—è¡¨æ¨¡å—
    â”œâ”€â”€ å‚¬å‘˜åŸºæœ¬ä¿¡æ¯
    â”œâ”€â”€ æ¡ˆä»¶ç®¡ç†æƒ…å†µ
    â”œâ”€â”€ ç©ºé—²ç»Ÿè®¡æ•°æ®
    â””â”€â”€ ç©ºé—²æ—¶æ®µæ˜ç»†
```

### 2.2 æ¨¡å—å…³ç³»å›¾

```mermaid
graph TB
    A[ç­›é€‰æ£€ç´¢æ¨¡å—] --> B[æ•°æ®æ€»è§ˆæ¨¡å—]
    A --> C[è¯¦æƒ…åˆ—è¡¨æ¨¡å—]
    D[ç©ºé—²å®šä¹‰é…ç½®æ¨¡å—] --> E[åå°è®¡ç®—å¼•æ“]
    E --> F[ç©ºé—²è®°å½•è¡¨]
    E --> G[ç©ºé—²ç»Ÿè®¡è¡¨]
    F --> C
    G --> B
    G --> C
```

---

## è¯¦ç»†åŠŸèƒ½è®¾è®¡

### 3.1 ç­›é€‰æ£€ç´¢åŠŸèƒ½

#### 3.1.1 æœºæ„ç­›é€‰

**åŠŸèƒ½æè¿°**ï¼š
- ä¸‹æ‹‰å¤šé€‰æ¡†
- æ”¯æŒæœç´¢æœºæ„åç§°
- æ˜¾ç¤ºæœºæ„ä»£ç å’Œåç§°
- é»˜è®¤æ˜¾ç¤ºå½“å‰ç”¨æˆ·æƒé™èŒƒå›´å†…çš„æ‰€æœ‰æœºæ„

**äº¤äº’è¯´æ˜**ï¼š
- ç‚¹å‡»ä¸‹æ‹‰æ¡†å±•å¼€æœºæ„åˆ—è¡¨
- è¾“å…¥å…³é”®å­—å®æ—¶è¿‡æ»¤
- å‹¾é€‰/å–æ¶ˆå‹¾é€‰æœºæ„
- æ”¯æŒ"å…¨é€‰"å’Œ"æ¸…ç©º"å¿«æ·æ“ä½œ

**æƒé™æ§åˆ¶**ï¼š
- ç³»ç»Ÿç®¡ç†å‘˜/ç”²æ–¹ç®¡ç†å‘˜ï¼šå¯é€‰æ‹©æ‰€æœ‰æœºæ„
- æœºæ„ç®¡ç†å‘˜ï¼šåªèƒ½é€‰æ‹©æ‰€å±æœºæ„
- å°ç»„é•¿ï¼šåªèƒ½é€‰æ‹©æ‰€å±æœºæ„ï¼ˆä¸å¯ä¿®æ”¹ï¼‰

#### 3.1.2 å°ç»„ç­›é€‰

**åŠŸèƒ½æè¿°**ï¼š
- çº§è”ç­›é€‰ï¼ˆå…ˆé€‰æœºæ„ï¼Œå†é€‰å°ç»„ï¼‰
- æ”¯æŒå¤šé€‰
- æ˜¾ç¤ºå°ç»„åç§°å’Œäººæ•°
- æ”¯æŒ"å…¨é€‰"å’Œ"æ¸…ç©º"

**äº¤äº’è¯´æ˜**ï¼š
- é€‰æ‹©æœºæ„åï¼Œå°ç»„åˆ—è¡¨è‡ªåŠ¨æ›´æ–°
- æ˜¾ç¤ºæ ¼å¼ï¼šå°ç»„åç§°ï¼ˆXäººï¼‰
- æ”¯æŒæœç´¢å°ç»„åç§°

**æƒé™æ§åˆ¶**ï¼š
- å°ç»„é•¿ï¼šåªèƒ½é€‰æ‹©æ‰€å±å°ç»„ï¼ˆä¸å¯ä¿®æ”¹ï¼‰

#### 3.1.3 å‚¬å‘˜ç­›é€‰

**åŠŸèƒ½æè¿°**ï¼š
- æœç´¢æ¡†æ”¯æŒå§“åã€å·¥å·æœç´¢
- ä¸‹æ‹‰åˆ—è¡¨å±•ç¤º
- æ”¯æŒå¤šé€‰
- æ˜¾ç¤ºå‚¬å‘˜å§“åã€å·¥å·ã€æ‰€å±å°ç»„

**äº¤äº’è¯´æ˜**ï¼š
- è¾“å…¥å…³é”®å­—å®æ—¶æœç´¢
- æ˜¾ç¤ºæ ¼å¼ï¼šå§“åï¼ˆå·¥å·ï¼‰- å°ç»„åç§°
- æ”¯æŒå¿«é€Ÿæ¸…ç©º

#### 3.1.4 æ—¥æœŸç­›é€‰

**åŠŸèƒ½æè¿°**ï¼š
- å•æ—¥é€‰æ‹©ï¼šæŸ¥çœ‹æŸä¸€å¤©çš„æ•°æ®
- æ—¥æœŸèŒƒå›´ï¼šæŸ¥çœ‹ä¸€æ®µæ—¶é—´çš„æ±‡æ€»æ•°æ®
- æ”¯æŒå¿«æ·é€‰é¡¹ï¼šä»Šå¤©ã€æ˜¨å¤©ã€æœ€è¿‘7å¤©ã€æœ€è¿‘30å¤©
- æœ€å¤§æ”¯æŒ90å¤©èŒƒå›´

**äº¤äº’è¯´æ˜**ï¼š
- é»˜è®¤æ˜¾ç¤º"ä»Šå¤©"
- æ—¥æœŸèŒƒå›´é€‰æ‹©æ—¶ï¼Œæ˜¾ç¤ºå¼€å§‹æ—¥æœŸå’Œç»“æŸæ—¥æœŸ
- è¶…è¿‡90å¤©æç¤ºå¹¶é™åˆ¶

**æ•°æ®è¯´æ˜**ï¼š
- å•æ—¥æ¨¡å¼ï¼šæ˜¾ç¤ºè¯¥æ—¥æ¯ä¸ªå‚¬å‘˜çš„è¯¦ç»†ç©ºé—²è®°å½•
- èŒƒå›´æ¨¡å¼ï¼šæ˜¾ç¤ºæ—¶é—´æ®µå†…çš„æ±‡æ€»ç»Ÿè®¡

### 3.2 ç©ºé—²å®šä¹‰é…ç½®

#### 3.2.1 é…ç½®å…¥å£

**æ‰“å¼€æ–¹å¼**ï¼š
- é¡µé¢å³ä¸Šè§’"ç©ºé—²é…ç½®"æŒ‰é’®
- ç‚¹å‡»å¼¹å‡ºé…ç½®å¯¹è¯æ¡†

**æƒé™è¦æ±‚**ï¼š
- ç³»ç»Ÿç®¡ç†å‘˜å’Œç”²æ–¹ç®¡ç†å‘˜å¯é…ç½®
- å…¶ä»–è§’è‰²åªèƒ½æŸ¥çœ‹å½“å‰é…ç½®

#### 3.2.2 ä¸Šç­æ—¶é—´æ®µé…ç½®

**åŠŸèƒ½æè¿°**ï¼š
- æ”¯æŒé…ç½®å¤šä¸ªæ—¶é—´æ®µï¼ˆå¦‚ï¼š9:00-12:00, 14:00-18:00ï¼‰
- å¯æŒ‰å·¥ä½œæ—¥åˆ†åˆ«é…ç½®
- æ”¯æŒèŠ‚å‡æ—¥æ’é™¤
- æ—¶é—´æ ¼å¼ï¼šHH:MM

**é…ç½®é¡¹**ï¼š

| é…ç½®é¡¹ | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|------|
| æ—¶é—´æ®µåˆ—è¡¨ | Array | æ˜¯ | å¤šä¸ªæ—¶é—´æ®µ | [{"start":"09:00","end":"12:00"}] |
| å¼€å§‹æ—¶é—´ | String | æ˜¯ | HH:MMæ ¼å¼ | "09:00" |
| ç»“æŸæ—¶é—´ | String | æ˜¯ | HH:MMæ ¼å¼ | "12:00" |
| æ’é™¤èŠ‚å‡æ—¥ | Boolean | å¦ | æ˜¯å¦æ’é™¤èŠ‚å‡æ—¥ | true |

**äº¤äº’è¯´æ˜**ï¼š
- ç‚¹å‡»"æ·»åŠ æ—¶é—´æ®µ"å¯å¢åŠ æ–°æ—¶é—´æ®µ
- æ¯ä¸ªæ—¶é—´æ®µå¯å•ç‹¬åˆ é™¤
- æ—¶é—´æ®µä¸èƒ½é‡å ï¼Œç³»ç»Ÿè‡ªåŠ¨æ ¡éªŒ
- æœ€å°‘é…ç½®1ä¸ªæ—¶é—´æ®µï¼Œæœ€å¤š5ä¸ª

**ç¤ºä¾‹é…ç½®**ï¼š
```json
{
  "work_time_slots": [
    {"start": "09:00", "end": "12:00"},
    {"start": "14:00", "end": "18:00"}
  ],
  "exclude_holidays": true
}
```

#### 3.2.3 ç©ºé—²æ—¶é•¿é˜ˆå€¼é…ç½®ï¼ˆxåˆ†é’Ÿï¼‰

**åŠŸèƒ½æè¿°**ï¼š
- è¾“å…¥æ¡†ï¼Œå…è®¸è¾“å…¥æ­£æ•´æ•°
- å•ä½ï¼šåˆ†é’Ÿ
- é»˜è®¤å€¼ï¼š30åˆ†é’Ÿ
- èŒƒå›´ï¼š5-120åˆ†é’Ÿ

**é…ç½®è¯´æ˜**ï¼š
åœ¨è®¾å®šçš„æ—¶é—´å†…ï¼Œå¦‚æœå‚¬å‘˜æœªå‘ç”Ÿä»»ä½•ç›‘æ§è¡Œä¸ºï¼Œåˆ™åˆ¤å®šä¸ºç©ºé—²ã€‚

**ç¤ºä¾‹**ï¼š
- è®¾ç½®30åˆ†é’Ÿï¼šå‚¬å‘˜30åˆ†é’Ÿå†…æ— ä»»ä½•è¡Œä¸ºè®°å½•ï¼Œåˆ™è®°å½•ä¸ºç©ºé—²
- è®¾ç½®15åˆ†é’Ÿï¼šæ›´ä¸¥æ ¼çš„ç›‘æ§æ ‡å‡†

**æ ¡éªŒè§„åˆ™**ï¼š
- å¿…é¡»ä¸ºæ­£æ•´æ•°
- æœ€å°å€¼ï¼š5åˆ†é’Ÿ
- æœ€å¤§å€¼ï¼š120åˆ†é’Ÿ
- è¶…å‡ºèŒƒå›´æç¤ºé”™è¯¯

#### 3.2.4 ç›‘æ§è¡Œä¸ºé…ç½®ï¼ˆyè¡Œä¸ºï¼‰

**åŠŸèƒ½æè¿°**ï¼š
æ”¯æŒå¤šé€‰çš„è¡Œä¸ºç±»å‹ï¼Œç”¨äºåˆ¤å®šå‚¬å‘˜æ˜¯å¦åœ¨å·¥ä½œçŠ¶æ€ã€‚

**è¡Œä¸ºåˆ—è¡¨**ï¼š

| è¡Œä¸ºç±»å‹ | æ ‡è¯† | è¯´æ˜ | é»˜è®¤ |
|---------|------|------|------|
| æ‰“ç”µè¯ | call | æ‹¨æ‰“å¤–å‘¼ç”µè¯ | â˜‘ |
| å‘é€WhatsApp | whatsapp | å‘é€WAæ¶ˆæ¯ | â˜‘ |
| å‘é€RCS | rcs | å‘é€RCSæ¶ˆæ¯ | â˜‘ |
| å‘é€SMS | sms | å‘é€çŸ­ä¿¡ | â˜‘ |
| å‘é€é‚®ä»¶ | email | å‘é€é‚®ä»¶ | â˜‘ |
| æ¡ˆä»¶æ“ä½œ | case_update | æ›´æ–°æ¡ˆä»¶çŠ¶æ€ã€æ·»åŠ å¤‡æ³¨ç­‰ | â˜‘ |
| ç³»ç»Ÿç™»å½• | login | ç™»å½•ç³»ç»Ÿ | â˜‘ |

**äº¤äº’è¯´æ˜**ï¼š
- å¤é€‰æ¡†å¤šé€‰
- è‡³å°‘é€‰æ‹©ä¸€é¡¹è¡Œä¸º
- é»˜è®¤å…¨é€‰
- æä¾›"å…¨é€‰"å’Œ"æ¸…ç©º"å¿«æ·æŒ‰é’®

**åˆ¤å®šé€»è¾‘**ï¼š
åªè¦åœ¨æ—¶é—´çª—å£å†…å‘ç”Ÿä»»ä¸€é€‰ä¸­çš„è¡Œä¸ºï¼Œå°±ä¸ç®—ç©ºé—²ã€‚

**ç¤ºä¾‹é…ç½®**ï¼š
```json
{
  "monitored_actions": [
    "call",
    "whatsapp",
    "rcs",
    "sms",
    "email",
    "case_update",
    "login"
  ]
}
```

#### 3.2.5 é…ç½®ä¿å­˜å’Œç”Ÿæ•ˆ

**ä¿å­˜é€»è¾‘**ï¼š
- é…ç½®æŒ‰ç”²æ–¹ç»´åº¦ä¿å­˜
- ä¿å­˜åç«‹å³ç”Ÿæ•ˆ
- è®°å½•é…ç½®å˜æ›´å†å²
- è®°å½•æ“ä½œäººå’Œæ“ä½œæ—¶é—´

**ç”Ÿæ•ˆæœºåˆ¶**ï¼š
- æ–°é…ç½®ç«‹å³åº”ç”¨äºåç»­è®¡ç®—
- å†å²æ•°æ®ä¸å—å½±å“
- æ”¯æŒé‡æ–°è®¡ç®—å†å²æ•°æ®ï¼ˆå¯é€‰ï¼‰

**é…ç½®å†å²**ï¼š
- ç‚¹å‡»"æŸ¥çœ‹å†å²"æŒ‰é’®
- æ˜¾ç¤ºå†å²é…ç½®åˆ—è¡¨
- æ”¯æŒå¯¹æ¯”ä¸åŒç‰ˆæœ¬
- æ”¯æŒæ¢å¤å†å²é…ç½®

#### 3.2.6 å®Œæ•´é…ç½®ç¤ºä¾‹

**æ ‡å‡†é…ç½®**ï¼š
```json
{
  "config_name": "æ ‡å‡†å·¥ä½œæ—¥è§„åˆ™",
  "work_time_slots": [
    {"start": "09:00", "end": "12:00"},
    {"start": "14:00", "end": "18:00"}
  ],
  "idle_threshold_minutes": 30,
  "monitored_actions": ["call", "whatsapp", "sms", "case_update"],
  "exclude_holidays": true
}
```

**ä¸¥æ ¼é…ç½®**ï¼š
```json
{
  "config_name": "ä¸¥æ ¼ç›‘æ§è§„åˆ™",
  "work_time_slots": [
    {"start": "08:30", "end": "12:00"},
    {"start": "13:30", "end": "18:30"}
  ],
  "idle_threshold_minutes": 15,
  "monitored_actions": [
    "call", "whatsapp", "rcs", "sms", 
    "email", "case_update", "login"
  ],
  "exclude_holidays": true
}
```

### 3.3 æ•°æ®æ€»è§ˆå±•ç¤º

#### 3.3.1 æ ¸å¿ƒæŒ‡æ ‡å¡ç‰‡

**æŒ‡æ ‡1ï¼šç©ºé—²å‚¬å‘˜æ€»æ•°**
- **å®šä¹‰**ï¼šåœ¨ç­›é€‰æ¡ä»¶ä¸‹ï¼Œæœ‰ç©ºé—²è®°å½•çš„å‚¬å‘˜äººæ•°
- **æ˜¾ç¤º**ï¼šå¤§æ•°å­— + ç¯æ¯”å˜åŒ–
- **ç¤ºä¾‹**ï¼š28äºº â†‘ 15%
- **é¢œè‰²**ï¼šçº¢è‰²ï¼ˆè­¦ç¤ºï¼‰

**æŒ‡æ ‡2ï¼šç©ºé—²æ€»æ¬¡æ•°**
- **å®šä¹‰**ï¼šæ‰€æœ‰å‚¬å‘˜çš„ç©ºé—²æ¬¡æ•°æ€»å’Œ
- **æ˜¾ç¤º**ï¼šå¤§æ•°å­— + ç¯æ¯”å˜åŒ–
- **ç¤ºä¾‹**ï¼š156æ¬¡ â†‘ 8%
- **é¢œè‰²**ï¼šæ©™è‰²

**æŒ‡æ ‡3ï¼šç©ºé—²æ€»æ—¶é•¿**
- **å®šä¹‰**ï¼šæ‰€æœ‰å‚¬å‘˜çš„ç©ºé—²æ—¶é•¿æ€»å’Œ
- **æ˜¾ç¤º**ï¼šå°æ—¶æ•° + ç¯æ¯”å˜åŒ–
- **ç¤ºä¾‹**ï¼š87.5å°æ—¶ â†‘ 12%
- **é¢œè‰²**ï¼šçº¢è‰²

**æŒ‡æ ‡4ï¼šå¹³å‡ç©ºé—²æ—¶é•¿**
- **å®šä¹‰**ï¼šç©ºé—²æ€»æ—¶é•¿ / ç©ºé—²æ€»æ¬¡æ•°
- **æ˜¾ç¤º**ï¼šåˆ†é’Ÿæ•°
- **ç¤ºä¾‹**ï¼š33.6åˆ†é’Ÿ
- **é¢œè‰²**ï¼šé»„è‰²

**å¡ç‰‡å¸ƒå±€**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç©ºé—²å‚¬å‘˜æ€»æ•° â”‚ â”‚ ç©ºé—²æ€»æ¬¡æ•°   â”‚ â”‚ ç©ºé—²æ€»æ—¶é•¿   â”‚ â”‚ å¹³å‡ç©ºé—²æ—¶é•¿ â”‚
â”‚              â”‚ â”‚              â”‚ â”‚              â”‚ â”‚              â”‚
â”‚    28äºº      â”‚ â”‚   156æ¬¡      â”‚ â”‚  87.5å°æ—¶    â”‚ â”‚  33.6åˆ†é’Ÿ    â”‚
â”‚   â†‘ 15%     â”‚ â”‚   â†‘ 8%      â”‚ â”‚   â†‘ 12%     â”‚ â”‚   â†‘ 5%      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç¯æ¯”è®¡ç®—**ï¼š
- å•æ—¥æ¨¡å¼ï¼šä¸å‰ä¸€æ—¥å¯¹æ¯”
- èŒƒå›´æ¨¡å¼ï¼šä¸ä¸Šä¸€ä¸ªç›¸åŒå‘¨æœŸå¯¹æ¯”

#### 3.3.2 è¶‹åŠ¿å›¾è¡¨

**å›¾è¡¨ç±»å‹**ï¼šæŠ˜çº¿å›¾ï¼ˆEChartsï¼‰

**å›¾è¡¨é…ç½®**ï¼š
- **æ¨ªè½´**ï¼šæ—¥æœŸ
- **çºµè½´**ï¼šå¯åˆ‡æ¢æŒ‡æ ‡
  - ç©ºé—²å‚¬å‘˜æ•°é‡
  - ç©ºé—²æ€»æ¬¡æ•°
  - ç©ºé—²æ€»æ—¶é•¿ï¼ˆå°æ—¶ï¼‰
  - å¹³å‡ç©ºé—²æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰

**äº¤äº’åŠŸèƒ½**ï¼š
- é¼ æ ‡æ‚¬åœæ˜¾ç¤ºè¯¦ç»†æ•°æ®
- æ”¯æŒå›¾ä¾‹åˆ‡æ¢
- æ”¯æŒæ•°æ®ç¼©æ”¾
- ç‚¹å‡»æ—¥æœŸå¯è·³è½¬åˆ°è¯¥æ—¥è¯¦æƒ…

**æ˜¾ç¤ºèŒƒå›´**ï¼š
- æœ€å¤šæ˜¾ç¤º30å¤©æ•°æ®
- è‡ªåŠ¨èšåˆæ˜¾ç¤º

### 3.4 è¯¦æƒ…åˆ—è¡¨å±•ç¤º

#### 3.4.1 è¡¨æ ¼åˆ—å®šä¹‰

| åˆ—å | å­—æ®µ | å®½åº¦ | æ’åº | æ ¼å¼ | è¯´æ˜ |
|------|------|------|------|------|------|
| å‚¬å‘˜å§“å | collector_name | 120px | âœ“ | å§“åï¼ˆå·¥å·ï¼‰ | ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ… |
| æ‰€å±æœºæ„ | agency_name | 150px | âœ“ | æ–‡æœ¬ | - |
| æ‰€å±å°ç»„ | team_name | 120px | âœ“ | æ–‡æœ¬ | - |
| ç»Ÿè®¡æ—¥æœŸ | stat_date | 100px | âœ“ | YYYY-MM-DD | - |
| ç®¡ç†æ¡ˆä»¶æ•° | managed_cases | 120px | âœ“ | å·²è¿˜/æ€»è®¡ | æ ¼å¼ï¼š12/50 |
| ç®¡ç†æ¡ˆä»¶é‡‘é¢ | managed_amount | 150px | âœ“ | è´§å¸ | æ ¼å¼ï¼šÂ¥125,000/Â¥500,000 |
| ç©ºé—²æ¬¡æ•° | idle_count | 100px | âœ“ | æ•°å­— | é™åºé»˜è®¤ |
| æ€»è®¡ç©ºé—²æ—¶é•¿ | total_idle_minutes | 120px | âœ“ | Xå°æ—¶Yåˆ†é’Ÿ | æ ¼å¼ï¼š2å°æ—¶2åˆ†é’Ÿ |
| ç©ºé—²æ—¶æ®µ | idle_periods | 200px | - | åˆ—è¡¨ | å¯å±•å¼€æŸ¥çœ‹ |
| æ“ä½œ | actions | 100px | - | æŒ‰é’® | æŸ¥çœ‹è¯¦æƒ… |

#### 3.4.2 æ¡ˆä»¶ç®¡ç†æƒ…å†µè¯¦ç»†è¯´æ˜

**æ•°æ®æ¥æº**ï¼š
- å‚¬å‘˜åœ¨ç»Ÿè®¡æ—¥æœŸè´Ÿè´£çš„æ¡ˆä»¶
- ä»æ¡ˆä»¶ç®¡ç†ç³»ç»Ÿè·å–æ•°æ®

**å­—æ®µè¯´æ˜**ï¼š

| å­—æ®µ | è®¡ç®—æ–¹å¼ | è¯´æ˜ |
|------|---------|------|
| æ€»æ¡ˆä»¶æ•° | COUNT(æ¡ˆä»¶) | å‚¬å‘˜è´Ÿè´£çš„æ¡ˆä»¶æ€»æ•° |
| å·²è¿˜æ¡ˆä»¶æ•° | COUNT(æœ‰è¿˜æ¬¾çš„æ¡ˆä»¶) | åœ¨ç»Ÿè®¡æ—¥æœŸå†…æœ‰è¿˜æ¬¾è®°å½•çš„æ¡ˆä»¶æ•° |
| æ€»é‡‘é¢ | SUM(æ¡ˆä»¶æ¬ æ¬¾é‡‘é¢) | æ‰€æœ‰æ¡ˆä»¶çš„æ€»æ¬ æ¬¾é‡‘é¢ |
| å·²è¿˜é‡‘é¢ | SUM(è¿˜æ¬¾é‡‘é¢) | åœ¨ç»Ÿè®¡æ—¥æœŸå†…çš„è¿˜æ¬¾æ€»é¢ |

**æ˜¾ç¤ºæ ¼å¼**ï¼š
- æ¡ˆä»¶æ•°ï¼š`12/50`ï¼ˆå·²è¿˜/æ€»è®¡ï¼‰
- é‡‘é¢ï¼š`Â¥125,000/Â¥500,000`ï¼ˆå·²è¿˜/æ€»è®¡ï¼‰

**é¢œè‰²æ ‡è®°**ï¼š
- æ¡ˆä»¶å‚¬å›ç‡ > 30%ï¼šç»¿è‰²
- æ¡ˆä»¶å‚¬å›ç‡ 15-30%ï¼šé»„è‰²
- æ¡ˆä»¶å‚¬å›ç‡ < 15%ï¼šçº¢è‰²

#### 3.4.3 ç©ºé—²æ—¶æ®µå±•ç¤º

**ç´§å‡‘æ¨¡å¼ï¼ˆè¡¨æ ¼ä¸­ï¼‰**ï¼š
- æ˜¾ç¤ºç©ºé—²æ¬¡æ•°
- ç‚¹å‡»"[+]"å±•å¼€è¯¦ç»†æ—¶æ®µ
- å±•å¼€åæ˜¾ç¤ºæ¯ä¸ªæ—¶æ®µçš„èµ·æ­¢æ—¶é—´å’Œæ—¶é•¿

**å±•å¼€æ ¼å¼**ï¼š
```
ç©ºé—²æ—¶æ®µ:
â€¢ 09:15-09:52 (37åˆ†é’Ÿ)
â€¢ 14:20-15:05 (45åˆ†é’Ÿ)
â€¢ 16:30-17:10 (40åˆ†é’Ÿ)
```

**è¯¦æƒ…æ¨¡å¼ï¼ˆè¯¦æƒ…å¼¹çª—ä¸­ï¼‰**ï¼š
- æ—¶é—´è½´å¯è§†åŒ–å±•ç¤º
- æ˜¾ç¤ºä¸Šä¸‹æ–‡è¡Œä¸º
- æ”¯æŒç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…

#### 3.4.4 åˆ†é¡µå’Œæ’åº

**åˆ†é¡µé…ç½®**ï¼š
- é»˜è®¤æ¯é¡µ20æ¡
- æ”¯æŒ10/20/50/100æ¡åˆ‡æ¢
- æ˜¾ç¤ºæ€»æ¡æ•°å’Œé¡µç 

**æ’åºåŠŸèƒ½**ï¼š
- é»˜è®¤æŒ‰"ç©ºé—²æ¬¡æ•°"é™åºæ’åº
- ç‚¹å‡»åˆ—å¤´åˆ‡æ¢å‡åº/é™åº
- æ”¯æŒå¤šåˆ—æ’åºï¼ˆæŒ‰ä½Shifté”®ï¼‰

**æ’åºæ ‡è¯†**ï¼š
- â–² å‡åº
- â–¼ é™åº
- é»˜è®¤æ— æ ‡è¯†

### 3.5 è¯¦æƒ…å¼¹çª—

#### 3.5.1 è§¦å‘æ–¹å¼

- ç‚¹å‡»å‚¬å‘˜å§“å
- ç‚¹å‡»"æŸ¥çœ‹è¯¦æƒ…"æŒ‰é’®

#### 3.5.2 å¼¹çª—å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å‚¬å‘˜ç©ºé—²è¯¦æƒ… - å¼ ä¸‰ (C001)                        [Ã—]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [åŸºæœ¬ä¿¡æ¯] [æ¡ˆä»¶æƒ…å†µ] [ç©ºé—²æ˜ç»†]                       â”‚
â”‚                                                         â”‚
â”‚ åŸºæœ¬ä¿¡æ¯åŒºåŸŸ                                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ å§“å: å¼ ä¸‰        å·¥å·: C001      æ‰€å±æœºæ„: æœºæ„A  â”‚ â”‚
â”‚ â”‚ å°ç»„: å°ç»„1       ç»Ÿè®¡æ—¥æœŸ: 2025-11-20             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                         â”‚
â”‚ ç©ºé—²ç»Ÿè®¡å¡ç‰‡                                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚ â”‚ ç©ºé—²æ¬¡æ•°   â”‚ â”‚ æ€»è®¡æ—¶é•¿   â”‚ â”‚ å¹³å‡æ—¶é•¿   â”‚         â”‚
â”‚ â”‚   3æ¬¡      â”‚ â”‚  122åˆ†é’Ÿ   â”‚ â”‚  40.7åˆ†é’Ÿ  â”‚         â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                         â”‚
â”‚ æ¡ˆä»¶ç®¡ç†æƒ…å†µ                                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ æ€»æ¡ˆä»¶: 50ä»¶    å·²è¿˜: 12ä»¶    å‚¬å›ç‡: 24%          â”‚ â”‚
â”‚ â”‚ æ€»é‡‘é¢: Â¥500,000  å·²è¿˜: Â¥125,000  å›æ¬¾ç‡: 25%     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                         â”‚
â”‚ ç©ºé—²æ—¶æ®µæ—¶é—´è½´                                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ å·¥ä½œæ—¶é—´è½´ (09:00 - 18:00)                         â”‚ â”‚
â”‚ â”‚ 09:00 â–“â–“â–“â–ˆâ–ˆâ–ˆâ–ˆâ–“â–“â–“â–“â–“â–“ 12:00 â–ˆâ–ˆâ–ˆâ–ˆâ–“â–“â–“â–ˆâ–ˆâ–ˆâ–ˆ 18:00      â”‚ â”‚
â”‚ â”‚        ç©ºé—²1              ç©ºé—²2   ç©ºé—²3            â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                         â”‚
â”‚ ç©ºé—²æ˜ç»†åˆ—è¡¨                                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ 1. 09:15 - 09:52 (37åˆ†é’Ÿ)                          â”‚ â”‚
â”‚ â”‚    ä¹‹å‰è¡Œä¸º: æ‰“ç”µè¯ @ 09:14                         â”‚ â”‚
â”‚ â”‚    ä¹‹åè¡Œä¸º: ç™»å½•ç³»ç»Ÿ @ 09:52                       â”‚ â”‚
â”‚ â”‚                                                     â”‚ â”‚
â”‚ â”‚ 2. 14:20 - 15:05 (45åˆ†é’Ÿ)                          â”‚ â”‚
â”‚ â”‚    ä¹‹å‰è¡Œä¸º: å‘é€SMS @ 14:19                        â”‚ â”‚
â”‚ â”‚    ä¹‹åè¡Œä¸º: æ‰“ç”µè¯ @ 15:05                         â”‚ â”‚
â”‚ â”‚                                                     â”‚ â”‚
â”‚ â”‚ 3. 16:30 - 17:10 (40åˆ†é’Ÿ)                          â”‚ â”‚
â”‚ â”‚    ä¹‹å‰è¡Œä¸º: æ¡ˆä»¶æ“ä½œ @ 16:28                       â”‚ â”‚
â”‚ â”‚    ä¹‹åè¡Œä¸º: ä¸‹ç­ï¼ˆæ— åç»­è¡Œä¸ºï¼‰                     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                         â”‚
â”‚                         [å¯¼å‡ºæŠ¥å‘Š] [å…³é—­]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3.5.3 æ—¶é—´è½´å¯è§†åŒ–

**è®¾è®¡è¯´æ˜**ï¼š
- ä½¿ç”¨è‰²å—è¡¨ç¤ºç©ºé—²æ—¶æ®µ
- æ·±è‰²å—ï¼šå·¥ä½œæ—¶æ®µ
- æµ…è‰²å—/çº¢è‰²å—ï¼šç©ºé—²æ—¶æ®µ
- é¼ æ ‡æ‚¬åœæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯

**äº¤äº’åŠŸèƒ½**ï¼š
- ç‚¹å‡»ç©ºé—²æ—¶æ®µé«˜äº®å¯¹åº”æ˜ç»†
- æ”¯æŒç¼©æ”¾æŸ¥çœ‹
- æ˜¾ç¤ºç²¾ç¡®æ—¶é—´

#### 3.5.4 å¯¼å‡ºåŠŸèƒ½

**å¯¼å‡ºæ ¼å¼**ï¼šPDFæŠ¥å‘Š

**æŠ¥å‘Šå†…å®¹**ï¼š
- å‚¬å‘˜åŸºæœ¬ä¿¡æ¯
- ç©ºé—²ç»Ÿè®¡æ•°æ®
- æ¡ˆä»¶ç®¡ç†æƒ…å†µ
- ç©ºé—²æ—¶æ®µæ˜ç»†åˆ—è¡¨
- æ—¶é—´è½´å›¾è¡¨

---

## æ•°æ®æ¨¡å‹

### 4.1 ç©ºé—²ç›‘æ§é…ç½®è¡¨ (idle_monitor_configs)

| å­—æ®µå | ç±»å‹ | é•¿åº¦ | å¯ç©º | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|------|--------|------|
| id | BIGINT | - | NO | AUTO | ä¸»é”® |
| tenant_id | BIGINT | - | NO | - | ç”²æ–¹ID |
| config_name | VARCHAR | 100 | NO | - | é…ç½®åç§° |
| work_time_slots | JSON | - | NO | - | ä¸Šç­æ—¶é—´æ®µ |
| idle_threshold_minutes | INT | - | NO | 30 | ç©ºé—²é˜ˆå€¼ï¼ˆåˆ†é’Ÿï¼‰ |
| monitored_actions | JSON | - | NO | - | ç›‘æ§è¡Œä¸ºåˆ—è¡¨ |
| exclude_holidays | BOOLEAN | - | NO | true | æ˜¯å¦æ’é™¤èŠ‚å‡æ—¥ |
| is_active | BOOLEAN | - | NO | true | æ˜¯å¦å¯ç”¨ |
| created_by | VARCHAR | 100 | YES | - | åˆ›å»ºäºº |
| created_at | DATETIME | - | NO | NOW() | åˆ›å»ºæ—¶é—´ |
| updated_at | DATETIME | - | NO | NOW() | æ›´æ–°æ—¶é—´ |

**ç´¢å¼•**ï¼š
- PRIMARY KEY (id)
- UNIQUE KEY uk_tenant (tenant_id, config_name)
- KEY idx_tenant_active (tenant_id, is_active)

**work_time_slots å­—æ®µç»“æ„**ï¼š
```json
[
  {"start": "09:00", "end": "12:00"},
  {"start": "14:00", "end": "18:00"}
]
```

**monitored_actions å­—æ®µç»“æ„**ï¼š
```json
["call", "whatsapp", "rcs", "sms", "email", "case_update", "login"]
```

### 4.2 å‚¬å‘˜ç©ºé—²è®°å½•è¡¨ (collector_idle_records)

| å­—æ®µå | ç±»å‹ | é•¿åº¦ | å¯ç©º | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|------|--------|------|
| id | BIGINT | - | NO | AUTO | ä¸»é”® |
| tenant_id | BIGINT | - | NO | - | ç”²æ–¹ID |
| collector_id | BIGINT | - | NO | - | å‚¬å‘˜ID |
| agency_id | BIGINT | - | NO | - | æœºæ„ID |
| team_id | BIGINT | - | NO | - | å°ç»„ID |
| idle_date | DATE | - | NO | - | ç©ºé—²æ—¥æœŸ |
| idle_start_time | DATETIME | - | NO | - | ç©ºé—²å¼€å§‹æ—¶é—´ |
| idle_end_time | DATETIME | - | NO | - | ç©ºé—²ç»“æŸæ—¶é—´ |
| idle_duration_minutes | INT | - | NO | - | ç©ºé—²æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰ |
| before_action | JSON | - | YES | - | ç©ºé—²å‰çš„è¡Œä¸º |
| after_action | JSON | - | YES | - | ç©ºé—²åçš„è¡Œä¸º |
| config_id | BIGINT | - | NO | - | åº”ç”¨çš„é…ç½®ID |
| created_at | DATETIME | - | NO | NOW() | åˆ›å»ºæ—¶é—´ |

**ç´¢å¼•**ï¼š
- PRIMARY KEY (id)
- KEY idx_collector_date (collector_id, idle_date)
- KEY idx_tenant_date (tenant_id, idle_date)
- KEY idx_agency_date (agency_id, idle_date)
- KEY idx_team_date (team_id, idle_date)

**before_action/after_action å­—æ®µç»“æ„**ï¼š
```json
{
  "type": "call",
  "time": "2025-11-20 09:14:55",
  "details": "æ‹¨æ‰“ç”µè¯ç»™å®¢æˆ·XXX"
}
```

### 4.3 å‚¬å‘˜ç©ºé—²ç»Ÿè®¡è¡¨ (collector_idle_stats)

| å­—æ®µå | ç±»å‹ | é•¿åº¦ | å¯ç©º | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|------|--------|------|
| id | BIGINT | - | NO | AUTO | ä¸»é”® |
| tenant_id | BIGINT | - | NO | - | ç”²æ–¹ID |
| collector_id | BIGINT | - | NO | - | å‚¬å‘˜ID |
| agency_id | BIGINT | - | NO | - | æœºæ„ID |
| team_id | BIGINT | - | NO | - | å°ç»„ID |
| stat_date | DATE | - | NO | - | ç»Ÿè®¡æ—¥æœŸ |
| idle_count | INT | - | NO | 0 | ç©ºé—²æ¬¡æ•° |
| total_idle_minutes | INT | - | NO | 0 | æ€»ç©ºé—²æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰ |
| longest_idle_minutes | INT | - | NO | 0 | æœ€é•¿å•æ¬¡ç©ºé—²ï¼ˆåˆ†é’Ÿï¼‰ |
| avg_idle_minutes | DECIMAL | 10,2 | NO | 0 | å¹³å‡ç©ºé—²æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰ |
| work_minutes | INT | - | NO | 0 | å·¥ä½œæ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰ |
| idle_rate | DECIMAL | 5,4 | NO | 0 | ç©ºé—²ç‡ |
| managed_cases_total | INT | - | NO | 0 | ç®¡ç†æ¡ˆä»¶æ€»æ•° |
| managed_cases_collected | INT | - | NO | 0 | å·²è¿˜æ¡ˆä»¶æ•° |
| managed_amount_total | DECIMAL | 15,2 | NO | 0 | ç®¡ç†é‡‘é¢æ€»è®¡ |
| managed_amount_collected | DECIMAL | 15,2 | NO | 0 | å·²è¿˜é‡‘é¢ |
| created_at | DATETIME | - | NO | NOW() | åˆ›å»ºæ—¶é—´ |
| updated_at | DATETIME | - | NO | NOW() | æ›´æ–°æ—¶é—´ |

**ç´¢å¼•**ï¼š
- PRIMARY KEY (id)
- UNIQUE KEY uk_collector_date (collector_id, stat_date)
- KEY idx_tenant_date (tenant_id, stat_date)
- KEY idx_agency_date (agency_id, stat_date)
- KEY idx_team_date (team_id, stat_date)
- KEY idx_idle_count (idle_count)

---

## æ¥å£è®¾è®¡

### 5.1 ç©ºé—²é…ç½®ç®¡ç†æ¥å£

#### 5.1.1 è·å–å½“å‰é…ç½®

**æ¥å£**ï¼š
```
GET /api/v1/idle-monitor/config
```

**Queryå‚æ•°**ï¼š

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| tenant_id | String | æ˜¯ | ç”²æ–¹ID |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "id": 1,
    "tenant_id": "1001",
    "config_name": "æ ‡å‡†å·¥ä½œæ—¥è§„åˆ™",
    "work_time_slots": [
      {"start": "09:00", "end": "12:00"},
      {"start": "14:00", "end": "18:00"}
    ],
    "idle_threshold_minutes": 30,
    "monitored_actions": ["call", "whatsapp", "sms", "case_update"],
    "exclude_holidays": true,
    "is_active": true,
    "created_at": "2025-11-20 10:00:00",
    "updated_at": "2025-11-20 10:00:00"
  }
}
```

#### 5.1.2 åˆ›å»ºæˆ–æ›´æ–°é…ç½®

**æ¥å£**ï¼š
```
POST /api/v1/idle-monitor/config
PUT /api/v1/idle-monitor/config/{id}
```

**è¯·æ±‚ä½“**ï¼š
```json
{
  "tenant_id": "1001",
  "config_name": "æ ‡å‡†å·¥ä½œæ—¥è§„åˆ™",
  "work_time_slots": [
    {"start": "09:00", "end": "12:00"},
    {"start": "14:00", "end": "18:00"}
  ],
  "idle_threshold_minutes": 30,
  "monitored_actions": ["call", "whatsapp", "sms", "case_update"],
  "exclude_holidays": true
}
```

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "é…ç½®ä¿å­˜æˆåŠŸ",
  "data": {
    "id": 1,
    "tenant_id": "1001",
    "config_name": "æ ‡å‡†å·¥ä½œæ—¥è§„åˆ™",
    "is_active": true,
    "created_at": "2025-11-20 10:00:00"
  }
}
```

#### 5.1.3 è·å–é…ç½®å†å²

**æ¥å£**ï¼š
```
GET /api/v1/idle-monitor/config/history
```

**Queryå‚æ•°**ï¼š

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| tenant_id | String | æ˜¯ | ç”²æ–¹ID |
| page | Integer | å¦ | é¡µç ï¼Œé»˜è®¤1 |
| page_size | Integer | å¦ | æ¯é¡µæ¡æ•°ï¼Œé»˜è®¤10 |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "total": 5,
    "page": 1,
    "page_size": 10,
    "items": [
      {
        "id": 5,
        "config_name": "æ ‡å‡†å·¥ä½œæ—¥è§„åˆ™",
        "created_by": "admin",
        "created_at": "2025-11-20 10:00:00",
        "is_active": true
      }
    ]
  }
}
```

### 5.2 ç©ºé—²æ•°æ®æŸ¥è¯¢æ¥å£

#### 5.2.1 è·å–æ€»è§ˆæ•°æ®

**æ¥å£**ï¼š
```
GET /api/v1/idle-monitor/summary
```

**Queryå‚æ•°**ï¼š

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| tenant_id | String | æ˜¯ | ç”²æ–¹ID |
| agency_ids | String | å¦ | æœºæ„IDåˆ—è¡¨ï¼Œé€—å·åˆ†éš” |
| team_ids | String | å¦ | å°ç»„IDåˆ—è¡¨ï¼Œé€—å·åˆ†éš” |
| collector_ids | String | å¦ | å‚¬å‘˜IDåˆ—è¡¨ï¼Œé€—å·åˆ†éš” |
| start_date | String | æ˜¯ | å¼€å§‹æ—¥æœŸï¼ŒYYYY-MM-DD |
| end_date | String | æ˜¯ | ç»“æŸæ—¥æœŸï¼ŒYYYY-MM-DD |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "total_idle_collectors": 28,
    "total_idle_count": 156,
    "total_idle_minutes": 5250,
    "total_idle_hours": 87.5,
    "avg_idle_minutes": 33.6,
    "comparison": {
      "collectors_change": 0.15,
      "count_change": 0.08,
      "minutes_change": 0.12,
      "avg_change": 0.05
    }
  }
}
```

#### 5.2.2 è·å–è¯¦æƒ…åˆ—è¡¨

**æ¥å£**ï¼š
```
GET /api/v1/idle-monitor/details
```

**Queryå‚æ•°**ï¼š

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| tenant_id | String | æ˜¯ | ç”²æ–¹ID |
| agency_ids | String | å¦ | æœºæ„IDåˆ—è¡¨ |
| team_ids | String | å¦ | å°ç»„IDåˆ—è¡¨ |
| collector_ids | String | å¦ | å‚¬å‘˜IDåˆ—è¡¨ |
| start_date | String | æ˜¯ | å¼€å§‹æ—¥æœŸ |
| end_date | String | æ˜¯ | ç»“æŸæ—¥æœŸ |
| page | Integer | å¦ | é¡µç ï¼Œé»˜è®¤1 |
| page_size | Integer | å¦ | æ¯é¡µæ¡æ•°ï¼Œé»˜è®¤20 |
| sort_by | String | å¦ | æ’åºå­—æ®µï¼Œé»˜è®¤idle_count |
| sort_order | String | å¦ | æ’åºæ–¹å‘ï¼Œasc/descï¼Œé»˜è®¤desc |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "total": 28,
    "page": 1,
    "page_size": 20,
    "items": [
      {
        "collector_id": 5001,
        "collector_name": "å¼ ä¸‰",
        "collector_code": "C001",
        "agency_id": 2001,
        "agency_name": "æœºæ„A",
        "team_id": 3001,
        "team_name": "å°ç»„1",
        "stat_date": "2025-11-20",
        "idle_count": 3,
        "total_idle_minutes": 122,
        "longest_idle_minutes": 45,
        "avg_idle_minutes": 40.67,
        "idle_rate": 0.254,
        "managed_cases": {
          "total": 50,
          "collected": 12,
          "collection_rate": 0.24
        },
        "managed_amount": {
          "total": 500000.00,
          "collected": 125000.00,
          "collection_rate": 0.25
        },
        "idle_periods": [
          {
            "start": "09:15:00",
            "end": "09:52:00",
            "duration": 37
          },
          {
            "start": "14:20:00",
            "end": "15:05:00",
            "duration": 45
          },
          {
            "start": "16:30:00",
            "end": "17:10:00",
            "duration": 40
          }
        ]
      }
    ]
  }
}
```

#### 5.2.3 è·å–å‚¬å‘˜è¯¦ç»†ä¿¡æ¯

**æ¥å£**ï¼š
```
GET /api/v1/idle-monitor/collector/{collector_id}/detail
```

**Pathå‚æ•°**ï¼š

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| collector_id | Integer | å‚¬å‘˜ID |

**Queryå‚æ•°**ï¼š

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| date | String | æ˜¯ | æ—¥æœŸï¼ŒYYYY-MM-DD |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "collector_info": {
      "id": 5001,
      "name": "å¼ ä¸‰",
      "code": "C001",
      "agency_name": "æœºæ„A",
      "team_name": "å°ç»„1"
    },
    "stat_date": "2025-11-20",
    "idle_summary": {
      "idle_count": 3,
      "total_idle_minutes": 122,
      "avg_idle_minutes": 40.67,
      "longest_idle_minutes": 45
    },
    "case_summary": {
      "total_cases": 50,
      "collected_cases": 12,
      "collection_rate": 0.24,
      "total_amount": 500000.00,
      "collected_amount": 125000.00,
      "amount_collection_rate": 0.25
    },
    "idle_details": [
      {
        "start_time": "2025-11-20 09:15:00",
        "end_time": "2025-11-20 09:52:00",
        "duration_minutes": 37,
        "before_action": {
          "type": "call",
          "time": "2025-11-20 09:14:55",
          "details": "æ‹¨æ‰“ç”µè¯"
        },
        "after_action": {
          "type": "login",
          "time": "2025-11-20 09:52:03",
          "details": "ç™»å½•ç³»ç»Ÿ"
        }
      },
      {
        "start_time": "2025-11-20 14:20:00",
        "end_time": "2025-11-20 15:05:00",
        "duration_minutes": 45,
        "before_action": {
          "type": "sms",
          "time": "2025-11-20 14:19:30",
          "details": "å‘é€SMS"
        },
        "after_action": {
          "type": "call",
          "time": "2025-11-20 15:05:12",
          "details": "æ‹¨æ‰“ç”µè¯"
        }
      },
      {
        "start_time": "2025-11-20 16:30:00",
        "end_time": "2025-11-20 17:10:00",
        "duration_minutes": 40,
        "before_action": {
          "type": "case_update",
          "time": "2025-11-20 16:28:00",
          "details": "æ¡ˆä»¶æ“ä½œ"
        },
        "after_action": null
      }
    ]
  }
}
```

#### 5.2.4 è·å–è¶‹åŠ¿æ•°æ®

**æ¥å£**ï¼š
```
GET /api/v1/idle-monitor/trend
```

**Queryå‚æ•°**ï¼š

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| tenant_id | String | æ˜¯ | ç”²æ–¹ID |
| agency_ids | String | å¦ | æœºæ„IDåˆ—è¡¨ |
| team_ids | String | å¦ | å°ç»„IDåˆ—è¡¨ |
| start_date | String | æ˜¯ | å¼€å§‹æ—¥æœŸ |
| end_date | String | æ˜¯ | ç»“æŸæ—¥æœŸ |
| metric | String | å¦ | æŒ‡æ ‡ç±»å‹ï¼šcollectors/count/minutes/avgï¼Œé»˜è®¤collectors |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "metric": "collectors",
    "dates": [
      "2025-11-15",
      "2025-11-16",
      "2025-11-17",
      "2025-11-18",
      "2025-11-19",
      "2025-11-20"
    ],
    "values": [25, 28, 23, 30, 27, 28]
  }
}
```

### 5.3 æ•°æ®å¯¼å‡ºæ¥å£

#### 5.3.1 å¯¼å‡ºè¯¦æƒ…åˆ—è¡¨

**æ¥å£**ï¼š
```
GET /api/v1/idle-monitor/export
```

**Queryå‚æ•°**ï¼šåŒè¯¦æƒ…åˆ—è¡¨æ¥å£

**å“åº”**ï¼š
- Content-Type: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
- æ–‡ä»¶åï¼šç©ºé—²å‚¬å‘˜ç›‘æ§_{æ—¥æœŸ}.xlsx

**Excelå†…å®¹**ï¼š
- Sheet1: ç©ºé—²å‚¬å‘˜åˆ—è¡¨
- Sheet2: ç©ºé—²æ—¶æ®µæ˜ç»†

---

## ç”¨æˆ·ç•Œé¢è®¾è®¡

### 6.1 é¡µé¢æ•´ä½“å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç©ºé—²å‚¬å‘˜ç›‘æ§çœ‹æ¿                          [ç©ºé—²é…ç½®] [å¯¼å‡º]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç­›é€‰åŒºåŸŸ                                                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ æœºæ„: [å…¨éƒ¨ â–¼]  å°ç»„: [å…¨éƒ¨ â–¼]  å‚¬å‘˜: [æœç´¢å‚¬å‘˜...]        â”‚ â”‚
â”‚ â”‚ æ—¥æœŸ: [ä»Šå¤© â–¼] [2025-11-20]                  [æŸ¥è¯¢] [é‡ç½®]  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ€»è§ˆåŒºåŸŸ                                                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ç©ºé—²å‚¬å‘˜æ€»æ•°  â”‚ â”‚ç©ºé—²æ€»æ¬¡æ•°    â”‚ â”‚ç©ºé—²æ€»æ—¶é•¿    â”‚ â”‚å¹³å‡ç©ºé—² â”‚â”‚
â”‚ â”‚              â”‚ â”‚              â”‚ â”‚              â”‚ â”‚æ—¶é•¿     â”‚â”‚
â”‚ â”‚    28äºº      â”‚ â”‚   156æ¬¡      â”‚ â”‚  87.5å°æ—¶    â”‚ â”‚33.6åˆ†é’Ÿ â”‚â”‚
â”‚ â”‚   â†‘ 15%     â”‚ â”‚   â†‘ 8%      â”‚ â”‚   â†‘ 12%     â”‚ â”‚ â†‘ 5%   â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è¶‹åŠ¿å›¾è¡¨åŒºåŸŸ                                                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [ç©ºé—²å‚¬å‘˜æ•° â–¼]                                              â”‚ â”‚
â”‚ â”‚                                                             â”‚ â”‚
â”‚ â”‚  30 â”¤                                  â—                   â”‚ â”‚
â”‚ â”‚  28 â”¤        â—               â—              â—              â”‚ â”‚
â”‚ â”‚  25 â”¤  â—                â—                                  â”‚ â”‚
â”‚ â”‚  23 â”¤                                                      â”‚ â”‚
â”‚ â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚
â”‚ â”‚      11-15  11-16  11-17  11-18  11-19  11-20             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è¯¦æƒ…åˆ—è¡¨åŒºåŸŸ                                                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚å‚¬å‘˜  â”‚æœºæ„â”‚å°ç»„â”‚æ—¥æœŸ  â”‚æ¡ˆä»¶      â”‚é‡‘é¢         â”‚ç©ºé—²â”‚æ—¶é•¿â”‚  â”‚ â”‚
â”‚ â”‚      â”‚    â”‚    â”‚      â”‚          â”‚             â”‚æ¬¡æ•°â”‚    â”‚  â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚å¼ ä¸‰  â”‚A   â”‚1   â”‚11-20 â”‚12/50     â”‚Â¥125k/Â¥500k  â”‚ 3  â”‚122 â”‚+â”‚â”‚
â”‚ â”‚(C001)â”‚    â”‚    â”‚      â”‚(24%)     â”‚(25%)        â”‚    â”‚åˆ†é’Ÿâ”‚ â”‚â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚æå››  â”‚A   â”‚2   â”‚11-20 â”‚10/45     â”‚Â¥95k/Â¥450k   â”‚ 5  â”‚205 â”‚+â”‚â”‚
â”‚ â”‚(C002)â”‚    â”‚    â”‚      â”‚(22%)     â”‚(21%)        â”‚    â”‚åˆ†é’Ÿâ”‚ â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ å…±28æ¡  [1] 2 3 4 5  æ¯é¡µ[20 â–¼]æ¡                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 ç©ºé—²é…ç½®å¼¹çª—

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç©ºé—²å®šä¹‰é…ç½®                                      [Ã—]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é…ç½®åç§°: [æ ‡å‡†å·¥ä½œæ—¥è§„åˆ™_________________________]     â”‚
â”‚                                                         â”‚
â”‚ ä¸Šç­æ—¶é—´æ®µ:                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ æ—¶é—´æ®µ1: [09:00] - [12:00]                  [åˆ é™¤] â”‚ â”‚
â”‚ â”‚ æ—¶é—´æ®µ2: [14:00] - [18:00]                  [åˆ é™¤] â”‚ â”‚
â”‚ â”‚                                        [+ æ·»åŠ æ—¶æ®µ] â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                         â”‚
â”‚ ç©ºé—²åˆ¤å®šé˜ˆå€¼:                                           â”‚
â”‚ åœ¨ [30____] åˆ†é’Ÿå†…ï¼Œæœªå‘ç”Ÿä»¥ä¸‹ä»»ä¸€è¡Œä¸ºï¼Œåˆ™åˆ¤å®šä¸ºç©ºé—²    â”‚
â”‚ ï¼ˆèŒƒå›´ï¼š5-120åˆ†é’Ÿï¼‰                                     â”‚
â”‚                                                         â”‚
â”‚ ç›‘æ§è¡Œä¸ºï¼ˆè‡³å°‘é€‰æ‹©ä¸€é¡¹ï¼‰:                               â”‚
â”‚ â˜‘ æ‰“ç”µè¯           â˜‘ å‘é€WhatsApp      â˜‘ å‘é€RCS      â”‚
â”‚ â˜‘ å‘é€SMS          â˜‘ å‘é€é‚®ä»¶          â˜‘ æ¡ˆä»¶æ“ä½œ      â”‚
â”‚ â˜‘ ç³»ç»Ÿç™»å½•                                             â”‚
â”‚                                                         â”‚
â”‚ å…¶ä»–é€‰é¡¹:                                               â”‚
â”‚ â˜‘ æ’é™¤æ³•å®šèŠ‚å‡æ—¥                                       â”‚
â”‚                                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“Œ é…ç½®è¯´æ˜:                                        â”‚ â”‚
â”‚ â”‚ â€¢ æ­¤é…ç½®å°†åº”ç”¨äºæ‰€æœ‰å‚¬å‘˜çš„ç©ºé—²ç›‘æ§                  â”‚ â”‚
â”‚ â”‚ â€¢ ä¿®æ”¹åç«‹å³ç”Ÿæ•ˆï¼Œå½±å“åç»­è®¡ç®—                      â”‚ â”‚
â”‚ â”‚ â€¢ å†å²æ•°æ®ä¸å—å½±å“                                  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                         â”‚
â”‚                  [æŸ¥çœ‹å†å²é…ç½®]  [å–æ¶ˆ]  [ä¿å­˜å¹¶åº”ç”¨] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.3 å‚¬å‘˜è¯¦æƒ…å¼¹çª—

è¯¦è§"3.5 è¯¦æƒ…å¼¹çª—"ç« èŠ‚çš„å¸ƒå±€è®¾è®¡ã€‚

### 6.4 æ—¶æ®µå±•å¼€è§†å›¾ï¼ˆè¡¨æ ¼å†…ï¼‰

ç‚¹å‡»è¯¦æƒ…åˆ—è¡¨ä¸­çš„"[+]"æŒ‰é’®ï¼Œè¡Œå±•å¼€æ˜¾ç¤ºï¼š

```
â”‚å¼ ä¸‰  â”‚A â”‚1 â”‚11-20â”‚12/50â”‚Â¥125k/Â¥500kâ”‚ 3 â”‚122åˆ†é’Ÿâ”‚[âˆ’]â”‚è¯¦æƒ…â”‚
â”‚ ç©ºé—²æ—¶æ®µ:                                                â”‚
â”‚ â€¢ 09:15-09:52 (37åˆ†é’Ÿ) - ä¹‹å‰:æ‰“ç”µè¯ ä¹‹å:ç™»å½•ç³»ç»Ÿ      â”‚
â”‚ â€¢ 14:20-15:05 (45åˆ†é’Ÿ) - ä¹‹å‰:å‘SMS ä¹‹å:æ‰“ç”µè¯         â”‚
â”‚ â€¢ 16:30-17:10 (40åˆ†é’Ÿ) - ä¹‹å‰:æ¡ˆä»¶æ“ä½œ ä¹‹å:ä¸‹ç­        â”‚
```

### 6.5 é¡µé¢å“åº”å¼è®¾è®¡

**æ¡Œé¢ç«¯ï¼ˆ>=1366pxï¼‰**ï¼š
- å®Œæ•´å±•ç¤ºæ‰€æœ‰åˆ—
- ä¾§è¾¹æ ç­›é€‰ + ä¸»å†…å®¹åŒº

**å¹³æ¿ç«¯ï¼ˆ768-1365pxï¼‰**ï¼š
- éšè—éƒ¨åˆ†æ¬¡è¦åˆ—
- ç­›é€‰åŒºåŸŸå¯æŠ˜å 

**ç§»åŠ¨ç«¯ï¼ˆ<768pxï¼‰**ï¼š
- å¡ç‰‡å¼å¸ƒå±€
- ç­›é€‰å™¨æ”¹ä¸ºæŠ½å±‰å¼
- æ ¸å¿ƒæŒ‡æ ‡çºµå‘æ’åˆ—

---

## ä¸šåŠ¡æµç¨‹

### 7.1 é…ç½®ç©ºé—²è§„åˆ™æµç¨‹

```mermaid
graph TD
    A[ç®¡ç†å‘˜è¿›å…¥çœ‹æ¿] --> B[ç‚¹å‡»"ç©ºé—²é…ç½®"]
    B --> C[é…ç½®å¼¹çª—æ‰“å¼€]
    C --> D[è®¾ç½®ä¸Šç­æ—¶é—´æ®µ]
    D --> E[è®¾ç½®ç©ºé—²é˜ˆå€¼]
    E --> F[é€‰æ‹©ç›‘æ§è¡Œä¸º]
    F --> G[ç‚¹å‡»"ä¿å­˜å¹¶åº”ç”¨"]
    G --> H[åç«¯æ ¡éªŒé…ç½®]
    H --> I{æ ¡éªŒé€šè¿‡?}
    I -->|å¦| J[æ˜¾ç¤ºé”™è¯¯æç¤º]
    J --> D
    I -->|æ˜¯| K[ä¿å­˜é…ç½®åˆ°æ•°æ®åº“]
    K --> L[é…ç½®ç«‹å³ç”Ÿæ•ˆ]
    L --> M[æ˜¾ç¤ºæˆåŠŸæç¤º]
    M --> N[å…³é—­å¼¹çª—]
```

### 7.2 ç©ºé—²ç›‘æ§è®¡ç®—æµç¨‹

```mermaid
graph TD
    A[åå°å®šæ—¶ä»»åŠ¡å¯åŠ¨<br/>æ¯æ—¥00:30] --> B[è¯»å–æ‰€æœ‰ç”²æ–¹çš„ç©ºé—²é…ç½®]
    B --> C[éå†æ¯ä¸ªç”²æ–¹]
    C --> D[è·å–è¯¥ç”²æ–¹æ‰€æœ‰å‚¬å‘˜åˆ—è¡¨]
    D --> E[éå†æ¯ä¸ªå‚¬å‘˜]
    E --> F[è·å–å‚¬å‘˜å‰ä¸€æ—¥æ‰€æœ‰è¡Œä¸ºè®°å½•]
    F --> G[è¿‡æ»¤å‡ºç›‘æ§è¡Œä¸º]
    G --> H[æŒ‰æ—¶é—´æ’åºè¡Œä¸ºè®°å½•]
    H --> I[è®¡ç®—ç›¸é‚»è¡Œä¸ºé—´éš”]
    I --> J{é—´éš”>=é˜ˆå€¼?}
    J -->|æ˜¯| K{åœ¨ä¸Šç­æ—¶é—´å†…?}
    J -->|å¦| L[ç»§ç»­ä¸‹ä¸€ä¸ªé—´éš”]
    K -->|æ˜¯| M[è®°å½•ä¸ºç©ºé—²æ—¶æ®µ]
    K -->|å¦| L
    M --> L
    L --> N{è¿˜æœ‰é—´éš”?}
    N -->|æ˜¯| I
    N -->|å¦| O[ç»Ÿè®¡è¯¥å‚¬å‘˜ç©ºé—²æ•°æ®]
    O --> P[è·å–æ¡ˆä»¶ç®¡ç†æƒ…å†µ]
    P --> Q[ä¿å­˜ç©ºé—²è®°å½•å’Œç»Ÿè®¡]
    Q --> R{è¿˜æœ‰å‚¬å‘˜?}
    R -->|æ˜¯| E
    R -->|å¦| S{è¿˜æœ‰ç”²æ–¹?}
    S -->|æ˜¯| C
    S -->|å¦| T[è®¡ç®—å®Œæˆ<br/>å‘é€å®Œæˆé€šçŸ¥]
```

### 7.3 ç”¨æˆ·æŸ¥è¯¢æµç¨‹

```mermaid
graph TD
    A[ç”¨æˆ·è¿›å…¥çœ‹æ¿é¡µé¢] --> B[ç³»ç»ŸåŠ è½½é»˜è®¤ç­›é€‰æ¡ä»¶]
    B --> C[æ˜¾ç¤ºä»Šæ—¥æ•°æ®]
    C --> D[ç”¨æˆ·è°ƒæ•´ç­›é€‰æ¡ä»¶]
    D --> E[é€‰æ‹©æœºæ„/å°ç»„/å‚¬å‘˜]
    E --> F[é€‰æ‹©æ—¥æœŸèŒƒå›´]
    F --> G[ç‚¹å‡»"æŸ¥è¯¢"æŒ‰é’®]
    G --> H[å‰ç«¯æ ¡éªŒå‚æ•°]
    H --> I{æ ¡éªŒé€šè¿‡?}
    I -->|å¦| J[æ˜¾ç¤ºé”™è¯¯æç¤º]
    J --> D
    I -->|æ˜¯| K[æ˜¾ç¤ºåŠ è½½åŠ¨ç”»]
    K --> L[è°ƒç”¨æ€»è§ˆæ•°æ®æ¥å£]
    L --> M[è°ƒç”¨è¶‹åŠ¿æ•°æ®æ¥å£]
    M --> N[è°ƒç”¨è¯¦æƒ…åˆ—è¡¨æ¥å£]
    N --> O[æ¸²æŸ“é¡µé¢æ•°æ®]
    O --> P[ç”¨æˆ·æŸ¥çœ‹æ•°æ®]
    P --> Q{éœ€è¦æŸ¥çœ‹è¯¦æƒ…?}
    Q -->|æ˜¯| R[ç‚¹å‡»"æŸ¥çœ‹è¯¦æƒ…"]
    R --> S[è°ƒç”¨å‚¬å‘˜è¯¦æƒ…æ¥å£]
    S --> T[æ‰“å¼€è¯¦æƒ…å¼¹çª—]
    T --> U[æ˜¾ç¤ºæ—¶é—´è½´å’Œæ˜ç»†]
    Q -->|å¦| V{éœ€è¦å¯¼å‡º?}
    V -->|æ˜¯| W[ç‚¹å‡»"å¯¼å‡º"æŒ‰é’®]
    W --> X[è°ƒç”¨å¯¼å‡ºæ¥å£]
    X --> Y[ä¸‹è½½Excelæ–‡ä»¶]
```

### 7.4 ç©ºé—²è¯†åˆ«ç®—æ³•

#### 7.4.1 ç®—æ³•è¾“å…¥

- **å‚¬å‘˜ID**ï¼šè¦åˆ†æçš„å‚¬å‘˜
- **æ—¥æœŸ**ï¼šåˆ†ææ—¥æœŸ
- **è¡Œä¸ºè®°å½•åˆ—è¡¨**ï¼šè¯¥å‚¬å‘˜å½“æ—¥æ‰€æœ‰è¡Œä¸ºè®°å½•
- **ç©ºé—²é…ç½®**ï¼šä¸Šç­æ—¶é—´ã€é˜ˆå€¼ã€ç›‘æ§è¡Œä¸º

#### 7.4.2 ç®—æ³•æ­¥éª¤

1. **æ•°æ®å‡†å¤‡**
   - è¿‡æ»¤å‡ºé…ç½®ä¸­æŒ‡å®šçš„ç›‘æ§è¡Œä¸º
   - æŒ‰æ—¶é—´æˆ³å‡åºæ’åº

2. **æ—¶æ®µè¯†åˆ«**
   - éå†ç›¸é‚»ä¸¤æ¡è¡Œä¸ºè®°å½•
   - è®¡ç®—æ—¶é—´é—´éš”
   - åˆ¤æ–­æ˜¯å¦æ»¡è¶³ç©ºé—²æ¡ä»¶

3. **æ¡ä»¶åˆ¤å®š**
   - é—´éš” >= ç©ºé—²é˜ˆå€¼
   - æ—¶æ®µåœ¨ä¸Šç­æ—¶é—´å†…
   - ä¸åœ¨èŠ‚å‡æ—¥ï¼ˆå¦‚æœé…ç½®æ’é™¤èŠ‚å‡æ—¥ï¼‰

4. **è®°å½•ä¿å­˜**
   - è®°å½•ç©ºé—²å¼€å§‹æ—¶é—´
   - è®°å½•ç©ºé—²ç»“æŸæ—¶é—´
   - è®°å½•ç©ºé—²æ—¶é•¿
   - è®°å½•ä¸Šä¸‹æ–‡è¡Œä¸º

#### 7.4.3 ä¼ªä»£ç 

```python
def detect_idle_periods(collector_id, date, actions, config):
    """
    æ£€æµ‹å‚¬å‘˜ç©ºé—²æ—¶æ®µ
    
    Args:
        collector_id: å‚¬å‘˜ID
        date: æ—¥æœŸ
        actions: è¡Œä¸ºè®°å½•åˆ—è¡¨
        config: ç©ºé—²é…ç½®
    
    Returns:
        idle_periods: ç©ºé—²æ—¶æ®µåˆ—è¡¨
    """
    idle_periods = []
    
    # 1. è¿‡æ»¤ç›‘æ§è¡Œä¸º
    monitored_actions = [
        a for a in actions 
        if a.type in config.monitored_actions
    ]
    
    # 2. æŒ‰æ—¶é—´æ’åº
    monitored_actions.sort(key=lambda x: x.timestamp)
    
    # 3. éå†ç›¸é‚»è¡Œä¸º
    for i in range(len(monitored_actions) - 1):
        current = monitored_actions[i]
        next_action = monitored_actions[i + 1]
        
        # 4. è®¡ç®—é—´éš”
        gap_seconds = (next_action.timestamp - current.timestamp).total_seconds()
        gap_minutes = gap_seconds / 60
        
        # 5. åˆ¤æ–­æ˜¯å¦ç©ºé—²
        if gap_minutes >= config.idle_threshold_minutes:
            # 6. æ£€æŸ¥æ˜¯å¦åœ¨ä¸Šç­æ—¶é—´å†…
            if is_work_time(current.timestamp, next_action.timestamp, config):
                # 7. è®°å½•ç©ºé—²æ—¶æ®µ
                idle_periods.append({
                    'start_time': current.timestamp,
                    'end_time': next_action.timestamp,
                    'duration_minutes': int(gap_minutes),
                    'before_action': {
                        'type': current.type,
                        'time': current.timestamp,
                        'details': current.details
                    },
                    'after_action': {
                        'type': next_action.type,
                        'time': next_action.timestamp,
                        'details': next_action.details
                    }
                })
    
    return idle_periods


def is_work_time(start_time, end_time, config):
    """
    åˆ¤æ–­æ—¶æ®µæ˜¯å¦åœ¨ä¸Šç­æ—¶é—´å†…
    
    Args:
        start_time: å¼€å§‹æ—¶é—´
        end_time: ç»“æŸæ—¶é—´
        config: é…ç½®å¯¹è±¡
    
    Returns:
        bool: æ˜¯å¦åœ¨ä¸Šç­æ—¶é—´å†…
    """
    # 1. æ£€æŸ¥æ˜¯å¦åœ¨èŠ‚å‡æ—¥
    if config.exclude_holidays and is_holiday(start_time.date()):
        return False
    
    # 2. æ£€æŸ¥æ˜¯å¦åœ¨é…ç½®çš„ä¸Šç­æ—¶é—´æ®µå†…
    for time_slot in config.work_time_slots:
        slot_start = datetime.combine(start_time.date(), time_slot['start'])
        slot_end = datetime.combine(start_time.date(), time_slot['end'])
        
        # ç©ºé—²æ—¶æ®µè‡³å°‘éƒ¨åˆ†åœ¨ä¸Šç­æ—¶é—´å†…
        if (start_time < slot_end and end_time > slot_start):
            return True
    
    return False
```

#### 7.4.4 ç®—æ³•ç¤ºä¾‹

**è¾“å…¥æ•°æ®**ï¼š
```python
# å‚¬å‘˜ID
collector_id = 5001

# æ—¥æœŸ
date = "2025-11-20"

# è¡Œä¸ºè®°å½•
actions = [
    {"type": "login", "timestamp": "2025-11-20 08:55:00"},
    {"type": "call", "timestamp": "2025-11-20 09:14:55"},
    # ç©ºé—²37åˆ†é’Ÿ
    {"type": "login", "timestamp": "2025-11-20 09:52:03"},
    {"type": "case_update", "timestamp": "2025-11-20 10:30:00"},
    {"type": "sms", "timestamp": "2025-11-20 14:19:30"},
    # ç©ºé—²45åˆ†é’Ÿ
    {"type": "call", "timestamp": "2025-11-20 15:05:12"},
    {"type": "case_update", "timestamp": "2025-11-20 16:28:00"},
    # ç©ºé—²42åˆ†é’Ÿï¼ˆä¸‹ç­å‰ï¼‰
    {"type": "logout", "timestamp": "2025-11-20 17:10:00"}
]

# é…ç½®
config = {
    "work_time_slots": [
        {"start": "09:00", "end": "12:00"},
        {"start": "14:00", "end": "18:00"}
    ],
    "idle_threshold_minutes": 30,
    "monitored_actions": ["call", "sms", "case_update", "login"]
}
```

**è¾“å‡ºç»“æœ**ï¼š
```python
idle_periods = [
    {
        "start_time": "2025-11-20 09:14:55",
        "end_time": "2025-11-20 09:52:03",
        "duration_minutes": 37,
        "before_action": {"type": "call", "time": "09:14:55"},
        "after_action": {"type": "login", "time": "09:52:03"}
    },
    {
        "start_time": "2025-11-20 14:19:30",
        "end_time": "2025-11-20 15:05:12",
        "duration_minutes": 45,
        "before_action": {"type": "sms", "time": "14:19:30"},
        "after_action": {"type": "call", "time": "15:05:12"}
    },
    {
        "start_time": "2025-11-20 16:28:00",
        "end_time": "2025-11-20 17:10:00",
        "duration_minutes": 42,
        "before_action": {"type": "case_update", "time": "16:28:00"},
        "after_action": {"type": "logout", "time": "17:10:00"}
    }
]
```

---

## éåŠŸèƒ½æ€§éœ€æ±‚

### 8.1 æ€§èƒ½è¦æ±‚

| æŒ‡æ ‡ | è¦æ±‚ | è¯´æ˜ |
|------|------|------|
| é¡µé¢é¦–æ¬¡åŠ è½½ | < 3ç§’ | åŒ…æ‹¬æ€»è§ˆå’Œåˆ—è¡¨æ•°æ® |
| ç­›é€‰æŸ¥è¯¢å“åº” | < 1ç§’ | ç­›é€‰æ¡ä»¶å˜åŒ–åçš„å“åº” |
| è¯¦æƒ…å¼¹çª—åŠ è½½ | < 500ms | æ‰“å¼€è¯¦æƒ…å¼¹çª—çš„æ—¶é—´ |
| è¶‹åŠ¿å›¾æ¸²æŸ“ | < 1ç§’ | EChartså›¾è¡¨æ¸²æŸ“æ—¶é—´ |
| Excelå¯¼å‡º | < 5ç§’ | 1000æ¡æ•°æ®çš„å¯¼å‡ºæ—¶é—´ |
| å¹¶å‘æŸ¥è¯¢æ”¯æŒ | 100+ | åŒæ—¶åœ¨çº¿æŸ¥è¯¢ç”¨æˆ·æ•° |
| æ•°æ®åº“æŸ¥è¯¢ | < 200ms | å•æ¬¡æ•°æ®åº“æŸ¥è¯¢æ—¶é—´ |

### 8.2 æ•°æ®è®¡ç®—è¦æ±‚

| æŒ‡æ ‡ | è¦æ±‚ | è¯´æ˜ |
|------|------|------|
| æ•°æ®å®æ—¶æ€§ | T+1 | å‰ä¸€æ—¥æ•°æ®åœ¨æ¬¡æ—¥å‡Œæ™¨å®Œæˆè®¡ç®— |
| è®¡ç®—ä»»åŠ¡æ—¶é—´ | æ¯æ—¥00:30 | å®šæ—¶ä»»åŠ¡æ‰§è¡Œæ—¶é—´ |
| è®¡ç®—å®Œæˆæ—¶é—´ | < 2å°æ—¶ | æ‰€æœ‰ç”²æ–¹æ•°æ®è®¡ç®—å®Œæˆæ—¶é—´ |
| é‡æ–°è®¡ç®—æ”¯æŒ | æ˜¯ | é…ç½®å˜æ›´åæ”¯æŒé‡ç®—å†å²æ•°æ® |
| æ•°æ®ä¿ç•™æœŸé™ | 90å¤©è¯¦ç»†+æ°¸ä¹…ç»Ÿè®¡ | è¯¦ç»†è®°å½•90å¤©ï¼Œç»Ÿè®¡æ•°æ®æ°¸ä¹… |

### 8.3 å‡†ç¡®æ€§è¦æ±‚

| è¦æ±‚ | è¯´æ˜ |
|------|------|
| è¡Œä¸ºè®°å½•å®Œæ•´æ€§ | æ‰€æœ‰ç›‘æ§è¡Œä¸ºå¿…é¡»å‡†ç¡®è®°å½•æ—¶é—´æˆ³ï¼Œè¯¯å·®<1ç§’ |
| æ—¶åŒºå¤„ç† | ç»Ÿä¸€ä½¿ç”¨æœåŠ¡å™¨æ—¶åŒºï¼ˆUTC+8ï¼‰ï¼Œå‰ç«¯æ˜¾ç¤ºæ—¶è½¬æ¢ |
| ç©ºé—²è®¡ç®—å‡†ç¡®æ€§ | ç®—æ³•ç»è¿‡å……åˆ†æµ‹è¯•ï¼Œè¯¯å·®ç‡ < 1% |
| æ•°æ®ä¸€è‡´æ€§ | è¯¦æƒ…è®°å½•ä¸ç»Ÿè®¡æ•°æ®ä¿æŒå®Œå…¨ä¸€è‡´ |
| é…ç½®åº”ç”¨ä¸€è‡´æ€§ | ç¡®ä¿ä½¿ç”¨æ­£ç¡®ç‰ˆæœ¬çš„é…ç½®è¿›è¡Œè®¡ç®— |

### 8.4 å®‰å…¨è¦æ±‚

| è¦æ±‚ | è¯´æ˜ |
|------|------|
| æƒé™æ§åˆ¶ | åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰ï¼Œä¸¥æ ¼æ•°æ®æƒé™ |
| æ•°æ®éš”ç¦» | ç”²æ–¹æ•°æ®å®Œå…¨éš”ç¦»ï¼Œä¸èƒ½è·¨ç”²æ–¹æŸ¥è¯¢ |
| æ“ä½œå®¡è®¡ | è®°å½•æ‰€æœ‰é…ç½®å˜æ›´æ“ä½œï¼ŒåŒ…æ‹¬æ“ä½œäººã€æ—¶é—´ã€å†…å®¹ |
| æ•æ„Ÿä¿¡æ¯ä¿æŠ¤ | ä¸å±•ç¤ºå‚¬å‘˜ä¸ªäººæ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚æ‰‹æœºå·ã€èº«ä»½è¯ï¼‰ |
| APIå®‰å…¨ | æ‰€æœ‰æ¥å£éœ€è¦èº«ä»½è®¤è¯å’Œæƒé™éªŒè¯ |

### 8.5 å¯ç”¨æ€§è¦æ±‚

| è¦æ±‚ | è¯´æ˜ |
|------|------|
| ç³»ç»Ÿå¯ç”¨æ€§ | 99.5%ï¼ˆå…è®¸æ¯æœˆ3.6å°æ—¶ç»´æŠ¤æ—¶é—´ï¼‰ |
| é”™è¯¯å¤„ç† | å‹å¥½çš„é”™è¯¯æç¤ºï¼Œé¿å…æŠ€æœ¯æœ¯è¯­ |
| é™çº§ç­–ç•¥ | è®¡ç®—å¤±è´¥æ—¶æ˜¾ç¤ºä¸Šæ¬¡æˆåŠŸç»“æœï¼Œå¹¶æç¤ºç”¨æˆ· |
| å®¹é”™æœºåˆ¶ | éƒ¨åˆ†æ•°æ®ç¼ºå¤±ä¸å½±å“æ•´ä½“åŠŸèƒ½ |
| å¤‡ä»½æ¢å¤ | æ”¯æŒæ•°æ®å¤‡ä»½å’Œå¿«é€Ÿæ¢å¤ |

### 8.6 å…¼å®¹æ€§è¦æ±‚

| ç±»å‹ | è¦æ±‚ |
|------|------|
| æµè§ˆå™¨ | Chrome 90+, Firefox 88+, Safari 14+, Edge 90+ |
| åˆ†è¾¨ç‡ | 1366x768 åŠä»¥ä¸Šï¼ˆæ¡Œé¢ç«¯ï¼‰ |
| ç§»åŠ¨è®¾å¤‡ | iOS 13+, Android 8+ |
| å“åº”å¼è®¾è®¡ | æ”¯æŒæ¡Œé¢ã€å¹³æ¿ã€æ‰‹æœº |

---

## å®æ–½è®¡åˆ’

### 9.1 å¼€å‘é˜¶æ®µ

| é˜¶æ®µ | ä»»åŠ¡ | å·¥æœŸ | è´Ÿè´£äºº | äº¤ä»˜ç‰© |
|------|------|------|--------|--------|
| ç¬¬ä¸€é˜¶æ®µ | æ•°æ®åº“è®¾è®¡ + æ•°æ®æ¨¡å‹å®šä¹‰ | 1å¤© | åç«¯ | è¡¨ç»“æ„SQLã€æ¨¡å‹å®šä¹‰ |
| ç¬¬äºŒé˜¶æ®µ | åç«¯APIå¼€å‘ï¼ˆé…ç½®ç®¡ç†ï¼‰ | 2å¤© | åç«¯ | é…ç½®CRUDæ¥å£ |
| ç¬¬ä¸‰é˜¶æ®µ | ç©ºé—²è®¡ç®—ç®—æ³•å®ç° | 2å¤© | åç«¯ | ç®—æ³•ä»£ç ã€å•å…ƒæµ‹è¯• |
| ç¬¬å››é˜¶æ®µ | åç«¯APIå¼€å‘ï¼ˆæ•°æ®æŸ¥è¯¢ï¼‰ | 2å¤© | åç«¯ | æŸ¥è¯¢ã€ç»Ÿè®¡æ¥å£ |
| ç¬¬äº”é˜¶æ®µ | å®šæ—¶ä»»åŠ¡å¼€å‘ | 1å¤© | åç«¯ | å®šæ—¶ä»»åŠ¡è„šæœ¬ |
| ç¬¬å…­é˜¶æ®µ | å‰ç«¯é¡µé¢æ¡†æ¶æ­å»º | 1å¤© | å‰ç«¯ | è·¯ç”±ã€åŸºç¡€å¸ƒå±€ |
| ç¬¬ä¸ƒé˜¶æ®µ | å‰ç«¯ç­›é€‰å’Œé…ç½®ç»„ä»¶ | 2å¤© | å‰ç«¯ | ç­›é€‰å™¨ã€é…ç½®å¼¹çª— |
| ç¬¬å…«é˜¶æ®µ | å‰ç«¯æ€»è§ˆå’Œè¶‹åŠ¿å›¾è¡¨ | 2å¤© | å‰ç«¯ | å¡ç‰‡ã€EChartså›¾è¡¨ |
| ç¬¬ä¹é˜¶æ®µ | å‰ç«¯è¯¦æƒ…åˆ—è¡¨å’Œå¼¹çª— | 2å¤© | å‰ç«¯ | åˆ—è¡¨ã€è¯¦æƒ…å¼¹çª— |
| ç¬¬åé˜¶æ®µ | å‰åç«¯è”è°ƒ | 2å¤© | å…¨ä½“ | è”è°ƒå®Œæˆ |
| ç¬¬åä¸€é˜¶æ®µ | æµ‹è¯•å’Œä¼˜åŒ– | 2å¤© | æµ‹è¯•+å¼€å‘ | æµ‹è¯•æŠ¥å‘Šã€bugä¿®å¤ |
| ç¬¬åäºŒé˜¶æ®µ | ä¸Šçº¿éƒ¨ç½² | 1å¤© | è¿ç»´+å¼€å‘ | éƒ¨ç½²æ–‡æ¡£ã€ä¸Šçº¿ |

**æ€»è®¡**: 20ä¸ªå·¥ä½œæ—¥ï¼ˆçº¦4å‘¨ï¼‰

### 9.2 è¯¦ç»†ä»»åŠ¡åˆ†è§£

#### 9.2.1 åç«¯ä»»åŠ¡ï¼ˆ8å¤©ï¼‰

**ç¬¬ä¸€å¤©ï¼šæ•°æ®åº“è®¾è®¡**
- [ ] è®¾è®¡3ä¸ªæ ¸å¿ƒè¡¨ç»“æ„
- [ ] ç¼–å†™å»ºè¡¨SQLè„šæœ¬
- [ ] å®šä¹‰SQLAlchemyæ¨¡å‹
- [ ] åˆ›å»ºæ•°æ®åº“ç´¢å¼•
- [ ] ç¼–å†™æ¨¡å‹å•å…ƒæµ‹è¯•

**ç¬¬äºŒ-ä¸‰å¤©ï¼šé…ç½®ç®¡ç†API**
- [ ] å®ç°è·å–é…ç½®æ¥å£
- [ ] å®ç°åˆ›å»º/æ›´æ–°é…ç½®æ¥å£
- [ ] å®ç°é…ç½®å†å²æŸ¥è¯¢æ¥å£
- [ ] å®ç°é…ç½®æ ¡éªŒé€»è¾‘
- [ ] ç¼–å†™æ¥å£å•å…ƒæµ‹è¯•

**ç¬¬å››-äº”å¤©ï¼šç©ºé—²è®¡ç®—ç®—æ³•**
- [ ] å®ç°è¡Œä¸ºè®°å½•è¿‡æ»¤
- [ ] å®ç°æ—¶æ®µè¯†åˆ«ç®—æ³•
- [ ] å®ç°ä¸Šç­æ—¶é—´åˆ¤å®š
- [ ] å®ç°èŠ‚å‡æ—¥æ’é™¤é€»è¾‘
- [ ] ç¼–å†™ç®—æ³•å•å…ƒæµ‹è¯•
- [ ] æ€§èƒ½ä¼˜åŒ–

**ç¬¬å…­-ä¸ƒå¤©ï¼šæ•°æ®æŸ¥è¯¢API**
- [ ] å®ç°æ€»è§ˆæ•°æ®æ¥å£
- [ ] å®ç°è¯¦æƒ…åˆ—è¡¨æ¥å£
- [ ] å®ç°å‚¬å‘˜è¯¦æƒ…æ¥å£
- [ ] å®ç°è¶‹åŠ¿æ•°æ®æ¥å£
- [ ] å®ç°å¯¼å‡ºExcelæ¥å£
- [ ] ç¼–å†™æ¥å£å•å…ƒæµ‹è¯•

**ç¬¬å…«å¤©ï¼šå®šæ—¶ä»»åŠ¡**
- [ ] å®ç°å®šæ—¶ä»»åŠ¡æ¡†æ¶
- [ ] å®ç°ç©ºé—²æ•°æ®è®¡ç®—ä»»åŠ¡
- [ ] å®ç°ä»»åŠ¡ç›‘æ§å’Œå‘Šè­¦
- [ ] å®ç°ä»»åŠ¡å¤±è´¥é‡è¯•
- [ ] ç¼–å†™ä»»åŠ¡æµ‹è¯•

#### 9.2.2 å‰ç«¯ä»»åŠ¡ï¼ˆ7å¤©ï¼‰

**ç¬¬ä¸€å¤©ï¼šé¡µé¢æ¡†æ¶**
- [ ] åˆ›å»ºè·¯ç”±é…ç½®
- [ ] åˆ›å»ºé¡µé¢åŸºç¡€å¸ƒå±€
- [ ] åˆ›å»ºAPIå®¢æˆ·ç«¯å°è£…
- [ ] è®¾ç½®çŠ¶æ€ç®¡ç†
- [ ] åˆ›å»ºé€šç”¨ç»„ä»¶

**ç¬¬äºŒ-ä¸‰å¤©ï¼šç­›é€‰å’Œé…ç½®**
- [ ] å®ç°æœºæ„ç­›é€‰å™¨
- [ ] å®ç°å°ç»„ç­›é€‰å™¨
- [ ] å®ç°å‚¬å‘˜æœç´¢æ¡†
- [ ] å®ç°æ—¥æœŸé€‰æ‹©å™¨
- [ ] å®ç°ç©ºé—²é…ç½®å¼¹çª—
- [ ] å®ç°é…ç½®è¡¨å•æ ¡éªŒ
- [ ] å®ç°é…ç½®å†å²æŸ¥çœ‹

**ç¬¬å››-äº”å¤©ï¼šæ€»è§ˆå’Œå›¾è¡¨**
- [ ] å®ç°æ ¸å¿ƒæŒ‡æ ‡å¡ç‰‡
- [ ] å®ç°ç¯æ¯”è®¡ç®—å’Œæ˜¾ç¤º
- [ ] é›†æˆEChartsåº“
- [ ] å®ç°è¶‹åŠ¿æŠ˜çº¿å›¾
- [ ] å®ç°å›¾è¡¨äº¤äº’
- [ ] å®ç°æ•°æ®åˆ·æ–°

**ç¬¬å…­-ä¸ƒå¤©ï¼šè¯¦æƒ…åˆ—è¡¨å’Œå¼¹çª—**
- [ ] å®ç°è¯¦æƒ…è¡¨æ ¼ç»„ä»¶
- [ ] å®ç°åˆ†é¡µå’Œæ’åº
- [ ] å®ç°è¡Œå±•å¼€åŠŸèƒ½
- [ ] å®ç°è¯¦æƒ…å¼¹çª—
- [ ] å®ç°æ—¶é—´è½´å¯è§†åŒ–
- [ ] å®ç°å¯¼å‡ºåŠŸèƒ½
- [ ] å“åº”å¼é€‚é…

#### 9.2.3 è”è°ƒæµ‹è¯•ï¼ˆ2å¤©ï¼‰

**ç¬¬ä¸€å¤©ï¼šåŠŸèƒ½è”è°ƒ**
- [ ] ç­›é€‰åŠŸèƒ½è”è°ƒ
- [ ] é…ç½®åŠŸèƒ½è”è°ƒ
- [ ] æ•°æ®å±•ç¤ºè”è°ƒ
- [ ] è¯¦æƒ…æŸ¥çœ‹è”è°ƒ
- [ ] å¯¼å‡ºåŠŸèƒ½è”è°ƒ

**ç¬¬äºŒå¤©ï¼šæ€§èƒ½æµ‹è¯•**
- [ ] é¡µé¢åŠ è½½æ€§èƒ½æµ‹è¯•
- [ ] æ¥å£å“åº”æ—¶é—´æµ‹è¯•
- [ ] å¤§æ•°æ®é‡æµ‹è¯•
- [ ] å¹¶å‘è®¿é—®æµ‹è¯•
- [ ] ä¼˜åŒ–æ€§èƒ½ç“¶é¢ˆ

#### 9.2.4 æµ‹è¯•ä¼˜åŒ–ï¼ˆ2å¤©ï¼‰

**ç¬¬ä¸€å¤©ï¼šåŠŸèƒ½æµ‹è¯•**
- [ ] åŠŸèƒ½å®Œæ•´æ€§æµ‹è¯•
- [ ] è¾¹ç•Œæ¡ä»¶æµ‹è¯•
- [ ] å¼‚å¸¸åœºæ™¯æµ‹è¯•
- [ ] æƒé™æ§åˆ¶æµ‹è¯•
- [ ] æ•°æ®å‡†ç¡®æ€§æµ‹è¯•

**ç¬¬äºŒå¤©ï¼šBugä¿®å¤å’Œä¼˜åŒ–**
- [ ] ä¿®å¤å‘ç°çš„Bug
- [ ] UI/UXä¼˜åŒ–
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] ä»£ç å®¡æŸ¥
- [ ] æ–‡æ¡£å®Œå–„

### 9.3 é‡Œç¨‹ç¢‘

| é‡Œç¨‹ç¢‘ | æ—¥æœŸ | äº¤ä»˜ç‰© | éªŒæ”¶æ ‡å‡† |
|--------|------|--------|----------|
| M1: æ•°æ®åº“å’Œæ¨¡å‹å®Œæˆ | D+1 | æ•°æ®åº“è¡¨ã€æ•°æ®æ¨¡å‹ã€å»ºè¡¨è„šæœ¬ | è¡¨ç»“æ„è¯„å®¡é€šè¿‡ |
| M2: åç«¯é…ç½®APIå®Œæˆ | D+3 | é…ç½®ç®¡ç†æ¥å£ | Postmanæµ‹è¯•é€šè¿‡ |
| M3: åç«¯è®¡ç®—ç®—æ³•å®Œæˆ | D+5 | ç©ºé—²è¯†åˆ«ç®—æ³•ã€å•å…ƒæµ‹è¯• | ç®—æ³•æµ‹è¯•é€šè¿‡ï¼Œå‡†ç¡®ç‡>99% |
| M4: åç«¯æŸ¥è¯¢APIå®Œæˆ | D+7 | æ•°æ®æŸ¥è¯¢æ¥å£ | APIæ–‡æ¡£ã€Postmanæµ‹è¯•é€šè¿‡ |
| M5: åç«¯å®šæ—¶ä»»åŠ¡å®Œæˆ | D+8 | å®šæ—¶ä»»åŠ¡ | ä»»åŠ¡æ­£å¸¸è¿è¡Œ |
| M6: å‰ç«¯é¡µé¢æ¡†æ¶å®Œæˆ | D+9 | è·¯ç”±ã€å¸ƒå±€ã€APIå°è£… | é¡µé¢å¯è®¿é—® |
| M7: å‰ç«¯ç­›é€‰é…ç½®å®Œæˆ | D+11 | ç­›é€‰å™¨ã€é…ç½®å¼¹çª— | UIè¯„å®¡é€šè¿‡ |
| M8: å‰ç«¯æ€»è§ˆå›¾è¡¨å®Œæˆ | D+13 | æŒ‡æ ‡å¡ç‰‡ã€è¶‹åŠ¿å›¾ | UIè¯„å®¡é€šè¿‡ |
| M9: å‰ç«¯è¯¦æƒ…åŠŸèƒ½å®Œæˆ | D+15 | è¯¦æƒ…åˆ—è¡¨ã€å¼¹çª— | UIè¯„å®¡é€šè¿‡ |
| M10: å‰åç«¯è”è°ƒå®Œæˆ | D+17 | å®Œæ•´åŠŸèƒ½æµç¨‹ | åŠŸèƒ½æµç¨‹èµ°é€š |
| M11: æµ‹è¯•å®Œæˆ | D+19 | æµ‹è¯•æŠ¥å‘Šã€bugä¿®å¤ | æµ‹è¯•ç”¨ä¾‹100%é€šè¿‡ |
| M12: ä¸Šçº¿ | D+20 | ç”Ÿäº§ç¯å¢ƒéƒ¨ç½² | æ­£å¸¸è¿è¡Œ24å°æ—¶æ— æ•…éšœ |

### 9.4 é£é™©ç®¡ç†

| é£é™© | å½±å“ | æ¦‚ç‡ | åº”å¯¹æªæ–½ |
|------|------|------|----------|
| è¡Œä¸ºæ•°æ®ä¸å®Œæ•´æˆ–ä¸å‡†ç¡® | é«˜ | ä¸­ | 1. æå‰ç¡®è®¤æ•°æ®æºå’Œæ•°æ®è´¨é‡<br/>2. è®¾è®¡å®¹é”™æœºåˆ¶<br/>3. è¡¥å……æ•°æ®é‡‡é›†ç‚¹ |
| ç®—æ³•å¤æ‚åº¦è¶…é¢„æœŸ | ä¸­ | ä¸­ | 1. æå‰æŠ€æœ¯é¢„ç ”<br/>2. åˆ†æ­¥å®ç°ï¼Œå…ˆç®€å•åå¤æ‚<br/>3. å‡†å¤‡é™çº§æ–¹æ¡ˆ |
| æ€§èƒ½é—®é¢˜ï¼ˆå¤§æ•°æ®é‡ï¼‰ | é«˜ | ä¸­ | 1. ä½¿ç”¨é¢„è®¡ç®—ç»Ÿè®¡è¡¨<br/>2. æ·»åŠ åˆé€‚çš„æ•°æ®åº“ç´¢å¼•<br/>3. å®ç°æ•°æ®åˆ†é¡µå’Œç¼“å­˜ |
| éœ€æ±‚ç†è§£åå·® | ä¸­ | ä½ | 1. PRDè¯„å®¡ç¡®è®¤<br/>2. åŸå‹è®¾è®¡è¯„å®¡<br/>3. è¿­ä»£å¼å¼€å‘ |
| èµ„æºä¸è¶³ï¼ˆäººåŠ›ï¼‰ | é«˜ | ä½ | 1. æå‰åè°ƒèµ„æº<br/>2. ä¼˜å…ˆä¿è¯æ ¸å¿ƒåŠŸèƒ½<br/>3. åˆ¶å®šå¤‡ç”¨æ–¹æ¡ˆ |
| ç¬¬ä¸‰æ–¹ä¾èµ–é—®é¢˜ï¼ˆèŠ‚å‡æ—¥APIï¼‰ | ä½ | ä½ | 1. é€‰æ‹©ç¨³å®šçš„ç¬¬ä¸‰æ–¹æœåŠ¡<br/>2. å®ç°æœ¬åœ°ç¼“å­˜<br/>3. æä¾›æ‰‹åŠ¨é…ç½®å¤‡é€‰ |
| æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜ | ä¸­ | ä½ | 1. ä½¿ç”¨æˆç†Ÿçš„UIæ¡†æ¶<br/>2. å……åˆ†çš„å…¼å®¹æ€§æµ‹è¯•<br/>3. æä¾›æµè§ˆå™¨å‡çº§æç¤º |

### 9.5 ä¾èµ–å…³ç³»

**å¤–éƒ¨ä¾èµ–**ï¼š
- è¡Œä¸ºè®°å½•æ•°æ®ï¼ˆé€šä¿¡è®°å½•ã€æ¡ˆä»¶æ“ä½œè®°å½•ç­‰ï¼‰
- å‚¬å‘˜åŸºæœ¬ä¿¡æ¯
- æœºæ„å’Œå°ç»„æ•°æ®
- æ¡ˆä»¶æ•°æ®ï¼ˆç”¨äºæ¡ˆä»¶ç®¡ç†æƒ…å†µç»Ÿè®¡ï¼‰
- èŠ‚å‡æ—¥æ•°æ®ï¼ˆå¯é€‰ï¼‰

**å†…éƒ¨ä¾èµ–**ï¼š
- ç”¨æˆ·æƒé™ç³»ç»Ÿ
- æ•°æ®çœ‹æ¿èœå•ï¼ˆéœ€è¦æ·»åŠ å…¥å£ï¼‰
- APIè®¤è¯ç³»ç»Ÿ

---

## é™„å½•

### A. æœ¯è¯­è¡¨

| æœ¯è¯­ | è¯´æ˜ |
|------|------|
| ç©ºé—² | åœ¨è§„å®šæ—¶é—´æ®µå†…ï¼Œæœªå‘ç”Ÿä»»ä½•ç›‘æ§è¡Œä¸ºçš„æ—¶æ®µ |
| ç›‘æ§è¡Œä¸º | ç”¨äºåˆ¤å®šå‚¬å‘˜æ˜¯å¦å¤„äºå·¥ä½œçŠ¶æ€çš„è¡Œä¸ºç±»å‹ |
| ç©ºé—²é˜ˆå€¼ | åˆ¤å®šä¸ºç©ºé—²çš„æœ€å°æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰ |
| ä¸Šç­æ—¶é—´æ®µ | éœ€è¦ç›‘æ§çš„å·¥ä½œæ—¶é—´èŒƒå›´ |
| ç©ºé—²ç‡ | ç©ºé—²æ—¶é•¿å å·¥ä½œæ—¶é•¿çš„æ¯”ä¾‹ |
| T+1 | æ•°æ®æ»åä¸€å¤©ï¼Œå³æ¬¡æ—¥æŸ¥çœ‹å‰ä¸€æ—¥æ•°æ® |
| ç¯æ¯” | ä¸ä¸Šä¸€ä¸ªæ—¶é—´å‘¨æœŸçš„å¯¹æ¯” |
| æ—¶é—´è½´ | å¯è§†åŒ–å±•ç¤ºç©ºé—²æ—¶æ®µçš„æ—¶é—´çº¿ |
| ä¸Šä¸‹æ–‡è¡Œä¸º | ç©ºé—²æ—¶æ®µå‰åå‘ç”Ÿçš„è¡Œä¸ºè®°å½• |

### B. é…ç½®ç¤ºä¾‹

**ç¤ºä¾‹1ï¼šæ ‡å‡†é…ç½®ï¼ˆé€‚ç”¨äºæ­£å¸¸å·¥ä½œå¼ºåº¦ï¼‰**
```json
{
  "config_name": "æ ‡å‡†å·¥ä½œæ—¥è§„åˆ™",
  "work_time_slots": [
    {"start": "09:00", "end": "12:00"},
    {"start": "14:00", "end": "18:00"}
  ],
  "idle_threshold_minutes": 30,
  "monitored_actions": [
    "call",
    "whatsapp",
    "sms",
    "case_update"
  ],
  "exclude_holidays": true
}
```

**ç¤ºä¾‹2ï¼šä¸¥æ ¼é…ç½®ï¼ˆé€‚ç”¨äºé«˜å¼ºåº¦å·¥ä½œè¦æ±‚ï¼‰**
```json
{
  "config_name": "ä¸¥æ ¼ç›‘æ§è§„åˆ™",
  "work_time_slots": [
    {"start": "08:30", "end": "12:00"},
    {"start": "13:30", "end": "18:30"}
  ],
  "idle_threshold_minutes": 15,
  "monitored_actions": [
    "call",
    "whatsapp",
    "rcs",
    "sms",
    "email",
    "case_update",
    "login"
  ],
  "exclude_holidays": true
}
```

**ç¤ºä¾‹3ï¼šå®½æ¾é…ç½®ï¼ˆé€‚ç”¨äºçµæ´»å·¥ä½œåˆ¶ï¼‰**
```json
{
  "config_name": "çµæ´»å·¥ä½œè§„åˆ™",
  "work_time_slots": [
    {"start": "09:00", "end": "18:00"}
  ],
  "idle_threshold_minutes": 60,
  "monitored_actions": [
    "call",
    "whatsapp",
    "case_update"
  ],
  "exclude_holidays": true
}
```

### C. æ•°æ®ç¤ºä¾‹

**ç©ºé—²è®°å½•ç¤ºä¾‹**ï¼š
```json
{
  "collector_id": 5001,
  "collector_name": "å¼ ä¸‰",
  "collector_code": "C001",
  "idle_date": "2025-11-20",
  "idle_periods": [
    {
      "start_time": "2025-11-20 09:15:00",
      "end_time": "2025-11-20 09:52:00",
      "duration_minutes": 37,
      "before_action": {
        "type": "call",
        "time": "2025-11-20 09:14:55",
        "details": "æ‹¨æ‰“ç”µè¯ç»™å®¢æˆ·XXX"
      },
      "after_action": {
        "type": "login",
        "time": "2025-11-20 09:52:03",
        "details": "ç™»å½•ç³»ç»Ÿ"
      }
    },
    {
      "start_time": "2025-11-20 14:20:00",
      "end_time": "2025-11-20 15:05:00",
      "duration_minutes": 45,
      "before_action": {
        "type": "sms",
        "time": "2025-11-20 14:19:30",
        "details": "å‘é€SMSç»™å®¢æˆ·YYY"
      },
      "after_action": {
        "type": "call",
        "time": "2025-11-20 15:05:12",
        "details": "æ‹¨æ‰“ç”µè¯ç»™å®¢æˆ·ZZZ"
      }
    }
  ],
  "summary": {
    "idle_count": 2,
    "total_idle_minutes": 82,
    "avg_idle_minutes": 41,
    "work_minutes": 480,
    "idle_rate": 0.171
  }
}
```

### D. å¸¸è§é—®é¢˜

**Q1: å¦‚æœå‚¬å‘˜åœ¨ç©ºé—²æ—¶æ®µå®é™…åœ¨å·¥ä½œï¼ˆå¦‚çº¿ä¸‹æ‹œè®¿ï¼‰ï¼Œæ€ä¹ˆåŠï¼Ÿ**
A: ç³»ç»Ÿæä¾›å¤‡æ³¨åŠŸèƒ½ï¼Œå‚¬å‘˜å¯ä»¥ä¸ºç©ºé—²æ—¶æ®µæ·»åŠ è¯´æ˜ã€‚ç®¡ç†å‘˜ä¹Ÿå¯ä»¥æ‰‹åŠ¨è°ƒæ•´æˆ–æ’é™¤ç‰¹å®šæ—¶æ®µã€‚

**Q2: ç©ºé—²é˜ˆå€¼å¦‚ä½•è®¾ç½®æ‰åˆç†ï¼Ÿ**
A: å»ºè®®æ ¹æ®å®é™…å·¥ä½œåœºæ™¯è°ƒæ•´ï¼š
- é«˜é¢‘å¤–å‘¼åœºæ™¯ï¼š15-20åˆ†é’Ÿ
- æ­£å¸¸å·¥ä½œåœºæ™¯ï¼š30åˆ†é’Ÿ
- çµæ´»å·¥ä½œåœºæ™¯ï¼š60åˆ†é’Ÿ

**Q3: ç³»ç»Ÿæ”¯æŒå®æ—¶ç›‘æ§å—ï¼Ÿ**
A: å½“å‰ç‰ˆæœ¬æ˜¯T+1æ¨¡å¼ï¼ˆæ¬¡æ—¥æŸ¥çœ‹å‰ä¸€æ—¥æ•°æ®ï¼‰ã€‚å¦‚éœ€å®æ—¶ç›‘æ§ï¼Œéœ€è¦é¢å¤–å¼€å‘å®æ—¶è®¡ç®—æ¨¡å—ã€‚

**Q4: å¯ä»¥æŒ‰ä¸åŒæœºæ„é…ç½®ä¸åŒçš„ç©ºé—²è§„åˆ™å—ï¼Ÿ**
A: å½“å‰ç‰ˆæœ¬æŒ‰ç”²æ–¹ç»´åº¦é…ç½®ã€‚å¦‚éœ€æŒ‰æœºæ„ç»´åº¦é…ç½®ï¼Œéœ€è¦æ‰©å±•é…ç½®è¡¨ç»“æ„ã€‚

**Q5: å¯¼å‡ºçš„ExcelåŒ…å«å“ªäº›æ•°æ®ï¼Ÿ**
A: åŒ…å«ä¸¤ä¸ªSheetï¼š
- Sheet1: ç©ºé—²å‚¬å‘˜åˆ—è¡¨ï¼ˆæ‰€æœ‰åˆ—è¡¨å­—æ®µï¼‰
- Sheet2: ç©ºé—²æ—¶æ®µæ˜ç»†ï¼ˆæ¯ä¸ªç©ºé—²æ—¶æ®µçš„è¯¦ç»†ä¿¡æ¯ï¼‰

### E. æ›´æ–°è®°å½•

| ç‰ˆæœ¬ | æ—¥æœŸ | æ›´æ–°å†…å®¹ | æ›´æ–°äºº |
|------|------|----------|--------|
| V1.0 | 2025-11-20 | åˆå§‹ç‰ˆæœ¬ï¼Œå®Œæ•´PRDæ–‡æ¡£ | CCOå¼€å‘å›¢é˜Ÿ |

---

## æ€»ç»“

æœ¬PRDæ–‡æ¡£è¯¦ç»†æè¿°äº†CCOç³»ç»Ÿ"ç©ºé—²å‚¬å‘˜ç›‘æ§çœ‹æ¿"çš„å®Œæ•´éœ€æ±‚ï¼Œæ¶µç›–ï¼š

### æ ¸å¿ƒåŠŸèƒ½

1. **çµæ´»é…ç½®**ï¼šæ”¯æŒè‡ªå®šä¹‰ç©ºé—²å®šä¹‰è§„åˆ™
   - ä¸Šç­æ—¶é—´æ®µé…ç½®
   - ç©ºé—²é˜ˆå€¼è®¾ç½®
   - ç›‘æ§è¡Œä¸ºé€‰æ‹©

2. **å¤šç»´ç­›é€‰**ï¼šæ”¯æŒæŒ‰å¤šä¸ªç»´åº¦æŸ¥è¯¢
   - æœºæ„ã€å°ç»„ã€å‚¬å‘˜ç­›é€‰
   - å•æ—¥/èŒƒå›´æ—¥æœŸé€‰æ‹©
   - ç»„åˆç­›é€‰æ¡ä»¶

3. **æ•°æ®æ€»è§ˆ**ï¼šæ ¸å¿ƒæŒ‡æ ‡ä¸€ç›®äº†ç„¶
   - 4ä¸ªæ ¸å¿ƒæŒ‡æ ‡å¡ç‰‡
   - ç¯æ¯”å˜åŒ–è¶‹åŠ¿
   - è¶‹åŠ¿å›¾è¡¨å±•ç¤º

4. **è¯¦æƒ…é’»å–**ï¼šæ·±å…¥äº†è§£ç©ºé—²æƒ…å†µ
   - å‚¬å‘˜ç©ºé—²æ˜ç»†åˆ—è¡¨
   - æ¡ˆä»¶ç®¡ç†æƒ…å†µå…³è”
   - ç©ºé—²æ—¶æ®µæ—¶é—´è½´å¯è§†åŒ–
   - ä¸Šä¸‹æ–‡è¡Œä¸ºè®°å½•

5. **æ™ºèƒ½è®¡ç®—**ï¼šè‡ªåŠ¨è¯†åˆ«ç©ºé—²æ—¶æ®µ
   - åŸºäºé…ç½®è§„åˆ™è‡ªåŠ¨è®¡ç®—
   - T+1æ•°æ®æ›´æ–°
   - å‡†ç¡®çš„ç©ºé—²è¯†åˆ«ç®—æ³•

### æŠ€æœ¯äº®ç‚¹

- **æ™ºèƒ½ç®—æ³•**ï¼šç²¾å‡†çš„ç©ºé—²è¯†åˆ«ç®—æ³•ï¼Œå‡†ç¡®ç‡>99%
- **æ€§èƒ½ä¼˜åŒ–**ï¼šé¢„è®¡ç®—ç»Ÿè®¡è¡¨ï¼ŒæŸ¥è¯¢å“åº”<1ç§’
- **å¯è§†åŒ–**ï¼šEChartså›¾è¡¨å’Œæ—¶é—´è½´ï¼Œç›´è§‚å±•ç¤ºæ•°æ®
- **å“åº”å¼è®¾è®¡**ï¼šæ”¯æŒæ¡Œé¢ã€å¹³æ¿ã€æ‰‹æœºå¤šç«¯è®¿é—®
- **æ•°æ®å¯¼å‡º**ï¼šæ”¯æŒExcelå¯¼å‡ºï¼Œæ–¹ä¾¿äºŒæ¬¡åˆ†æ

### å®æ–½ä»·å€¼

- âœ… å¸®åŠ©ç®¡ç†å±‚å®æ—¶æŒæ¡å›¢é˜Ÿå·¥ä½œçŠ¶æ€
- âœ… åŠæ—¶å‘ç°å’Œå¤„ç†å‚¬å‘˜ç©ºé—²é—®é¢˜
- âœ… ä¼˜åŒ–äººåŠ›èµ„æºé…ç½®å’Œå·¥ä½œå®‰æ’
- âœ… æå‡æ•´ä½“å‚¬æ”¶æ•ˆç‡å’Œå›¢é˜Ÿç®¡ç†æ°´å¹³
- âœ… ä¸ºç»©æ•ˆè€ƒæ ¸æä¾›å®¢è§‚æ•°æ®æ”¯æ’‘

---

**æ–‡æ¡£çŠ¶æ€**ï¼šå·²å®Œæˆ
**ä¸‹ä¸€æ­¥è¡ŒåŠ¨**ï¼šè¿›å…¥å¼€å‘å®æ–½é˜¶æ®µ

