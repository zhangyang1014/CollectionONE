# 催员端：时区显示 PRD

## 一、需求背景

催员和客户可能处于不同的时区，为了方便催员了解双方的当前时间，避免在不合适的时间联系客户，需要在催员端同时显示催员所在时区和客户所在时区的当前时间。

## 二、核心概念

- **我的时区**：催员所在机构的时区
- **客户时区**：甲方（客户）所在的时区

## 三、功能说明

### 3.1 显示位置
在催员端界面顶部的基础信息展示区域，显示两个时区信息。

### 3.2 显示内容

```
⏰ 我的时区：19:56:10  CST
⏰ 客户时区：19:56:10  CST
```

每个时区显示包含：
- 时区标签（"我的时区" / "客户时区"）
- 当前时间（HH:mm:ss 格式）
- 时区缩写（如 CST、EST、PST 等），或者显示为+8，-1这样也可以。

### 3.3 显示规则

1. **时间格式**：24小时制，HH:mm:ss
2. **时区标识**：显示标准时区缩写
3. **实时更新**：时间每秒自动更新
4. **并排显示**：两个时区信息水平排列

## 四、数据来源

### 4.1 我的时区
- 来源：从催员登录信息中获取机构所属时区
- 优先级：机构配置 > 系统默认时区

### 4.2 客户时区
- 来源：从当前选中的案件/客户信息中获取甲方所属时区
- 优先级：甲方配置 > 客户默认时区 > 系统默认时区

## 五、交互说明

### 5.1 常规状态
- 静态显示，无交互
- 时间自动刷新（每秒）

### 5.2 特殊情况
- 未选择客户时：客户时区显示 "--:--:--  ---"
- 时区信息缺失时：使用系统默认时区（UTC+8）

## 六、技术要点

### 6.1 前端实现
```typescript
// 时区配置
interface TimeZoneConfig {
  myTimezone: string      // 我的时区，如 'Asia/Shanghai'
  clientTimezone: string  // 客户时区，如 'America/New_York'
}

// 时间显示格式
const timeFormat = 'HH:mm:ss'
const timezoneFormat = 'zzz'  // 时区缩写
```

### 6.2 数据接口
- 从用户登录信息获取机构时区
- 从案件/客户详情接口获取客户时区
- 支持动态切换（当切换不同客户时）

### 6.3 性能优化
- 使用浏览器本地时间计算，减少服务器请求
- 定时器每秒更新一次
- 组件卸载时清理定时器

## 七、视觉规范

### 7.1 样式要求
- 字体大小：14px
- 颜色：主文本色
- 间距：两个时区之间间距 40px
- 图标：使用时钟图标（可选）

### 7.2 响应式
- 小屏幕时考虑垂直排列
- 确保时间显示完整不截断

## 八、验收标准

- [ ] 登录后正确显示催员所在机构的时区时间
- [ ] 选择客户后正确显示客户所在时区时间
- [ ] 时间每秒自动更新
- [ ] 时区缩写显示正确（如 CST、EST 等）
- [ ] 切换不同客户时，客户时区能动态更新
- [ ] 未选择客户时，客户时区显示占位符
- [ ] 时区信息显示清晰，易于区分

## 九、后续优化

1. 悬浮提示显示完整时区名称
2. 支持时区差异提醒（如：客户时区比我的时区晚 X 小时）
3. 支持自定义时间格式偏好设置
4. 添加"工作时间"标识，提醒催员避免非工作时间打扰客户

---

**文档版本**：v1.0  
**创建日期**：2025-12-04  
**最后更新**：2025-12-04

