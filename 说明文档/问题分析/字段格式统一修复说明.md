# å­—æ®µæ ¼å¼ç»Ÿä¸€ä¿®å¤è¯´æ˜

**ä¿®å¤æ—¥æœŸ**: 2025-11-25  
**çŠ¶æ€**: âœ… å·²å®Œæˆ

---

## ğŸ“‹ é—®é¢˜æ¦‚è¿°

å‰ç«¯ä»£ç æœŸæœ›æ‰€æœ‰APIè¿”å›çš„å­—æ®µåä½¿ç”¨**ä¸‹åˆ’çº¿æ ¼å¼ï¼ˆsnake_caseï¼‰**ï¼Œä½†Javaåç«¯å¾ˆå¤šControllerè¿”å›çš„æ˜¯**é©¼å³°æ ¼å¼ï¼ˆcamelCaseï¼‰**ï¼Œå¯¼è‡´å‰ç«¯æ— æ³•æ­£ç¡®è¯»å–å­—æ®µæ•°æ®ã€‚

### é—®é¢˜è¡¨ç°
- å­—æ®µæ˜ å°„é…ç½®é¡µé¢æ˜¾ç¤º"æ²¡æœ‰å­—æ®µå†…å®¹"
- è¡¨æ ¼åˆ—æ— æ³•æ˜¾ç¤ºæ•°æ®
- å­—æ®µåç§°ã€å­—æ®µæ ‡è¯†ç­‰å±æ€§æ— æ³•è¯»å–

---

## âœ… å·²ä¿®å¤çš„Controller

### 1. StandardFieldControllerï¼ˆæ ‡å‡†å­—æ®µï¼‰
**ä¿®å¤çš„æ–¹æ³•**:
- `getStandardFields` - è·å–æ ‡å‡†å­—æ®µåˆ—è¡¨
- `getStandardField` - è·å–æ ‡å‡†å­—æ®µè¯¦æƒ…
- `createStandardField` - åˆ›å»ºæ ‡å‡†å­—æ®µ
- `updateStandardField` - æ›´æ–°æ ‡å‡†å­—æ®µ

**ä¿®å¤çš„å­—æ®µ**:
- `fieldKey` â†’ `field_key`
- `fieldName` â†’ `field_name`
- `fieldNameEn` â†’ `field_name_en`
- `fieldType` â†’ `field_type`
- `fieldGroupId` â†’ `field_group_id`
- `isRequired` â†’ `is_required`
- `isExtended` â†’ `is_extended`
- `exampleValue` â†’ `example_value`
- `sortOrder` â†’ `sort_order`
- `isActive` â†’ `is_active`

---

### 2. CustomFieldControllerï¼ˆè‡ªå®šä¹‰å­—æ®µï¼‰
**ä¿®å¤çš„æ–¹æ³•**:
- `getCustomFields` - è·å–è‡ªå®šä¹‰å­—æ®µåˆ—è¡¨
- `getCustomField` - è·å–è‡ªå®šä¹‰å­—æ®µè¯¦æƒ…
- `createCustomField` - åˆ›å»ºè‡ªå®šä¹‰å­—æ®µ
- `updateCustomField` - æ›´æ–°è‡ªå®šä¹‰å­—æ®µ

**ä¿®å¤çš„å­—æ®µ**:
- `tenantId` â†’ `tenant_id`
- `fieldKey` â†’ `field_key`
- `fieldName` â†’ `field_name`
- `fieldNameEn` â†’ `field_name_en`
- `fieldType` â†’ `field_type`
- `fieldGroupId` â†’ `field_group_id`
- `isRequired` â†’ `is_required`
- `isExtended` â†’ `is_extended`
- `exampleValue` â†’ `example_value`
- `sortOrder` â†’ `sort_order`
- `isActive` â†’ `is_active`
- `createdAt` â†’ `created_at`
- `updatedAt` â†’ `updated_at`

---

### 3. FieldGroupControllerï¼ˆå­—æ®µåˆ†ç»„ï¼‰
**ä¿®å¤çš„æ–¹æ³•**:
- `getFieldGroups` - è·å–å­—æ®µåˆ†ç»„åˆ—è¡¨
- `getFieldGroup` - è·å–å­—æ®µåˆ†ç»„è¯¦æƒ…
- `createFieldGroup` - åˆ›å»ºå­—æ®µåˆ†ç»„
- `updateFieldGroup` - æ›´æ–°å­—æ®µåˆ†ç»„

**ä¿®å¤çš„å­—æ®µ**:
- `groupKey` â†’ `group_key`
- `groupName` â†’ `group_name`
- `groupNameEn` â†’ `group_name_en`
- `parentId` â†’ `parent_id`
- `sortOrder` â†’ `sort_order`
- `isActive` â†’ `is_active`
- `createdAt` â†’ `created_at`
- `updatedAt` â†’ `updated_at`

---

### 4. TenantControllerï¼ˆç”²æ–¹ç®¡ç†ï¼‰
**ä¿®å¤çš„æ–¹æ³•**:
- `getTenants` - è·å–ç”²æ–¹åˆ—è¡¨
- `getTenant` - è·å–ç”²æ–¹è¯¦æƒ…
- `createTenant` - åˆ›å»ºç”²æ–¹
- `updateTenant` - æ›´æ–°ç”²æ–¹
- `getUnmappedTenantFields` - è·å–æœªæ˜ å°„å­—æ®µ

**ä¿®å¤çš„å­—æ®µ**:
- `tenantCode` â†’ `tenant_code`
- `tenantName` â†’ `tenant_name`
- `tenantNameEn` â†’ `tenant_name_en`
- `countryCode` â†’ `country_code`
- `currencyCode` â†’ `currency_code`
- `isActive` â†’ `is_active`
- `createdAt` â†’ `created_at`
- `updatedAt` â†’ `updated_at`
- `fieldKey` â†’ `field_key`ï¼ˆåœ¨æœªæ˜ å°„å­—æ®µä¸­ï¼‰
- `fieldName` â†’ `field_name`ï¼ˆåœ¨æœªæ˜ å°„å­—æ®µä¸­ï¼‰
- `fieldNameEn` â†’ `field_name_en`ï¼ˆåœ¨æœªæ˜ å°„å­—æ®µä¸­ï¼‰
- `fieldType` â†’ `field_type`ï¼ˆåœ¨æœªæ˜ å°„å­—æ®µä¸­ï¼‰
- `fieldGroupId` â†’ `field_group_id`ï¼ˆåœ¨æœªæ˜ å°„å­—æ®µä¸­ï¼‰
- `isRequired` â†’ `is_required`ï¼ˆåœ¨æœªæ˜ å°„å­—æ®µä¸­ï¼‰
- `isExtended` â†’ `is_extended`ï¼ˆåœ¨æœªæ˜ å°„å­—æ®µä¸­ï¼‰

---

## ğŸ“Š å­—æ®µæ ¼å¼å¯¹ç…§è¡¨

| é©¼å³°æ ¼å¼ï¼ˆé”™è¯¯ï¼‰ | ä¸‹åˆ’çº¿æ ¼å¼ï¼ˆæ­£ç¡®ï¼‰ | è¯´æ˜ |
|----------------|------------------|------|
| `fieldKey` | `field_key` | å­—æ®µæ ‡è¯† |
| `fieldName` | `field_name` | å­—æ®µåç§° |
| `fieldNameEn` | `field_name_en` | å­—æ®µè‹±æ–‡åç§° |
| `fieldType` | `field_type` | å­—æ®µç±»å‹ |
| `fieldGroupId` | `field_group_id` | å­—æ®µåˆ†ç»„ID |
| `isRequired` | `is_required` | æ˜¯å¦å¿…å¡« |
| `isExtended` | `is_extended` | æ˜¯å¦æ‰©å±•å­—æ®µ |
| `exampleValue` | `example_value` | ç¤ºä¾‹å€¼ |
| `sortOrder` | `sort_order` | æ’åºé¡ºåº |
| `isActive` | `is_active` | æ˜¯å¦å¯ç”¨ |
| `tenantCode` | `tenant_code` | ç”²æ–¹ç¼–ç  |
| `tenantName` | `tenant_name` | ç”²æ–¹åç§° |
| `tenantNameEn` | `tenant_name_en` | ç”²æ–¹è‹±æ–‡åç§° |
| `countryCode` | `country_code` | å›½å®¶ä»£ç  |
| `currencyCode` | `currency_code` | è´§å¸ä»£ç  |
| `groupKey` | `group_key` | åˆ†ç»„æ ‡è¯† |
| `groupName` | `group_name` | åˆ†ç»„åç§° |
| `groupNameEn` | `group_name_en` | åˆ†ç»„è‹±æ–‡åç§° |
| `parentId` | `parent_id` | çˆ¶åˆ†ç»„ID |
| `createdAt` | `created_at` | åˆ›å»ºæ—¶é—´ |
| `updatedAt` | `updated_at` | æ›´æ–°æ—¶é—´ |

---

## ğŸ” æ£€æŸ¥æ–¹æ³•

### ä½¿ç”¨grepæ£€æŸ¥é©¼å³°æ ¼å¼
```bash
# æ£€æŸ¥æ‰€æœ‰Controllerä¸­æ˜¯å¦è¿˜æœ‰é©¼å³°æ ¼å¼çš„å­—æ®µ
cd backend-java
grep -r "put(\".*[A-Z][a-z]" src/main/java/com/cco/controller/ | grep -v "//" | head -20
```

### ä½¿ç”¨grepæ£€æŸ¥ä¸‹åˆ’çº¿æ ¼å¼
```bash
# æ£€æŸ¥ä¸‹åˆ’çº¿æ ¼å¼çš„å­—æ®µï¼ˆåº”è¯¥å¤§é‡å­˜åœ¨ï¼‰
grep -r "put(\".*_[a-z]" src/main/java/com/cco/controller/ | head -20
```

---

## ğŸ¯ ä¿®å¤åŸåˆ™

### 1. ç»Ÿä¸€ä½¿ç”¨ä¸‹åˆ’çº¿æ ¼å¼
- **æ‰€æœ‰APIè¿”å›çš„å­—æ®µå**å¿…é¡»ä½¿ç”¨ä¸‹åˆ’çº¿æ ¼å¼ï¼ˆsnake_caseï¼‰
- **æ‰€æœ‰APIæ¥æ”¶çš„å­—æ®µå**å¯ä»¥å…¼å®¹ä¸¤ç§æ ¼å¼ï¼ˆä¸‹åˆ’çº¿ä¼˜å…ˆï¼Œé©¼å³°ä½œä¸ºå¤‡é€‰ï¼‰

### 2. å…¼å®¹æ€§å¤„ç†
åœ¨æ¥æ”¶è¯·æ±‚å‚æ•°æ—¶ï¼ŒåŒæ—¶æ”¯æŒä¸¤ç§æ ¼å¼ï¼š
```java
field.put("field_key", request.get("field_key") != null ? 
    request.get("field_key") : request.get("fieldKey"));
```

### 3. å‰ç«¯æœŸæœ›æ ¼å¼
å‰ç«¯ä»£ç ä¸­å¤§é‡ä½¿ç”¨ä¸‹åˆ’çº¿æ ¼å¼ï¼š
- `row.field_name`
- `row.field_key`
- `row.field_type`
- `row.is_required`
- `row.sort_order`

---

## âœ… æµ‹è¯•ç»“æœ

### æµ‹è¯•æ¥å£
1. âœ… `/api/v1/standard-fields` - è¿”å›æ ¼å¼æ­£ç¡®
2. âœ… `/api/v1/field-groups` - è¿”å›æ ¼å¼æ­£ç¡®
3. âœ… `/api/v1/tenants` - è¿”å›æ ¼å¼æ­£ç¡®
4. âœ… `/api/v1/custom-fields` - è¿”å›æ ¼å¼æ­£ç¡®
5. âœ… `/api/v1/tenants/1/fields-json` - è¿”å›æ ¼å¼æ­£ç¡®
6. âœ… `/api/v1/tenants/1/unmapped-fields` - è¿”å›æ ¼å¼æ­£ç¡®

### æµ‹è¯•æ•°æ®ç¤ºä¾‹
```json
{
  "code": 200,
  "message": "success",
  "data": [
    {
      "id": 1,
      "field_key": "case_number",
      "field_name": "æ¡ˆä»¶ç¼–å·",
      "field_name_en": "Case Number",
      "field_type": "text",
      "field_group_id": 1,
      "is_required": true,
      "is_extended": false,
      "sort_order": 1,
      "is_active": true
    }
  ]
}
```

---

## ğŸ“ æ³¨æ„äº‹é¡¹

### 1. æ–°æ¥å£å¼€å‘è§„èŒƒ
åˆ›å»ºæ–°æ¥å£æ—¶ï¼Œ**å¿…é¡»**ä½¿ç”¨ä¸‹åˆ’çº¿æ ¼å¼ï¼š
```java
// âœ… æ­£ç¡®
field.put("field_name", "å­—æ®µåç§°");
field.put("field_key", "field_key");

// âŒ é”™è¯¯
field.put("fieldName", "å­—æ®µåç§°");
field.put("fieldKey", "field_key");
```

### 2. è¯·æ±‚å‚æ•°å…¼å®¹æ€§
æ¥æ”¶è¯·æ±‚å‚æ•°æ—¶ï¼Œå¯ä»¥å…¼å®¹ä¸¤ç§æ ¼å¼ï¼š
```java
// ä¼˜å…ˆä½¿ç”¨ä¸‹åˆ’çº¿æ ¼å¼ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä½¿ç”¨é©¼å³°æ ¼å¼
String fieldName = request.get("field_name") != null ? 
    request.get("field_name").toString() : 
    (request.get("fieldName") != null ? request.get("fieldName").toString() : null);
```

### 3. å“åº”æ•°æ®æ ¼å¼
**å“åº”æ•°æ®å¿…é¡»ç»Ÿä¸€ä½¿ç”¨ä¸‹åˆ’çº¿æ ¼å¼**ï¼Œç¡®ä¿å‰ç«¯èƒ½æ­£ç¡®è¯»å–ã€‚

---

## ğŸš€ åç»­å·¥ä½œ

### å·²å®Œæˆ
- âœ… StandardFieldController - æ‰€æœ‰æ–¹æ³•å·²ä¿®å¤
- âœ… CustomFieldController - æ‰€æœ‰æ–¹æ³•å·²ä¿®å¤
- âœ… FieldGroupController - æ‰€æœ‰æ–¹æ³•å·²ä¿®å¤
- âœ… TenantController - æ‰€æœ‰æ–¹æ³•å·²ä¿®å¤

### å¾…æ£€æŸ¥
- â³ FieldDisplayConfigController - å·²æ£€æŸ¥ï¼Œæ ¼å¼æ­£ç¡®
- â³ PerformanceController - éœ€è¦æ£€æŸ¥
- â³ AuthController - éœ€è¦æ£€æŸ¥
- â³ å…¶ä»–Controller - éœ€è¦æ£€æŸ¥

---

## ğŸ“š å‚è€ƒæ–‡æ¡£

- [å‰ç«¯å­—æ®µæ ¼å¼ä½¿ç”¨æƒ…å†µ](frontend/src/views/field-config/)
- [Pythonåç«¯å­—æ®µæ ¼å¼å‚è€ƒ](backend/app/api/)

---

**æœ€åæ›´æ–°**: 2025-11-25  
**ä¿®å¤äººå‘˜**: AI Assistant  
**çŠ¶æ€**: âœ… ä¸»è¦Controllerå·²ä¿®å¤å®Œæˆ





















