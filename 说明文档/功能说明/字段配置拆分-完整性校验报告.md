# 字段配置拆分-完整性校验报告（恢复版）

## 背景
- 原有“字段配置”已拆分为“案件列表字段配置”和“案件详情字段配置”，后续出现文件丢失问题。
- 本次已按原方案完整恢复后端接口、前端 API/Hook、页面、菜单与文案。

## 恢复内容速览
- **后端**：新增/恢复 `CaseListFieldConfigController` 与 `CaseDetailFieldConfigController`，分别处理列表/详情场景，持久化存储于 `~/.cco-storage`，场景与租户隔离。
- **前端 API**：`frontend/src/api/caseListFieldConfig.ts`、`frontend/src/api/caseDetailFieldConfig.ts`。
- **前端 Hooks**：`useCaseListFieldConfig`、`useCaseDetailFieldConfig`，兼容导出 `useFieldListConfig`。
- **页面**：`FieldListConfig.vue`、`FieldDetailConfig.vue` 分别使用对应 API；案件详情页 `CaseDetail.vue` 已接入详情字段配置。
- **菜单/i18n**：侧边栏拆分为两个顶级菜单；新增中英文文案键 `caseListFieldConfig`、`caseDetailFieldConfig`。
- **文档**：本报告记录恢复与校验要点。

## 自检校验
1) **接口可用性（示例）**  
   - 列表配置获取：`GET /api/v1/case-list-field-configs?tenantId=1&sceneType=admin_case_list`  
   - 详情配置获取：`GET /api/v1/case-detail-field-configs?tenantId=1&sceneType=admin_case_detail`
2) **前端调用**  
   - 列表配置页、IM/控台案件列表均通过 `useFieldListConfig` → `caseListFieldConfig` API。  
   - 案件详情页通过 `useCaseDetailFieldConfig` → `caseDetailFieldConfig` API 动态渲染。
3) **菜单与文案**  
   - 侧边栏存在两个顶级菜单：“案件列表字段配置”“案件详情字段配置”。  
   - i18n 中存在 `menu.caseListFieldConfig`、`menu.caseDetailFieldConfig`。

如需回归验证，可按上述接口与页面路径快速检查。

