# æ¡ˆä»¶åˆ—è¡¨æ ‡å‡†å­—æ®µCSVå¯¼å‡ºè¯´æ˜

## å˜æ›´è®°å½•

| ç‰ˆæœ¬ | æ—¥æœŸ | å˜æ›´å†…å®¹ | å˜æ›´äºº |
|------|------|----------|--------|
| 1.0.0 | 2025-12-11 | åˆ›å»ºæ¡ˆä»¶åˆ—è¡¨æ ‡å‡†å­—æ®µCSVæ–‡ä»¶ | å¤§è±¡ |

## æ¦‚è¿°

å°†æ¡ˆä»¶åˆ—è¡¨çš„19ä¸ªæ ‡å‡†å­—æ®µå¯¼å‡ºä¸ºCSVæ ¼å¼ï¼Œæ”¾ç½®åœ¨"å‚è€ƒå†…å®¹"æ–‡ä»¶å¤¹ä¸­ï¼Œä¾›å¼€å‘å’Œæ•°æ®å¯¹æ¥å‚è€ƒä½¿ç”¨ã€‚

## æ–‡ä»¶ä¿¡æ¯

### æ–‡ä»¶è·¯å¾„

```
å‚è€ƒå†…å®¹/CCOæ¡ˆä»¶åˆ—è¡¨æ ‡å‡†å­—æ®µ.csv
```

### æ–‡ä»¶æ ¼å¼

```csv
å­—æ®µåç§°,è‹±æ–‡å,ç±»å‹,ç¤ºä¾‹,è¯´æ˜,æ‹“å±•å­—æ®µ
æ¡ˆä»¶ç¼–å·,case_code,String,CASE001,ç³»ç»Ÿå”¯ä¸€æ¡ˆä»¶ç¼–å·,å¦
ç”¨æˆ·id,user_id,String,5983,ç³»ç»Ÿå†…éƒ¨å”¯ä¸€ç”¨æˆ·æ ‡è¯†,å¦
...
```

### æ–‡ä»¶ç»Ÿè®¡

- **æ€»è¡Œæ•°**: 20è¡Œï¼ˆ1è¡Œæ ‡é¢˜ + 19è¡Œæ•°æ®ï¼‰
- **å­—æ®µæ•°é‡**: 19ä¸ª
- **æ–°å¢å­—æ®µ**: 5ä¸ªï¼ˆæ ‡è®°ä¸ºâ­ï¼‰
- **ç¼–ç æ ¼å¼**: UTF-8
- **åˆ—åˆ†éš”ç¬¦**: é€—å·ï¼ˆ,ï¼‰

## CSVåˆ—è¯´æ˜

| åˆ—å | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| å­—æ®µåç§° | ä¸­æ–‡æ˜¾ç¤ºåç§° | "ç”¨æˆ·id" |
| è‹±æ–‡å | å­—æ®µæ ‡è¯†ï¼ˆfield_keyï¼‰ | "user_id" |
| ç±»å‹ | æ•°æ®ç±»å‹ | "String" |
| ç¤ºä¾‹ | å­—æ®µå€¼ç¤ºä¾‹ | "5983" |
| è¯´æ˜ | å­—æ®µç”¨é€”è¯´æ˜ | "ç³»ç»Ÿå†…éƒ¨å”¯ä¸€ç”¨æˆ·æ ‡è¯†" |
| æ‹“å±•å­—æ®µ | æ˜¯å¦ä¸ºæ‹“å±•å­—æ®µ | "å¦" |

## å®Œæ•´å­—æ®µåˆ—è¡¨

### æ ‡å‡†å­—æ®µï¼ˆå…±19ä¸ªï¼‰

| åºå· | å­—æ®µåç§° | è‹±æ–‡å | ç±»å‹ | æ‹“å±• | å¤‡æ³¨ |
|------|----------|--------|------|------|------|
| 1 | æ¡ˆä»¶ç¼–å· | case_code | String | å¦ | - |
| 2 | ç”¨æˆ·id | user_id | String | å¦ | â­æ–°å¢ |
| 3 | å®¢æˆ· | user_name | String | å¦ | - |
| 4 | æ‰‹æœºå· | mobile_number | String | å¦ | - |
| 5 | é¦–å¤å€Ÿç±»å‹ | collection_type | Enum | å¦ | â­æ–°å¢ |
| 6 | è´·æ¬¾é‡‘é¢ | loan_amount | Decimal | å¦ | - |
| 7 | æœªè¿˜é‡‘é¢ | outstanding_amount | Decimal | å¦ | - |
| 8 | å‡å…é‡‘é¢ | waived_amount | Decimal | å¦ | â­æ–°å¢ |
| 9 | é€¾æœŸå¤©æ•° | overdue_days | Integer | å¦ | - |
| 10 | æ¡ˆä»¶çŠ¶æ€ | case_status | Enum | å¦ | - |
| 11 | åˆ°æœŸæ—¥æœŸ | due_date | Date | å¦ | - |
| 12 | æœŸæ•° | total_installments | Integer | å¦ | - |
| 13 | å½“æœŸå¤©æ•° | term_days | Integer | å¦ | - |
| 14 | æ‰€å±ç³»ç»Ÿ | system_name | String | å¦ | - |
| 15 | äº§å“ | product_name | String | å¦ | - |
| 16 | APP | app_name | String | å¦ | - |
| 17 | å•†æˆ· | merchant_name | String | å¦ | - |
| 18 | ç»“æ¸…æ—¶é—´ | settlement_time | Datetime | å¦ | â­æ–°å¢ |
| 19 | ç»“æ¸…æ–¹å¼ | settlement_method | Enum | å¦ | â­æ–°å¢ |

## ä½¿ç”¨åœºæ™¯

### 1. æ•°æ®å¯¼å…¥æ¨¡æ¿

ç”²æ–¹å¯ä»¥æ ¹æ®æ­¤CSVæ–‡ä»¶å‡†å¤‡æ¡ˆä»¶æ•°æ®ï¼š

```csv
case_code,user_id,user_name,mobile_number,collection_type,...
CASE001,5983,Juan Dela Cruz,+63 9123456789,é¦–å‚¬,...
CASE002,5984,Maria Santos,+63 9123456790,å¤å‚¬,...
```

### 2. å­—æ®µæ˜ å°„é…ç½®å‚è€ƒ

åœ¨é…ç½®å­—æ®µæ˜ å°„æ—¶ï¼Œå¯å‚è€ƒæ ‡å‡†å­—æ®µå®šä¹‰ï¼š

```json
{
  "mapping": [
    {
      "tenant_field": "customer_id",
      "standard_field": "user_id",
      "field_type": "String"
    },
    {
      "tenant_field": "loan_type",
      "standard_field": "collection_type",
      "field_type": "Enum"
    }
  ]
}
```

### 3. å‰ç«¯å¼€å‘å‚è€ƒ

å‰ç«¯å¼€å‘æ—¶å¯å‚è€ƒå­—æ®µå®šä¹‰ï¼š

```typescript
interface CaseListField {
  case_code: string
  user_id: string        // â­æ–°å¢
  user_name: string
  mobile_number: string
  collection_type?: string  // â­æ–°å¢ï¼Œé€‰å¡«
  loan_amount: number
  outstanding_amount: number
  waived_amount?: number    // â­æ–°å¢ï¼Œé€‰å¡«
  overdue_days: number
  case_status: string
  due_date: string
  total_installments: number
  term_days: number
  system_name: string
  product_name: string
  app_name: string
  merchant_name: string
  settlement_time?: string  // â­æ–°å¢ï¼Œé€‰å¡«
  settlement_method?: string // â­æ–°å¢ï¼Œé€‰å¡«
}
```

### 4. APIå¼€å‘å‚è€ƒ

åç«¯APIè¿”å›æ•°æ®æ ¼å¼ï¼š

```java
@GetMapping("/cases")
public ResponseData<List<CaseVO>> getCases() {
    // è¿”å›æ¡ˆä»¶åˆ—è¡¨ï¼ŒåŒ…å«19ä¸ªæ ‡å‡†å­—æ®µ
    return ResponseData.success(cases);
}
```

## æ•°æ®å¯¼å…¥ç¤ºä¾‹

### Excelæ ¼å¼è½¬æ¢

å¦‚æœæ•°æ®æ¥æºæ˜¯Excelï¼Œéœ€è¦è½¬æ¢ä¸ºCSVæ ¼å¼ï¼š

1. æ‰“å¼€Excelæ–‡ä»¶
2. ç¡®ä¿åˆ—é¡ºåºä¸CSVæ ‡é¢˜ä¸€è‡´
3. å¦å­˜ä¸º â†’ CSV UTF-8ï¼ˆé€—å·åˆ†éš”ï¼‰

### æ•°æ®éªŒè¯æ£€æŸ¥ç‚¹

å¯¼å…¥æ•°æ®å‰ï¼Œè¯·æ£€æŸ¥ï¼š

- [ ] æ‰€æœ‰å¿…å¡«å­—æ®µéƒ½æœ‰å€¼
- [ ] æ•°æ®ç±»å‹æ­£ç¡®ï¼ˆå¦‚ï¼šé‡‘é¢ä¸åŒ…å«è´§å¸ç¬¦å·ï¼‰
- [ ] æšä¸¾å€¼åœ¨å…è®¸èŒƒå›´å†…
- [ ] æ—¥æœŸæ ¼å¼æ­£ç¡®ï¼ˆYYYY/MM/DD æˆ– YYYY-MM-DDï¼‰
- [ ] å­—ç¬¦ä¸²é•¿åº¦ä¸è¶…è¿‡é™åˆ¶
- [ ] ç¼–ç æ ¼å¼ä¸ºUTF-8

## ä¸å…¶ä»–CSVæ–‡ä»¶çš„å…³ç³»

### å‚è€ƒå†…å®¹æ–‡ä»¶å¤¹ä¸­çš„CSVæ–‡ä»¶

```
å‚è€ƒå†…å®¹/
â”œâ”€â”€ CCOæ¡ˆä»¶åˆ—è¡¨æ ‡å‡†å­—æ®µ.csv          â­æœ¬æ¬¡æ–°å¢
â”œâ”€â”€ CCOå‚¬æ”¶å­—æ®µé›†åˆ-å®¢æˆ·åŸºç¡€ä¿¡æ¯.csv  ï¼ˆ39ä¸ªå­—æ®µï¼‰
â”œâ”€â”€ CCOå‚¬æ”¶å­—æ®µé›†åˆ-è´·æ¬¾è¯¦æƒ….csv      ï¼ˆ23ä¸ªå­—æ®µï¼‰
â”œâ”€â”€ CCOå‚¬æ”¶å­—æ®µé›†åˆ-åˆ†æœŸè¯¦æƒ….csv      ï¼ˆ16ä¸ªå­—æ®µï¼‰
â”œâ”€â”€ CCOå‚¬æ”¶å­—æ®µé›†åˆ-è¿˜æ¬¾è®°å½•.csv      ï¼ˆ13ä¸ªå­—æ®µï¼‰
â””â”€â”€ CCOå‚¬æ”¶å­—æ®µé›†åˆ-å†å²å€Ÿæ¬¾è®°å½•.csv  ï¼ˆ26ä¸ªå­—æ®µï¼‰
```

### ç”¨é€”åŒºåˆ†

- **æ¡ˆä»¶åˆ—è¡¨æ ‡å‡†å­—æ®µ**: ç”¨äºç®¡ç†ç«¯æ¡ˆä»¶åˆ—è¡¨é¡µé¢
- **å…¶ä»–å­—æ®µé›†åˆ**: ç”¨äºå‚¬å‘˜ç«¯æ¡ˆä»¶è¯¦æƒ…é¡µé¢

## æ•°æ®åŒæ­¥è¯´æ˜

### ä¸ä»£ç çš„å¯¹åº”å…³ç³»

CSVæ–‡ä»¶å†…å®¹ä¸ä»¥ä¸‹ä»£ç ä¿æŒåŒæ­¥ï¼š

```
backend-java/src/main/java/com/cco/support/CaseStandardFieldProvider.java
â””â”€â”€ buildCaseListFields() æ–¹æ³•
```

### æ›´æ–°æµç¨‹

å½“æ ‡å‡†å­—æ®µå˜æ›´æ—¶ï¼š

1. æ›´æ–° `CaseStandardFieldProvider.java` ä»£ç 
2. é‡æ–°ç”Ÿæˆ CSV æ–‡ä»¶
3. æ›´æ–° `å‚è€ƒå†…å®¹/README.md` è¯´æ˜æ–‡æ¡£
4. æäº¤ä»£ç å˜æ›´

## æ³¨æ„äº‹é¡¹

1. **åªè¯»å‚è€ƒ**: CSVæ–‡ä»¶ä»…ä¾›å‚è€ƒï¼Œä¸ä½œä¸ºç³»ç»Ÿé…ç½®æº
2. **æ•°æ®æº**: çœŸå®æ•°æ®æºä¸ºJavaä»£ç ï¼ŒCSVä»ä»£ç å¯¼å‡º
3. **ç‰ˆæœ¬æ§åˆ¶**: CSVæ–‡ä»¶çº³å…¥Gitç‰ˆæœ¬æ§åˆ¶
4. **ç¼–ç æ ¼å¼**: å¿…é¡»ä½¿ç”¨UTF-8ç¼–ç ï¼Œé¿å…ä¸­æ–‡ä¹±ç 
5. **å­—æ®µé¡ºåº**: CSVä¸­çš„å­—æ®µé¡ºåºä¸ç³»ç»Ÿæ˜¾ç¤ºé¡ºåºä¸€è‡´

## å¸¸è§é—®é¢˜

### Q1: CSVæ–‡ä»¶æ˜¯å¦å¯ä»¥ç›´æ¥å¯¼å…¥ç³»ç»Ÿï¼Ÿ

A: ä¸å¯ä»¥ã€‚CSVæ–‡ä»¶ä»…ä¾›å‚è€ƒï¼Œä¸èƒ½ç›´æ¥å¯¼å…¥ã€‚å®é™…æ•°æ®å¯¼å…¥éœ€è¦é€šè¿‡APIæ¥å£ã€‚

### Q2: å¦‚ä½•æ›´æ–°CSVæ–‡ä»¶ï¼Ÿ

A: å½“æ ‡å‡†å­—æ®µå˜æ›´åï¼Œéœ€è¦ä»åç«¯APIé‡æ–°å¯¼å‡ºæ•°æ®ç”ŸæˆCSVæ–‡ä»¶ã€‚

### Q3: CSVæ–‡ä»¶ç¼–ç æ ¼å¼é”™è¯¯æ€ä¹ˆåŠï¼Ÿ

A: ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆå¦‚VS Codeï¼‰æ‰“å¼€ï¼Œå¦å­˜ä¸ºUTF-8ç¼–ç ã€‚

### Q4: æšä¸¾ç±»å‹çš„å¯é€‰å€¼åœ¨å“ªé‡ŒæŸ¥çœ‹ï¼Ÿ

A: æŸ¥çœ‹å­—æ®µè¯´æ˜æ–‡æ¡£æˆ–åç«¯ä»£ç ä¸­çš„æšä¸¾å®šä¹‰ã€‚

## ç›¸å…³å‘½ä»¤

### å¯¼å‡ºCSVæ–‡ä»¶

```bash
# ä»APIå¯¼å‡ºæ¡ˆä»¶åˆ—è¡¨æ ‡å‡†å­—æ®µ
curl -s http://localhost:8080/api/v1/standard-fields/case-list | \
jq -r '.data[] | [.field_name, .field_key, .field_data_type, "", .description, "å¦"] | @csv' \
> case-list-fields.csv
```

### éªŒè¯CSVæ–‡ä»¶æ ¼å¼

```bash
# æ£€æŸ¥CSVæ–‡ä»¶è¡Œæ•°
wc -l å‚è€ƒå†…å®¹/CCOæ¡ˆä»¶åˆ—è¡¨æ ‡å‡†å­—æ®µ.csv

# æŸ¥çœ‹CSVæ–‡ä»¶å‰5è¡Œ
head -5 å‚è€ƒå†…å®¹/CCOæ¡ˆä»¶åˆ—è¡¨æ ‡å‡†å­—æ®µ.csv

# æ£€æŸ¥ç¼–ç æ ¼å¼
file -I å‚è€ƒå†…å®¹/CCOæ¡ˆä»¶åˆ—è¡¨æ ‡å‡†å­—æ®µ.csv
```

## æ€»ç»“

âœ… å·²æˆåŠŸå°†æ¡ˆä»¶åˆ—è¡¨çš„19ä¸ªæ ‡å‡†å­—æ®µï¼ˆåŒ…æ‹¬5ä¸ªæ–°å¢å­—æ®µï¼‰å¯¼å‡ºä¸ºCSVæ ¼å¼ï¼Œæ”¾ç½®åœ¨"å‚è€ƒå†…å®¹"æ–‡ä»¶å¤¹ä¸­ã€‚

è¯¥CSVæ–‡ä»¶å¯ç”¨äºï¼š
- ğŸ“‹ æ•°æ®å¯¼å…¥æ¨¡æ¿
- ğŸ”— å­—æ®µæ˜ å°„é…ç½®å‚è€ƒ
- ğŸ’» å‰ç«¯/åç«¯å¼€å‘å‚è€ƒ
- ğŸ“– ç”²æ–¹æ•°æ®å¯¹æ¥æ ‡å‡†

---

**åˆ›å»ºæ—¶é—´**: 2025-12-11  
**åˆ›å»ºäºº**: å¤§è±¡  
**æ–‡ä»¶ä½ç½®**: `å‚è€ƒå†…å®¹/CCOæ¡ˆä»¶åˆ—è¡¨æ ‡å‡†å­—æ®µ.csv`
