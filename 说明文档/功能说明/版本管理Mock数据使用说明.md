# ç‰ˆæœ¬ç®¡ç† Mock æ•°æ®ä½¿ç”¨è¯´æ˜

## ğŸ“‹ æ¦‚è¿°

ä¸ºäº†åœ¨"æ¡ˆä»¶åˆ—è¡¨å­—æ®µé…ç½®"çš„ç‰ˆæœ¬ç®¡ç†ç•Œé¢ä¸­å±•ç¤ºä¸°å¯Œçš„å†å²ç‰ˆæœ¬æ•°æ®ï¼Œæˆ‘ä»¬å‡†å¤‡äº†åŒ…å« **7 ä¸ªç‰ˆæœ¬** çš„ Mock æµ‹è¯•æ•°æ®ã€‚

## ğŸ¯ Mock ç‰ˆæœ¬æ¦‚è§ˆ

| ç‰ˆæœ¬ | ä¸Šä¼ æ—¶é—´ | ä¸Šä¼ äºº | å­—æ®µæ•° | ä¸»è¦å˜æ›´ | çŠ¶æ€ |
|------|---------|--------|--------|---------|------|
| **ç‰ˆæœ¬ 7** | 2025-12-05 14:00 | æå›› | 15 | æ–°å¢é£é™©ç­‰çº§å­—æ®µ | âœ… **å½“å‰ä½¿ç”¨** |
| ç‰ˆæœ¬ 6 | 2025-12-02 09:30 | å¼ ä¸‰ | 14 | æ–°å¢å€Ÿæ¬¾äººå§“åå’Œæ‰‹æœº | âšª å†å²ç‰ˆæœ¬ |
| ç‰ˆæœ¬ 5 | 2025-11-28 11:20 | ç‹äº” | 12 | æ–°å¢"å·²å…³é—­"çŠ¶æ€ | âšª å†å²ç‰ˆæœ¬ |
| ç‰ˆæœ¬ 4 | 2025-11-25 16:45 | ç³»ç»Ÿç®¡ç†å‘˜ | 12 | è°ƒæ•´å­—æ®µæ˜¾ç¤ºé¡ºåº | âšª å†å²ç‰ˆæœ¬ |
| ç‰ˆæœ¬ 3 | 2025-11-22 10:15 | æå›› | 12 | æ–°å¢APPåç§°å’Œå•†æˆ·åç§° | âšª å†å²ç‰ˆæœ¬ |
| ç‰ˆæœ¬ 2 | 2025-11-18 14:30 | å¼ ä¸‰ | 10 | æ–°å¢äº§å“åç§°å’Œå‚¬æ”¶å‘˜ | âšª å†å²ç‰ˆæœ¬ |
| ç‰ˆæœ¬ 1 | 2025-11-15 09:00 | ç³»ç»Ÿç®¡ç†å‘˜ | 8 | åˆå§‹ç‰ˆæœ¬ | âšª å†å²ç‰ˆæœ¬ |

## ğŸ“¦ æ–‡ä»¶ä½ç½®

```
backend-java/
â””â”€â”€ src/main/resources/sql/
    â””â”€â”€ init_tenant_field_upload_mock_versions.sql
```

## ğŸš€ ä½¿ç”¨æ­¥éª¤

### æ–¹å¼ä¸€ï¼šä½¿ç”¨ MySQL å‘½ä»¤è¡Œ

```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd /Users/zhangyang/Documents/GitHub/CollectionONE/backend-java

# 2. ç™»å½• MySQL
mysql -u root -p

# 3. é€‰æ‹©æ•°æ®åº“
use cco_db;

# 4. æ‰§è¡Œ SQL æ–‡ä»¶
source src/main/resources/sql/init_tenant_field_upload_mock_versions.sql;

# 5. éªŒè¯æ•°æ®
SELECT version, fields_count, uploaded_by_name, uploaded_at, is_active, version_note
FROM tenant_field_uploads
WHERE tenant_id = '1' AND scene = 'list'
ORDER BY version DESC;
```

### æ–¹å¼äºŒï¼šä½¿ç”¨ MySQL Workbench æˆ–å…¶ä»– GUI å·¥å…·

1. æ‰“å¼€ MySQL Workbench
2. è¿æ¥åˆ°æ•°æ®åº“
3. æ‰“å¼€æ–‡ä»¶ï¼š`backend-java/src/main/resources/sql/init_tenant_field_upload_mock_versions.sql`
4. æ‰§è¡Œæ•´ä¸ªæ–‡ä»¶
5. æŸ¥çœ‹ç»“æœ

### æ–¹å¼ä¸‰ï¼šä¸€é”®æ‰§è¡Œè„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
cd /Users/zhangyang/Documents/GitHub/CollectionONE/backend-java

# æ‰§è¡ŒSQLæ–‡ä»¶
mysql -u root -p cco_db < src/main/resources/sql/init_tenant_field_upload_mock_versions.sql
```

## ğŸ¨ ç‰ˆæœ¬è¯¦ç»†è¯´æ˜

### ç‰ˆæœ¬ 1ï¼ˆ2025-11-15ï¼‰- åˆå§‹ç‰ˆæœ¬
- **å­—æ®µæ•°é‡**ï¼š8ä¸ª
- **ä¸Šä¼ äºº**ï¼šç³»ç»Ÿç®¡ç†å‘˜
- **ä¸»è¦å­—æ®µ**ï¼š
  - æ¡ˆä»¶ç¼–å·ã€æ¡ˆä»¶çŠ¶æ€ã€å®¢æˆ·å§“åã€è”ç³»ç”µè¯
  - å€Ÿæ¬¾é‡‘é¢ã€é€¾æœŸå¤©æ•°ã€åˆ°æœŸæ—¥æœŸã€æœªè¿˜é‡‘é¢
- **è¯´æ˜**ï¼šåŒ…å«åŸºç¡€çš„8ä¸ªæ ¸å¿ƒå­—æ®µï¼Œæ»¡è¶³åŸºæœ¬å‚¬æ”¶ç®¡ç†éœ€æ±‚

### ç‰ˆæœ¬ 2ï¼ˆ2025-11-18ï¼‰- æ–°å¢äº§å“å’Œå‚¬æ”¶å‘˜
- **å­—æ®µæ•°é‡**ï¼š10ä¸ª
- **ä¸Šä¼ äºº**ï¼šå¼ ä¸‰
- **æ–°å¢å­—æ®µ**ï¼š
  - äº§å“åç§°
  - å‚¬æ”¶å‘˜
- **è¯´æ˜**ï¼šå¢åŠ äº§å“å’Œå‚¬æ”¶å‘˜ä¿¡æ¯ï¼Œä¾¿äºå¤šäº§å“ç®¡ç†

### ç‰ˆæœ¬ 3ï¼ˆ2025-11-22ï¼‰- æ–°å¢APPå’Œå•†æˆ·
- **å­—æ®µæ•°é‡**ï¼š12ä¸ª
- **ä¸Šä¼ äºº**ï¼šæå››
- **æ–°å¢å­—æ®µ**ï¼š
  - APPåç§°
  - å•†æˆ·åç§°
- **è¯´æ˜**ï¼šæ”¯æŒå¤šå¹³å°ã€å¤šå•†æˆ·ç®¡ç†éœ€æ±‚

### ç‰ˆæœ¬ 4ï¼ˆ2025-11-25ï¼‰- å­—æ®µé¡ºåºä¼˜åŒ–
- **å­—æ®µæ•°é‡**ï¼š12ä¸ª
- **ä¸Šä¼ äºº**ï¼šç³»ç»Ÿç®¡ç†å‘˜
- **ä¸»è¦å˜æ›´**ï¼š
  - è°ƒæ•´å­—æ®µæ˜¾ç¤ºé¡ºåº
  - å°†é‡è¦çš„é‡‘é¢å’Œé€¾æœŸä¿¡æ¯å‰ç½®
- **è¯´æ˜**ï¼šä¼˜åŒ–ç”¨æˆ·ä½“éªŒï¼Œé‡è¦ä¿¡æ¯ä¼˜å…ˆå±•ç¤º

### ç‰ˆæœ¬ 5ï¼ˆ2025-11-28ï¼‰- æ–°å¢å…³é—­çŠ¶æ€
- **å­—æ®µæ•°é‡**ï¼š12ä¸ª
- **ä¸Šä¼ äºº**ï¼šç‹äº”
- **ä¸»è¦å˜æ›´**ï¼š
  - æ¡ˆä»¶çŠ¶æ€æ–°å¢"å·²å…³é—­"é€‰é¡¹
  - æšä¸¾å€¼ï¼šå¾…åˆ†é…ã€å‚¬æ”¶ä¸­ã€å·²å®Œæˆã€å·²å…³é—­
- **è¯´æ˜**ï¼šæ”¯æŒæ¡ˆä»¶å…³é—­æµç¨‹

### ç‰ˆæœ¬ 6ï¼ˆ2025-12-02ï¼‰- åŒºåˆ†å€Ÿæ¬¾äººä¿¡æ¯
- **å­—æ®µæ•°é‡**ï¼š14ä¸ª
- **ä¸Šä¼ äºº**ï¼šå¼ ä¸‰
- **æ–°å¢å­—æ®µ**ï¼š
  - å€Ÿæ¬¾äººå§“å
  - å€Ÿæ¬¾äººæ‰‹æœº
- **è¯´æ˜**ï¼šåŒºåˆ†å€Ÿæ¬¾äººä¸å®¢æˆ·ä¿¡æ¯ï¼Œæ»¡è¶³å®åå‚¬æ”¶éœ€æ±‚

### ç‰ˆæœ¬ 7ï¼ˆ2025-12-05ï¼‰- æ–°å¢é£é™©ç­‰çº§ âœ… å½“å‰ä½¿ç”¨
- **å­—æ®µæ•°é‡**ï¼š15ä¸ª
- **ä¸Šä¼ äºº**ï¼šæå››
- **æ–°å¢å­—æ®µ**ï¼š
  - é£é™©ç­‰çº§ï¼ˆä½é£é™©ã€ä¸­é£é™©ã€é«˜é£é™©ï¼‰
- **è¯´æ˜**ï¼šæ–°å¢é£é™©åˆ†çº§ç®¡ç†ï¼Œæ”¯æŒå·®å¼‚åŒ–å‚¬æ”¶ç­–ç•¥

## ğŸ“Š ç‰ˆæœ¬å¯¹æ¯”ç¤ºä¾‹

### ç‰ˆæœ¬ 1 vs ç‰ˆæœ¬ 7 çš„å·®å¼‚

| å¯¹æ¯”é¡¹ | ç‰ˆæœ¬ 1 | ç‰ˆæœ¬ 7 | å˜åŒ– |
|--------|--------|--------|------|
| å­—æ®µæ€»æ•° | 8 | 15 | +7 |
| çŠ¶æ€é€‰é¡¹ | 3ä¸ª | 4ä¸ª | +1ï¼ˆå·²å…³é—­ï¼‰ |
| æ–°å¢å­—æ®µ | - | é£é™©ç­‰çº§ã€å€Ÿæ¬¾äººå§“åã€å€Ÿæ¬¾äººæ‰‹æœºã€äº§å“åç§°ã€APPåç§°ã€å•†æˆ·åç§°ã€å‚¬æ”¶å‘˜ | +7 |

## ğŸ” å‰ç«¯å±•ç¤ºæ•ˆæœ

æ‰§è¡Œ Mock æ•°æ®åï¼Œåœ¨å‰ç«¯"ç‰ˆæœ¬ç®¡ç†"æŠ½å±‰ä¸­å°†æ˜¾ç¤ºï¼š

### å½“å‰ç‰ˆæœ¬æ 
```
âœ… å½“å‰ä½¿ç”¨ç‰ˆæœ¬ï¼šç‰ˆæœ¬ 7
ğŸ“… ä¸Šä¼ æ—¶é—´ï¼š2025-12-05 14:00:00
ğŸ‘¤ ä¸Šä¼ äººï¼šæå››
ğŸ“ å­—æ®µæ•°ï¼š15ä¸ª
ğŸ’¡ è¯´æ˜ï¼šæ–°å¢é£é™©ç­‰çº§å­—æ®µï¼Œæ”¯æŒæ¡ˆä»¶é£é™©åˆ†çº§ç®¡ç†ï¼ˆå½“å‰ä½¿ç”¨ç‰ˆæœ¬ï¼‰
```

### å†å²ç‰ˆæœ¬åˆ—è¡¨
```
âšª ç‰ˆæœ¬ 6 | 2025-12-02 09:30 | å¼ ä¸‰ | 14ä¸ªå­—æ®µ
   æ–°å¢å€Ÿæ¬¾äººå§“åå’Œå€Ÿæ¬¾äººæ‰‹æœºå­—æ®µï¼ŒåŒºåˆ†å€Ÿæ¬¾äººä¸å®¢æˆ·ä¿¡æ¯
   [æŸ¥çœ‹è¯¦æƒ…] [ä¸‹è½½] [è®¾ä¸ºå½“å‰ç‰ˆæœ¬] [å¯¹æ¯”]

âšª ç‰ˆæœ¬ 5 | 2025-11-28 11:20 | ç‹äº” | 12ä¸ªå­—æ®µ
   æ¡ˆä»¶çŠ¶æ€æšä¸¾ä¸­æ–°å¢"å·²å…³é—­"é€‰é¡¹ï¼Œæ”¯æŒæ¡ˆä»¶å…³é—­æµç¨‹
   [æŸ¥çœ‹è¯¦æƒ…] [ä¸‹è½½] [è®¾ä¸ºå½“å‰ç‰ˆæœ¬] [å¯¹æ¯”]

âšª ç‰ˆæœ¬ 4 | 2025-11-25 16:45 | ç³»ç»Ÿç®¡ç†å‘˜ | 12ä¸ªå­—æ®µ
   è°ƒæ•´å­—æ®µæ˜¾ç¤ºé¡ºåºï¼Œå°†é‡è¦é‡‘é¢å’Œé€¾æœŸä¿¡æ¯å‰ç½®
   [æŸ¥çœ‹è¯¦æƒ…] [ä¸‹è½½] [è®¾ä¸ºå½“å‰ç‰ˆæœ¬] [å¯¹æ¯”]

... ä»¥æ­¤ç±»æ¨
```

## âœ… éªŒè¯æ•°æ®æ˜¯å¦å¯¼å…¥æˆåŠŸ

### SQL æŸ¥è¯¢
```sql
SELECT 
  version AS 'ç‰ˆæœ¬å·',
  fields_count AS 'å­—æ®µæ•°',
  uploaded_by_name AS 'ä¸Šä¼ äºº',
  uploaded_at AS 'ä¸Šä¼ æ—¶é—´',
  CASE WHEN is_active THEN 'âœ… å½“å‰ä½¿ç”¨' ELSE 'âšª å†å²ç‰ˆæœ¬' END AS 'çŠ¶æ€',
  version_note AS 'ç‰ˆæœ¬è¯´æ˜'
FROM tenant_field_uploads
WHERE tenant_id = '1' AND scene = 'list'
ORDER BY version DESC;
```

### é¢„æœŸç»“æœ
åº”è¯¥çœ‹åˆ° 7 æ¡è®°å½•ï¼Œç‰ˆæœ¬å·ä» 1 åˆ° 7ï¼Œå…¶ä¸­ç‰ˆæœ¬ 7 çš„ `is_active` ä¸º `true`ã€‚

## ğŸ”§ æµ‹è¯•æ­¥éª¤

1. **å¯åŠ¨åç«¯æœåŠ¡**
   ```bash
   cd backend-java
   ./start.sh
   ```

2. **å¯åŠ¨å‰ç«¯æœåŠ¡**
   ```bash
   cd frontend
   npm run dev
   ```

3. **è®¿é—®ç‰ˆæœ¬ç®¡ç†åŠŸèƒ½**
   - ç™»å½•ç³»ç»Ÿ
   - è¿›å…¥"ç”²æ–¹ç®¡ç†" â†’ "å­—æ®µé…ç½®" â†’ "æ¡ˆä»¶åˆ—è¡¨ç”²æ–¹å­—æ®µæŸ¥çœ‹"
   - ç‚¹å‡»"ç‰ˆæœ¬ç®¡ç†"æŒ‰é’®
   - æŸ¥çœ‹å†å²ç‰ˆæœ¬åˆ—è¡¨

4. **æµ‹è¯•åŠŸèƒ½**
   - âœ… æŸ¥çœ‹å½“å‰ä½¿ç”¨ç‰ˆæœ¬ä¿¡æ¯
   - âœ… æµè§ˆæ‰€æœ‰å†å²ç‰ˆæœ¬
   - âœ… ç‚¹å‡»"æŸ¥çœ‹è¯¦æƒ…"æŸ¥çœ‹æŸä¸ªç‰ˆæœ¬çš„å­—æ®µåˆ—è¡¨
   - âœ… ç‚¹å‡»"ä¸‹è½½"ä¸‹è½½æŸä¸ªç‰ˆæœ¬çš„JSONæ–‡ä»¶
   - âœ… ç‚¹å‡»"è®¾ä¸ºå½“å‰ç‰ˆæœ¬"åˆ‡æ¢ç‰ˆæœ¬
   - âœ… ç‚¹å‡»"å¯¹æ¯”"å¯¹æ¯”ä¸¤ä¸ªç‰ˆæœ¬çš„å·®å¼‚

## ğŸ¯ ç‰ˆæœ¬å¯¹æ¯”åŠŸèƒ½æµ‹è¯•

### å¯¹æ¯”ç‰ˆæœ¬ 1 å’Œ ç‰ˆæœ¬ 7
ç‚¹å‡»ç‰ˆæœ¬ 1 çš„"å¯¹æ¯”"æŒ‰é’®ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä¸å½“å‰ä½¿ç”¨çš„ç‰ˆæœ¬ 7 è¿›è¡Œå¯¹æ¯”ï¼Œæ˜¾ç¤ºï¼š

**å˜æ›´æ‘˜è¦**
- ğŸŸ¢ æ–°å¢å­—æ®µï¼š7ä¸ª
- ğŸ”´ åˆ é™¤å­—æ®µï¼š0ä¸ª
- ğŸŸ¡ ä¿®æ”¹å­—æ®µï¼š2ä¸ª
- âšª æœªå˜æ›´ï¼š8ä¸ª

**æ–°å¢å­—æ®µè¯¦æƒ…**
1. é£é™©ç­‰çº§ (risk_level)
2. å€Ÿæ¬¾äººå§“å (borrower_name)
3. å€Ÿæ¬¾äººæ‰‹æœº (borrower_phone)
4. äº§å“åç§° (product_name)
5. APPåç§° (app_name)
6. å•†æˆ·åç§° (merchant_name)
7. å‚¬æ”¶å‘˜ (collector)

**ä¿®æ”¹å­—æ®µè¯¦æƒ…**
1. æ¡ˆä»¶çŠ¶æ€ (case_status)
   - æšä¸¾å€¼ï¼š[å¾…åˆ†é…, å‚¬æ”¶ä¸­, å·²å®Œæˆ] â†’ [å¾…åˆ†é…, å‚¬æ”¶ä¸­, å·²å®Œæˆ, å·²å…³é—­]
2. å€Ÿæ¬¾é‡‘é¢ (loan_amount)
   - æè¿°ï¼š"å€Ÿæ¬¾æœ¬é‡‘ï¼ˆå…ƒï¼‰" â†’ "å€Ÿæ¬¾æœ¬é‡‘ï¼Œå•ä½ï¼šå…ƒ"

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **æ•°æ®æ¸…ç†**
   - å¦‚æœéœ€è¦é‡æ–°å¯¼å…¥ï¼Œå…ˆæ‰§è¡Œï¼š
     ```sql
     DELETE FROM tenant_field_uploads WHERE tenant_id = '1' AND scene = 'list';
     ```

2. **ç‰ˆæœ¬å·å”¯ä¸€æ€§**
   - SQL ä¸­ä½¿ç”¨äº† `ON DUPLICATE KEY UPDATE` é¿å…é‡å¤æ’å…¥
   - å¦‚æœç‰ˆæœ¬å·å·²å­˜åœ¨ï¼Œä¼šä¿ç•™åŸæ•°æ®ä¸æ›´æ–°

3. **æ–‡ä»¶è·¯å¾„**
   - Mock æ•°æ®ä¸­çš„ `file_path` æ˜¯è™šæ‹Ÿè·¯å¾„
   - å®é™…ä¸‹è½½åŠŸèƒ½ä¼šæ ¹æ® `json_content` ç”Ÿæˆæ–‡ä»¶

4. **æ•°æ®åº“å…¼å®¹æ€§**
   - éœ€è¦ MySQL 5.7+ æˆ– MariaDB 10.2+
   - ä½¿ç”¨äº† JSON ç±»å‹å­—æ®µ

## ğŸ†˜ å¸¸è§é—®é¢˜

### Q1: æ‰§è¡Œ SQL æŠ¥é”™ "Table doesn't exist"
**A**: å…ˆæ‰§è¡Œè¡¨åˆ›å»ºè„šæœ¬ï¼š
```bash
mysql -u root -p cco_db < backend-java/src/main/resources/sql/tenant_field_uploads.sql
```

### Q2: å‰ç«¯ç‰ˆæœ¬ç®¡ç†ç•Œé¢æ˜¾ç¤ºä¸ºç©º
**A**: æ£€æŸ¥ï¼š
1. åç«¯æœåŠ¡æ˜¯å¦å¯åŠ¨
2. æ•°æ®åº“è¿æ¥æ˜¯å¦æ­£å¸¸
3. ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·æŸ¥çœ‹APIè¯·æ±‚æ˜¯å¦æˆåŠŸ

### Q3: ç‰ˆæœ¬å¯¹æ¯”åŠŸèƒ½ä¸å·¥ä½œ
**A**: ç¡®ä¿è‡³å°‘æœ‰ 2 ä¸ªç‰ˆæœ¬æ•°æ®å­˜åœ¨ï¼Œä¸”å½“å‰ä½¿ç”¨ç‰ˆæœ¬å·²è®¾ç½®ï¼ˆ`is_active = true`ï¼‰

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æ¡ˆä»¶åˆ—è¡¨ç”²æ–¹å­—æ®µæŸ¥çœ‹PRD](../../PRDéœ€æ±‚æ–‡æ¡£/CCOç®¡ç†æ§å°/å­—æ®µç®¡ç†/2-æ¡ˆä»¶åˆ—è¡¨ç”²æ–¹å­—æ®µæŸ¥çœ‹-PRD.md)
- [å­—æ®µæµè½¬ä½¿ç”¨æŒ‡å—](../../æ–‡æ¡£/åŠŸèƒ½è¯´æ˜/å­—æ®µæµè½¬ä½¿ç”¨æŒ‡å—-å¿«é€Ÿå¼€å§‹.md)
- [åç«¯æ•°æ®åº“è¡¨ç»“æ„](../../backend-java/src/main/resources/sql/tenant_field_uploads.sql)

## ğŸ‰ å®Œæˆæ ‡å¿—

å½“ä½ èƒ½åœ¨å‰ç«¯ç‰ˆæœ¬ç®¡ç†ç•Œé¢çœ‹åˆ°ï¼š
- âœ… 7 ä¸ªå†å²ç‰ˆæœ¬
- âœ… ç‰ˆæœ¬ 7 æ ‡è®°ä¸º"å½“å‰ä½¿ç”¨"
- âœ… å¯ä»¥æŸ¥çœ‹æ¯ä¸ªç‰ˆæœ¬çš„è¯¦æƒ…
- âœ… å¯ä»¥ä¸‹è½½ç‰ˆæœ¬çš„ JSON æ–‡ä»¶
- âœ… å¯ä»¥åˆ‡æ¢å½“å‰ä½¿ç”¨ç‰ˆæœ¬
- âœ… å¯ä»¥å¯¹æ¯”ç‰ˆæœ¬å·®å¼‚

è¯´æ˜ Mock æ•°æ®å·²æˆåŠŸåº”ç”¨ï¼ğŸŠ

---

**æœ€åæ›´æ–°**ï¼š2025-12-08  
**åˆ›å»ºäºº**ï¼šAI Assistant  
**ç‰ˆæœ¬**ï¼š1.0.0
