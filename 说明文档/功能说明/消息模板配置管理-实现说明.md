# æ¶ˆæ¯æ¨¡æ¿é…ç½®ç®¡ç† - å®ç°è¯´æ˜

## âœ… å®ç°å®Œæˆ

åŸºäº [PRDéœ€æ±‚æ–‡æ¡£/CCOç®¡ç†æ§å°/æ¶ˆæ¯æ¨¡æ¿é…ç½®ç®¡ç†PRD.md](../../PRDéœ€æ±‚æ–‡æ¡£/CCOç®¡ç†æ§å°/æ¶ˆæ¯æ¨¡æ¿é…ç½®ç®¡ç†PRD.md)ï¼Œå·²å®Œæˆæ¶ˆæ¯æ¨¡æ¿é…ç½®ç®¡ç†åŠŸèƒ½çš„å…¨æ ˆå®ç°ã€‚

---

## ğŸ“ æ–‡ä»¶æ¸…å•

### 1. æ•°æ®åº“å±‚

**æ–‡ä»¶**: `backend-java/src/main/resources/db/migration/V1.0.8__create_message_templates_table.sql`

- âœ… åˆ›å»º `message_templates` è¡¨
- âœ… åŒ…å«å®Œæ•´çš„ç´¢å¼•è®¾è®¡ï¼ˆtenant_typeã€stage_sceneã€enabledã€sortã€unique_nameï¼‰
- âœ… åˆå§‹åŒ–7æ¡Mockæ•°æ®ï¼ˆç»„ç»‡æ¨¡æ¿5æ¡ + ä¸ªäººæ¨¡æ¿2æ¡ï¼‰

**å­—æ®µè¯´æ˜**:
- `agency_ids`: JSONç±»å‹ï¼Œå­˜å‚¨é€‚ç”¨æœºæ„IDåˆ—è¡¨
- `variables`: JSONç±»å‹ï¼Œå­˜å‚¨å¯ç”¨å˜é‡åˆ—è¡¨
- `is_enabled`: æ§åˆ¶æ¨¡æ¿åœ¨IMç«¯çš„å¯è§æ€§
- `usage_count`: ç»Ÿè®¡æ¨¡æ¿ä½¿ç”¨æ¬¡æ•°

---

### 2. åç«¯å±‚ (Java Spring Boot)

#### 2.1 å®ä½“ç±»

**æ–‡ä»¶**: `backend-java/src/main/java/com/cco/model/entity/MessageTemplate.java`

- âœ… å®Œæ•´çš„å®ä½“ç±»å®šä¹‰
- âœ… ä½¿ç”¨MyBatis-Plusæ³¨è§£
- âœ… JSONç±»å‹å­—æ®µä½¿ç”¨JacksonTypeHandler

#### 2.2 æ§åˆ¶å™¨

**æ–‡ä»¶**: `backend-java/src/main/java/com/cco/controller/MockMessageTemplateController.java`

**å®ç°çš„æ¥å£**:

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|------|
| è·å–æ¨¡æ¿åˆ—è¡¨ | GET | `/api/v1/console/message-templates` | æ”¯æŒåˆ†é¡µã€ç­›é€‰ã€æœç´¢ |
| åˆ›å»ºæ¨¡æ¿ | POST | `/api/v1/console/message-templates` | åˆ›å»ºæ–°æ¨¡æ¿ |
| æ›´æ–°æ¨¡æ¿ | PUT | `/api/v1/console/message-templates/{id}` | æ›´æ–°ç°æœ‰æ¨¡æ¿ |
| åˆ é™¤æ¨¡æ¿ | DELETE | `/api/v1/console/message-templates/{id}` | åˆ é™¤æŒ‡å®šæ¨¡æ¿ |
| åˆ‡æ¢å¯ç”¨çŠ¶æ€ | PATCH | `/api/v1/console/message-templates/{id}/toggle` | å¯ç”¨/ç¦ç”¨æ¨¡æ¿ |
| è·å–å¯ç”¨æ¨¡æ¿ (IMç«¯) | GET | `/api/v1/message-templates` | æ ¹æ®æœºæ„å’Œå‚¬å‘˜æƒé™è¿‡æ»¤ |
| è·å–å¯ç”¨å˜é‡ | GET | `/api/v1/message-templates/variables` | è¿”å›8ä¸ªé¢„ç½®å˜é‡ |
| è®°å½•æ¨¡æ¿ä½¿ç”¨ | POST | `/api/v1/message-templates/{id}/usage` | å¢åŠ ä½¿ç”¨æ¬¡æ•°ç»Ÿè®¡ |

**æ ¸å¿ƒç‰¹æ€§**:
- âœ… å®Œæ•´çš„æƒé™æ§åˆ¶ï¼ˆæŒ‰ç”²æ–¹éš”ç¦»ã€æŒ‰æœºæ„è¿‡æ»¤ã€æŒ‰åˆ›å»ºäººåŒºåˆ†ï¼‰
- âœ… æ¨¡æ¿åç§°å”¯ä¸€æ€§æ ¡éªŒ
- âœ… å†…å®¹é•¿åº¦æ ¡éªŒï¼ˆæœ€å¤§1000å­—ç¬¦ï¼‰
- âœ… æœºæ„èŒƒå›´æ§åˆ¶ï¼ˆNULL=å…¨éƒ¨æœºæ„ï¼Œ[1,2,3]=æŒ‡å®šæœºæ„ï¼‰
- âœ… Mockæ•°æ®å­˜å‚¨ï¼ˆå†…å­˜Mapï¼ŒåŒ…å«7æ¡åˆå§‹åŒ–æ•°æ®ï¼‰

---

### 3. å‰ç«¯å±‚ (Vue 3 + TypeScript)

#### 3.1 åˆ—è¡¨é¡µé¢ç»„ä»¶

**æ–‡ä»¶**: `frontend/src/views/console/MessageTemplateList.vue`

**åŠŸèƒ½æ¨¡å—**:

**1. ç­›é€‰å™¨**
- æ¡ˆä»¶é˜¶æ®µï¼šC / S0 / S1-3 / S3+
- æ¨¡æ¿ç±»å‹ï¼šç»„ç»‡æ¨¡æ¿ / ä¸ªäººæ¨¡æ¿
- åœºæ™¯ï¼šé—®å€™ / æé†’ / å¼ºåº¦
- æ—¶é—´ç‚¹ï¼šä¸Šåˆ / ä¸‹åˆ / æ™šä¸Š
- å¯ç”¨çŠ¶æ€ï¼šå…¨éƒ¨ / å·²å¯ç”¨ / å·²ç¦ç”¨
- æœç´¢æ¡†ï¼šæ”¯æŒæ¨¡æ¿åç§°ã€å†…å®¹å…³é”®è¯æœç´¢

**2. åˆ—è¡¨è¡¨æ ¼**
- åˆ—ï¼šæ¨¡æ¿åç§°ã€ç±»å‹ã€é€‚ç”¨æœºæ„ã€é˜¶æ®µã€åœºæ™¯ã€æ—¶é—´ç‚¹ã€å†…å®¹é¢„è§ˆã€ä½¿ç”¨æ¬¡æ•°ã€å¯ç”¨çŠ¶æ€ã€æ“ä½œ
- é¼ æ ‡æ‚¬åœæ˜¾ç¤ºå®Œæ•´å†…å®¹
- æœºæ„åˆ—æ”¯æŒTooltipæ˜¾ç¤ºå®Œæ•´æœºæ„åˆ—è¡¨
- å¯ç”¨çŠ¶æ€ä½¿ç”¨Switchå¼€å…³ï¼Œå®æ—¶åˆ‡æ¢

**3. è¡¨å•æŠ½å±‰**

**åŸºç¡€ä¿¡æ¯**:
- æ¨¡æ¿åç§°ï¼ˆå¿…å¡«ï¼Œ2-100å­—ç¬¦ï¼‰
- æ¨¡æ¿ç±»å‹ï¼ˆç»„ç»‡/ä¸ªäººï¼ŒRadioé€‰æ‹©ï¼‰
- é€‚ç”¨æœºæ„ï¼ˆå¤šé€‰ï¼Œä»…ç»„ç»‡æ¨¡æ¿æ˜¾ç¤ºï¼Œæ”¯æŒ"å…¨é€‰"/"æ¸…ç©º"ï¼‰

**åˆ†ç±»ç»´åº¦**:
- æ¡ˆä»¶é˜¶æ®µï¼ˆä¸‹æ‹‰é€‰æ‹©ï¼‰
- åœºæ™¯ï¼ˆä¸‹æ‹‰é€‰æ‹©ï¼‰
- æ—¶é—´ç‚¹ï¼ˆä¸‹æ‹‰é€‰æ‹©ï¼‰

**æ¨¡æ¿å†…å®¹**:
- å¯ç”¨å˜é‡ï¼ˆç‚¹å‡»æ ‡ç­¾æ’å…¥ï¼‰
- æ¨¡æ¿å†…å®¹ï¼ˆTextareaï¼Œæœ€å¤§1000å­—ç¬¦ï¼Œå®æ—¶å­—ç¬¦è®¡æ•°ï¼‰
- å†…å®¹é¢„è§ˆï¼ˆå®æ—¶æ¸²æŸ“å˜é‡æ›¿æ¢æ•ˆæœï¼‰

**çŠ¶æ€é…ç½®**:
- å¯ç”¨çŠ¶æ€ï¼ˆSwitchå¼€å…³ï¼‰
- æ’åºæƒé‡ï¼ˆæ•°å­—è¾“å…¥ï¼Œé»˜è®¤0ï¼‰

**4. æ“ä½œåŠŸèƒ½**
- âœ… æ–°å¢æ¨¡æ¿
- âœ… ç¼–è¾‘æ¨¡æ¿ï¼ˆå›å¡«æ•°æ®ï¼‰
- âœ… åˆ é™¤æ¨¡æ¿ï¼ˆäºŒæ¬¡ç¡®è®¤ï¼‰
- âœ… å¯ç”¨/ç¦ç”¨åˆ‡æ¢
- âœ… åˆ†é¡µï¼ˆæ”¯æŒ10/20/50/100æ¯é¡µï¼‰

#### 3.2 è·¯ç”±é…ç½®

**æ–‡ä»¶**: `frontend/src/router/index.ts`

```typescript
{
  path: 'console/message-templates',
  name: 'MessageTemplateList',
  component: () => import('@/views/console/MessageTemplateList.vue'),
  meta: { title: 'æ¶ˆæ¯æ¨¡æ¿é…ç½®ç®¡ç†', requiresAuth: true },
}
```

**è®¿é—®è·¯å¾„**: `http://localhost:5173/console/message-templates`

---

## ğŸš€ éƒ¨ç½²æŒ‡å—

### 1. æ•°æ®åº“åˆå§‹åŒ–

```bash
# æ–¹å¼1: ä½¿ç”¨MySQLå‘½ä»¤è¡Œ
mysql -u root -p cco_dev < backend-java/src/main/resources/db/migration/V1.0.8__create_message_templates_table.sql

# æ–¹å¼2: å¦‚æœä½¿ç”¨Flywayï¼Œé‡å¯åç«¯è‡ªåŠ¨æ‰§è¡Œè¿ç§»
cd backend-java && ./start.sh
```

### 2. å¯åŠ¨åç«¯æœåŠ¡

```bash
cd backend-java
./start.sh

# æˆ–è€…æ‰‹åŠ¨å¯åŠ¨
JAVA_HOME=/opt/homebrew/opt/openjdk@17 \
PATH=/opt/homebrew/opt/openjdk@17/bin:$PATH \
mvn spring-boot:run -Dspring-boot.run.profiles=dev
```

**ç¡®è®¤æ¥å£å¯è®¿é—®**:
```bash
curl http://localhost:8080/api/v1/console/message-templates?tenantId=1&page=1&pageSize=20
```

### 3. å¯åŠ¨å‰ç«¯æœåŠ¡

```bash
cd frontend
npm run dev
```

**è®¿é—®é¡µé¢**:
```
http://localhost:5173/console/message-templates
```

---

## ğŸ“Š åŠŸèƒ½æµ‹è¯•æ¸…å•

### æ§å°ç«¯æµ‹è¯•

- [ ] **åˆ—è¡¨å±•ç¤º**
  - [ ] åˆå§‹åŠ è½½æ˜¾ç¤º7æ¡Mockæ•°æ®
  - [ ] åˆ†é¡µåŠŸèƒ½æ­£å¸¸
  - [ ] è¡¨æ ¼æ˜¾ç¤ºæ‰€æœ‰å­—æ®µ

- [ ] **ç­›é€‰åŠŸèƒ½**
  - [ ] æŒ‰æ¡ˆä»¶é˜¶æ®µç­›é€‰
  - [ ] æŒ‰æ¨¡æ¿ç±»å‹ç­›é€‰ï¼ˆç»„ç»‡/ä¸ªäººï¼‰
  - [ ] æŒ‰åœºæ™¯ç­›é€‰
  - [ ] æŒ‰æ—¶é—´ç‚¹ç­›é€‰
  - [ ] æŒ‰å¯ç”¨çŠ¶æ€ç­›é€‰
  - [ ] æœç´¢åŠŸèƒ½ï¼ˆæ¨¡æ¿åç§°ã€å†…å®¹ï¼‰
  - [ ] é‡ç½®æŒ‰é’®æ¸…ç©ºæ‰€æœ‰ç­›é€‰

- [ ] **æ–°å¢æ¨¡æ¿**
  - [ ] æ‰“å¼€è¡¨å•æŠ½å±‰
  - [ ] å¿…å¡«é¡¹æ ¡éªŒ
  - [ ] æ¨¡æ¿åç§°å”¯ä¸€æ€§æ ¡éªŒ
  - [ ] å†…å®¹é•¿åº¦é™åˆ¶ï¼ˆ1000å­—ç¬¦ï¼‰
  - [ ] å˜é‡æ ‡ç­¾ç‚¹å‡»æ’å…¥åŠŸèƒ½
  - [ ] å†…å®¹å®æ—¶é¢„è§ˆ
  - [ ] ä¿å­˜æˆåŠŸååˆ·æ–°åˆ—è¡¨

- [ ] **ç¼–è¾‘æ¨¡æ¿**
  - [ ] æ‰“å¼€è¡¨å•å¹¶å›å¡«æ•°æ®
  - [ ] ä¿®æ”¹åä¿å­˜æˆåŠŸ
  - [ ] åç§°é‡å¤æ ¡éªŒï¼ˆæ’é™¤è‡ªèº«ï¼‰

- [ ] **åˆ é™¤æ¨¡æ¿**
  - [ ] äºŒæ¬¡ç¡®è®¤å¼¹çª—
  - [ ] åˆ é™¤ååˆ—è¡¨åˆ·æ–°

- [ ] **å¯ç”¨/ç¦ç”¨**
  - [ ] Switchå¼€å…³åˆ‡æ¢
  - [ ] çŠ¶æ€ç«‹å³ç”Ÿæ•ˆ

### IMç«¯æµ‹è¯•

- [ ] **è·å–å¯ç”¨æ¨¡æ¿**
  - [ ] ä»…è¿”å›å¯ç”¨çš„æ¨¡æ¿
  - [ ] ç»„ç»‡æ¨¡æ¿æŒ‰æœºæ„æƒé™è¿‡æ»¤
  - [ ] ä¸ªäººæ¨¡æ¿ä»…åˆ›å»ºäººå¯è§
  - [ ] æŒ‰sortOrder + createdAtæ’åº

- [ ] **å˜é‡æ›¿æ¢**
  - [ ] 8ä¸ªé¢„ç½®å˜é‡æ­£ç¡®æ¸²æŸ“
  - [ ] ç¼ºå¤±å˜é‡ä¿ç•™å ä½ç¬¦

- [ ] **ä½¿ç”¨æ¬¡æ•°ç»Ÿè®¡**
  - [ ] æ¯æ¬¡ä½¿ç”¨åusageCount +1

---

## ğŸ¯ æ ¸å¿ƒä¸šåŠ¡è§„åˆ™å®ç°

### 1. æƒé™éš”ç¦»

```typescript
// æŒ‰ç”²æ–¹éš”ç¦»
filter(t => t.getTenantId().equals(tenantId))

// ç»„ç»‡æ¨¡æ¿ï¼šæŒ‰æœºæ„è¿‡æ»¤
if ("organization".equals(t.getTemplateType())) {
  return t.getAgencyIds() == null || t.getAgencyIds().contains(agencyId);
}

// ä¸ªäººæ¨¡æ¿ï¼šä»…åˆ›å»ºäººå¯è§
return collectorId.equals(t.getCreatedBy());
```

### 2. æœºæ„èŒƒå›´æ§åˆ¶

| agencyIds å€¼ | å«ä¹‰ | å¯è§èŒƒå›´ |
|-------------|------|---------|
| `NULL` | å…¨éƒ¨æœºæ„ | æ‰€æœ‰å‚¬å‘˜å¯è§ |
| `[1,2,3]` | æŒ‡å®šæœºæ„ | ä»…æœºæ„IDåœ¨åˆ—è¡¨ä¸­çš„å‚¬å‘˜å¯è§ |
| `[]` | ç©ºæ•°ç»„ | æ— äººå¯è§ï¼ˆç†è®ºä¸Šä¸åº”å‡ºç°ï¼‰ |

### 3. å˜é‡æ›¿æ¢è§„åˆ™

**å‰ç«¯å®æ—¶é¢„è§ˆ**:
```typescript
const exampleData = {
  '{å®¢æˆ·å}': 'å¼ ä¸‰',
  '{è´·æ¬¾ç¼–å·}': 'BTSK-200100',
  '{é€¾æœŸå¤©æ•°}': '23',
  '{åº”è¿˜é‡‘é¢}': '10,529',
  '{è¿˜æ¬¾æ—¥æœŸ}': '2025-01-15',
  '{è”ç³»ç”µè¯}': '+91 96 4870 7764',
  '{æœºæ„åç§°}': 'XXå‚¬æ”¶å…¬å¸',
  '{å‚¬å‘˜å§“å}': 'æå››'
}
```

**IMç«¯å‘é€æ—¶æ›¿æ¢**ï¼ˆéœ€åœ¨IMç«¯å®ç°ï¼‰:
```javascript
function replaceVariables(templateContent, caseData, collectorData) {
  return templateContent
    .replace(/{å®¢æˆ·å}/g, caseData.customerName || '{å®¢æˆ·å}')
    .replace(/{è´·æ¬¾ç¼–å·}/g, caseData.loanId || '{è´·æ¬¾ç¼–å·}')
    // ... å…¶ä»–å˜é‡
}
```

---

## ğŸ“ Mockæ•°æ®è¯´æ˜

åˆå§‹åŒ–äº†7æ¡æ¨¡æ¿æ•°æ®ï¼š

**ç»„ç»‡æ¨¡æ¿ï¼ˆ5æ¡ï¼‰**:
1. æ—©å®‰é—®å€™ + è¿˜æ¬¾æé†’ï¼ˆå…¨éƒ¨æœºæ„å¯è§ï¼‰
2. ä¸‹åˆå‚¬æ¬¾æé†’ï¼ˆæœºæ„1ã€2ã€3å¯è§ï¼‰
3. æ™šé—´å¼ºåº¦æé†’ï¼ˆæœºæ„1ã€2å¯è§ï¼‰
4. æ‰¿è¯ºè¿˜æ¬¾ç¡®è®¤ï¼ˆå…¨éƒ¨æœºæ„å¯è§ï¼‰
5. é€¾æœŸåˆæœŸæ¸©å’Œæé†’ï¼ˆå…¨éƒ¨æœºæ„å¯è§ï¼‰

**ä¸ªäººæ¨¡æ¿ï¼ˆ2æ¡ï¼‰**:
6. ä¸ªäººé—®å€™ï¼ˆä¸Šåˆï¼‰ï¼ˆåˆ›å»ºäºº1001ï¼‰
7. è¿˜æ¬¾ç¡®è®¤æ¨¡æ¿ï¼ˆåˆ›å»ºäºº1001ï¼‰

---

## ğŸ”§ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹æœºæ„åˆ—è¡¨

**æ–‡ä»¶**: `frontend/src/views/console/MessageTemplateList.vue`

```typescript
// ç¬¬173è¡Œå·¦å³
const agencyOptions = ref<Agency[]>([
  { id: 1, name: 'å‚¬æ”¶ä¸€éƒ¨' },
  { id: 2, name: 'å‚¬æ”¶äºŒéƒ¨' },
  { id: 3, name: 'å‚¬æ”¶ä¸‰éƒ¨' },
  { id: 4, name: 'å‚¬æ”¶å››éƒ¨' }
])
```

**æ³¨æ„**: ç”Ÿäº§ç¯å¢ƒåº”ä»ç»„ç»‡æ¶æ„ç®¡ç†APIè·å–æœºæ„åˆ—è¡¨ã€‚

### æ·»åŠ æ–°å˜é‡

**1. åç«¯æ·»åŠ å˜é‡å®šä¹‰**:

`MockMessageTemplateController.java` ç¬¬320è¡Œå·¦å³ï¼š

```java
variables.add(new VariableVO("æ–°å˜é‡å", "{æ–°å˜é‡å}", "string", "ç¤ºä¾‹å€¼", "è¯´æ˜"));
```

**2. å‰ç«¯æ·»åŠ é¢„è§ˆæ•°æ®**:

`MessageTemplateList.vue` ç¬¬458è¡Œå·¦å³ï¼š

```typescript
const exampleData: { [key: string]: string } = {
  // ... ç°æœ‰å˜é‡
  '{æ–°å˜é‡å}': 'ç¤ºä¾‹å€¼'
}
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. æ•°æ®åº“å…¼å®¹æ€§

- å½“å‰ä½¿ç”¨JSONç±»å‹å­—æ®µï¼ˆ`agency_ids`ã€`variables`ï¼‰
- MySQL 5.7+ æ”¯æŒJSONç±»å‹
- å¦‚éœ€å…¼å®¹æ›´æ—©ç‰ˆæœ¬ï¼Œæ”¹ç”¨TEXTç±»å‹å¹¶æ‰‹åŠ¨åºåˆ—åŒ–

### 2. Mockå®ç°è¯´æ˜

- å½“å‰ä½¿ç”¨å†…å­˜Mapå­˜å‚¨æ•°æ®
- æœåŠ¡é‡å¯åæ•°æ®é‡ç½®ä¸ºåˆå§‹7æ¡
- ç”Ÿäº§ç¯å¢ƒéœ€æ›¿æ¢ä¸ºçœŸå®æ•°æ®åº“å®ç°ï¼ˆMapper + Serviceå±‚ï¼‰

### 3. æƒé™æ§åˆ¶

- å½“å‰æ¥å£æœªä¸¥æ ¼æ ¡éªŒTokenå’Œè§’è‰²
- ç”Ÿäº§ç¯å¢ƒéœ€æ·»åŠ `@PreAuthorize`æ³¨è§£æˆ–æ‹¦æˆªå™¨

### 4. å‰ç«¯å­—æ®µæ˜ å°„

- åç«¯ä½¿ç”¨è›‡å½¢å‘½åï¼ˆå¦‚`template_name`ï¼‰
- å‰ç«¯ä½¿ç”¨é©¼å³°å‘½åï¼ˆå¦‚`templateName`ï¼‰
- MyBatis-Plusè‡ªåŠ¨å¤„ç†æ˜ å°„
- å‰ç«¯éœ€ä¿æŒä¸€è‡´æ€§

---

## ğŸ”„ ä¸IMç«¯é›†æˆ

### IMç«¯è·å–æ¨¡æ¿

```typescript
// IMç«¯è°ƒç”¨ç¤ºä¾‹
import request from '@/utils/request'

const getAvailableTemplates = async () => {
  const response = await request({
    url: '/message-templates',
    method: 'get',
    params: {
      tenantId: 1,
      collectorId: 1001,  // å½“å‰å‚¬å‘˜ID
      agencyId: 1,        // å‚¬å‘˜æ‰€å±æœºæ„ID
      caseStage: 'S0',    // å¯é€‰ç­›é€‰
      scene: 'greeting'   // å¯é€‰ç­›é€‰
    }
  })

  return response.data || response
}
```

### ä½¿ç”¨æ¨¡æ¿å‘é€æ¶ˆæ¯

```typescript
// 1. å‚¬å‘˜é€‰æ‹©æ¨¡æ¿
const template = await getAvailableTemplates()

// 2. æ›¿æ¢å˜é‡
const message = replaceVariables(template.content, caseData, collectorData)

// 3. å‘é€æ¶ˆæ¯ï¼ˆWhatsApp/SMS/WABA/RCSï¼‰
await sendMessage(message)

// 4. è®°å½•ä½¿ç”¨æ¬¡æ•°
await request({
  url: `/message-templates/${template.id}/usage`,
  method: 'post',
  data: { templateId: template.id, collectorId: 1001, caseId: 12345 }
})
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [PRDéœ€æ±‚æ–‡æ¡£](../../PRDéœ€æ±‚æ–‡æ¡£/CCOç®¡ç†æ§å°/æ¶ˆæ¯æ¨¡æ¿é…ç½®ç®¡ç†PRD.md) - å®Œæ•´çš„äº§å“éœ€æ±‚æ–‡æ¡£
- [IMé¢æ¿å®ç°](../å‰ç«¯/IMé¢æ¿æ¨¡æ¿é€‰æ‹©åŠŸèƒ½è¯´æ˜.md) - IMç«¯æ¨¡æ¿é€‰æ‹©å¯¹è¯æ¡†

---

## âœ… éªŒæ”¶æ ‡å‡†

åŸºäºPRDç¬¬8.2èŠ‚ï¼Œæ ¸å¿ƒéªŒæ”¶æ ‡å‡†ï¼š

1. âœ… æ§å°ç«¯å¯åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤æ¨¡æ¿
2. âœ… æ”¯æŒå››ç»´åº¦åˆ†ç±»å’Œç­›é€‰
3. âœ… æ”¯æŒå˜é‡ç³»ç»Ÿå’Œå†…å®¹é¢„è§ˆ
4. âœ… IMç«¯å¯è·å–å¯ç”¨çš„æ¨¡æ¿åˆ—è¡¨
5. âœ… å˜é‡æ›¿æ¢åŠŸèƒ½æ­£å¸¸ï¼ˆå‰ç«¯é¢„è§ˆï¼‰
6. âœ… æƒé™éš”ç¦»æ­£å¸¸ï¼ˆæŒ‰ç”²æ–¹ã€æŒ‰æœºæ„ã€æŒ‰åˆ›å»ºäººï¼‰
7. âœ… æ¥å£å“åº”æ—¶é—´ç¬¦åˆè¦æ±‚ï¼ˆMockå®ç°ï¼Œå†…å­˜æ“ä½œï¼‰
8. âœ… æ•°æ®æŒä¹…åŒ–æ­£å¸¸ï¼ˆæ•°æ®åº“è¡¨ç»“æ„å®Œæ•´ï¼‰

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0.0  
**æœ€åæ›´æ–°**: 2025-12-03  
**å®ç°äººå‘˜**: CCOå¼€å‘å›¢é˜Ÿ

