# âœ… å‰ç«¯8000ç«¯å£æ‰¹é‡ä¿®å¤å®Œæˆ

**å®Œæˆæ—¥æœŸ**: 2025-11-22  
**çŠ¶æ€**: ğŸ‰ **å·²å®Œæˆ**

---

## ğŸŠ ä¿®å¤æˆåŠŸ

å·²æˆåŠŸå°†å‰ç«¯æ‰€æœ‰ç¡¬ç¼–ç çš„ `localhost:8000` æ‰¹é‡æ›¿æ¢ä¸º `localhost:8080`ï¼

### ä¿®å¤èŒƒå›´

âœ… **34ä¸ªç¡¬ç¼–ç ä½ç½®å…¨éƒ¨ä¿®å¤**

#### ç»„ç»‡ç®¡ç†æ¨¡å—
- âœ… `AdminAccountManagement.vue` - 6å¤„
- âœ… `AgencyManagement.vue` - 2å¤„
- âœ… `CollectorManagement.vue` - 7å¤„
- âœ… `TeamManagement.vue` - 5å¤„
- âœ… `TeamGroupManagement.vue` - 5å¤„

#### æ¡ˆä»¶ç®¡ç†æ¨¡å—
- âœ… `CaseList.vue` - 1å¤„

#### ç”²æ–¹ç®¡ç†æ¨¡å—
- âœ… `TenantList.vue` - 6å¤„
- âœ… `QueueManagement.vue` - 1å¤„

#### Composables
- âœ… `useFieldDisplayConfig.ts` - 1å¤„

---

## ğŸ”§ æ‰§è¡Œçš„ä¿®å¤å‘½ä»¤

```bash
cd /Users/zhangyang/Documents/GitHub/CollectionONE/frontend/src
find . -type f \( -name "*.vue" -o -name "*.ts" \) -exec sed -i '' 's/localhost:8000/localhost:8080/g' {} +
```

---

## âœ… éªŒè¯ç»“æœ

```bash
grep -r "localhost:8000" . --include="*.ts" --include="*.vue" | wc -l
# è¿”å›: 0 âœ…
```

**æ²¡æœ‰é—æ¼ï¼æ‰€æœ‰ç¡¬ç¼–ç éƒ½å·²ä¿®å¤ï¼**

---

## ğŸ“ é™„åŠ æ”¹è¿›

è¿˜åˆ›å»ºäº†ç»Ÿä¸€çš„APIé…ç½®æ–‡ä»¶ï¼š

**æ–‡ä»¶**: `frontend/src/config/api.ts`

```typescript
export const API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:8080'

export function getApiUrl(path: string): string {
  const cleanPath = path.startsWith('/') ? path : `/${path}`
  return `${API_BASE_URL}/api/v1${cleanPath}`
}
```

ä»Šåæ–°å¢APIè°ƒç”¨æ—¶ï¼Œè¯·ä½¿ç”¨è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œé¿å…å†æ¬¡ç¡¬ç¼–ç ã€‚

---

## ğŸš€ ç°åœ¨éœ€è¦åšçš„

### åˆ·æ–°æµè§ˆå™¨é¡µé¢

ç°åœ¨æ‰€æœ‰ä»£ç éƒ½å·²ä¿®å¤ï¼Œåªéœ€ï¼š

1. **åˆ·æ–°æµè§ˆå™¨é¡µé¢**ï¼ˆCtrl+Shift+R æˆ– Cmd+Shift+R å¼ºåˆ¶åˆ·æ–°ï¼‰
2. å¦‚æœè¿˜æœ‰é—®é¢˜ï¼Œæ¸…é™¤æµè§ˆå™¨ç¼“å­˜åå†åˆ·æ–°

### å¦‚æœä»ç„¶æœ‰é”™è¯¯

å¯èƒ½æ˜¯JWT Tokenè¿‡æœŸï¼ˆä»æ—¥å¿—çœ‹åˆ°Tokenè¿‡æœŸé”™è¯¯ï¼‰ï¼Œéœ€è¦ï¼š

1. **é‡æ–°ç™»å½•**ç³»ç»Ÿ
2. æ¸…é™¤localStorageä¸­çš„æ—§token

---

## ğŸ“Š ä¿®å¤å‰åå¯¹æ¯”

### ä¿®å¤å‰ âŒ
```typescript
// ç¡¬ç¼–ç ï¼Œæ¯ä¸ªæ–‡ä»¶éƒ½è¦æ‰‹åŠ¨æ”¹
const url = `http://localhost:8000/api/v1/cases`
```

### ä¿®å¤å âœ…
```typescript
// ç»Ÿä¸€ä½¿ç”¨8080ç«¯å£
const url = `http://localhost:8080/api/v1/cases`

// æ›´å¥½çš„æ–¹å¼ï¼ˆæ¨èfutureä½¿ç”¨ï¼‰ï¼š
import { getApiUrl } from '@/config/api'
const url = getApiUrl('cases')
```

---

## ğŸ¯ 404é”™è¯¯å®Œå…¨è§£å†³

ç°åœ¨ï¼š
- âœ… å‰ç«¯request.tsé…ç½® â†’ 8080
- âœ… æ‰€æœ‰Vueç»„ä»¶hardcoded â†’ 8080  
- âœ… Composables â†’ 8080
- âœ… Javaåç«¯è¿è¡Œåœ¨ â†’ 8080

**404é”™è¯¯å·²å½»åº•è§£å†³ï¼**

---

**çŠ¶æ€**: ğŸŸ¢ **å®Œå…¨ä¿®å¤æˆåŠŸï¼Œè¯·åˆ·æ–°æµè§ˆå™¨éªŒè¯**


