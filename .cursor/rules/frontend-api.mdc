---
description: å‰ç«¯APIè°ƒç”¨è§„åˆ™ - é¿å…ç¡¬ç¼–ç URLå’Œç«¯å£
tags: [frontend, api, typescript, vue]
priority: critical
---

# å‰ç«¯APIè°ƒç”¨è§„åˆ™

## ğŸš¨ ä¸¥ç¦ç¡¬ç¼–ç URL

### âŒ é”™è¯¯ç¤ºä¾‹ï¼ˆä¼šå¯¼è‡´404ï¼‰

```typescript
// âŒ ç»å¯¹ä¸è¦è¿™æ ·å†™ï¼
const url = 'http://localhost:8000/api/v1/cases'
const url = 'http://localhost:8080/api/v1/cases'
const response = await fetch('http://localhost:8000/api/v1/tenants')
```

### âœ… æ­£ç¡®ç¤ºä¾‹

```typescript
// âœ… æ–¹æ³•1: ä½¿ç”¨APIé…ç½®ï¼ˆæœ€ä½³ï¼‰
import { getApiUrl } from '@/config/api'
const url = getApiUrl('cases')

// âœ… æ–¹æ³•2: ä½¿ç”¨requestå·¥å…·ï¼ˆæ¨èï¼‰
import request from '@/utils/request'
const data = await request({ url: '/cases', method: 'get' })

// âœ… æ–¹æ³•3: ä½¿ç”¨API_BASE_URLå¸¸é‡
import { API_BASE_URL } from '@/config/api'
const url = `${API_BASE_URL}/api/v1/cases`
```

## è‡ªåŠ¨æ£€æµ‹è„šæœ¬

```bash
#!/bin/bash
# æ£€æŸ¥ç¡¬ç¼–ç URL
HARDCODED=$(grep -r "localhost:8000\|localhost:8080" frontend/src --include="*.ts" --include="*.vue" | grep -v "config/api.ts" | wc -l)

if [ $HARDCODED -gt 0 ]; then
  echo "âŒ å‘ç°ç¡¬ç¼–ç URLï¼"
  grep -r "localhost:8000\|localhost:8080" frontend/src --include="*.ts" --include="*.vue" | grep -v "config/api.ts"
  exit 1
fi

echo "âœ… æœªå‘ç°ç¡¬ç¼–ç URL"
```

## Code Reviewæ£€æŸ¥é¡¹

- [ ] æ²¡æœ‰ `localhost:8000` ç¡¬ç¼–ç 
- [ ] æ²¡æœ‰ `localhost:8080` ç¡¬ç¼–ç ï¼ˆé™¤äº†config/api.tsï¼‰
- [ ] ä½¿ç”¨äº† `@/config/api` æˆ– `@/utils/request`
- [ ] è€ƒè™‘äº†å“åº”æ ¼å¼å…¼å®¹æ€§ï¼ˆJavaåç«¯è¿”å› `{code, message, data}`ï¼‰
