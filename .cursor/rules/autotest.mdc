---
description: 自动化测试规则 - 在每次修改后自动验证
tags: [test, automation, ci]
priority: high
---

# 自动化测试规则

## 提交前自动检查

在每次提交代码前，运行检查脚本：

```bash
./scripts/check-rules.sh
```

## Git Hook集成

创建 `.git/hooks/pre-commit`:

```bash
#!/bin/bash
# 运行规则检查
./scripts/check-rules.sh

if [ $? -ne 0 ]; then
  echo ""
  echo "❌ 规则检查未通过，提交已取消"
  echo "请修复上述问题后再提交"
  exit 1
fi
```

## 快速修复命令

```bash
# 修复硬编码URL（一键替换）
cd frontend/src
find . -type f \( -name "*.vue" -o -name "*.ts" \) -exec sed -i '' 's/localhost:8000/localhost:8080/g' {} +

# 删除所有.bak文件
find . -name "*.bak" -delete

# 重启Java后端
cd backend-java && ./start.sh
```

## CI/CD集成（未来）

```yaml
# .github/workflows/check-rules.yml
name: Check Rules
on: [push, pull_request]
jobs:
  check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Run rule checks
        run: ./scripts/check-rules.sh
```
