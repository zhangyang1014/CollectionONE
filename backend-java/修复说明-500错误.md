# 修复500错误说明

## 问题描述

访问 `/api/v1/tenants/1/fields-json` 接口时返回500错误：
```
Table 'cco_system.tenant_fields_json' doesn't exist
```

## 原因

数据库表 `tenant_fields_json` 尚未创建。

## 解决方案

### 方案1：创建数据库表（推荐）

执行SQL脚本创建表：
```bash
cd backend-java
mysql -uroot -p cco_system < src/main/resources/db/migration/create_tenant_fields_json_table.sql
```

### 方案2：使用Mock模式（当前已实现）

已在代码中添加异常处理，当表不存在时返回空数据，不会报错。

**需要重启后端服务**才能生效：
```bash
cd backend-java
./restart.sh
```

## 已修改的文件

1. `TenantFieldsJsonServiceImpl.java` - 添加了异常处理
2. `TenantFieldsJsonController.java` - 添加了异常处理

## 测试

重启服务后，访问接口应该返回：
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "fetched_at": "...",
    "fields": []
  }
}
```

而不是500错误。























