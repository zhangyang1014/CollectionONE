# 更新日志 - 案件列表标准字段优化

## [v1.1.0] - 2025-12-12

### 🎉 新增功能

#### 新增字段（6个）
- **逾期期数** (`overdue_installments`) - Integer, 必填
  - 位置：第11位（案件状态后）
  - 说明：当前逾期期数
  
- **案件类型1-5** (`case_type_1` ~ `case_type_5`) - Enum, 选填
  - 位置：第19-23位（关联借款ID后）
  - 说明：案件分类类型1-5

### 🔄 字段重命名（2个）
- **到期日期** → **预期开始日期**
  - 字段标识：`due_date` → `expected_start_date`
  - 说明：预期开始还款日期
  
- **期数** → **总期数**
  - 字段标识：`total_installments`（保持不变）
  - 说明：贷款总期数

### ❌ 删除字段（1个）
- **当期天数** (`term_days`) - 已移除

### 📊 字段数量变化
- 优化前：**15 个字段**
- 优化后：**23 个字段**
- 净增加：**8 个字段** (删除1个，新增9个)

---

## 修改文件清单

### 后端代码
- ✅ `backend-java/src/main/java/com/cco/support/CaseStandardFieldProvider.java`
  - 修改 `buildCaseListFields()` 方法
  - 修改 `buildCaseDetailFields()` 方法

### PRD文档
- ✅ `PRD需求文档/CCO管理控台/字段管理/案件列表字段管理/1-案件列表标准字段管理-PRD.md`
  - 更新版本记录到 v1.1.0
  - 更新字段清单
  - 更新验收标准

### 说明文档
- ✅ 新增：`说明文档/功能说明/案件列表标准字段优化完成报告.md`
- ✅ 新增：`说明文档/功能说明/案件列表标准字段优化-测试指南.md`
- ✅ 新增：`CHANGELOG-案件列表标准字段优化.md`

---

## 测试验证

### ✅ 后端验证
```bash
curl http://localhost:8080/api/v1/case-standard-fields/list
# 预期：返回23个字段
```

### ✅ 前端验证
```
访问: http://localhost:5173/field-config/standard
预期：
- 显示23条记录
- 包含新增字段和重命名字段
- 不显示删除的字段
```

---

## 兼容性说明

### ⚠️ 破坏性变更
1. **字段标识变更**
   - `due_date` → `expected_start_date`
   - 依赖该字段的代码需要更新

2. **字段删除**
   - `term_days` 已完全移除
   - 使用该字段的功能需要调整

### ✅ 向后兼容
- 新增字段为选填，不影响现有数据
- 字段重命名保持数据类型一致

---

## 升级指南

### 步骤1：更新代码
```bash
git pull origin main
```

### 步骤2：重启后端
```bash
cd backend-java
./start.sh
```

### 步骤3：清除前端缓存
- 浏览器 → 开发者工具（F12）
- Application → Clear storage
- 或使用 Ctrl+Shift+R 硬刷新

### 步骤4：验证更新
参考 [测试指南](./说明文档/功能说明/案件列表标准字段优化-测试指南.md)

---

## 文档链接

- 📖 [完成报告](./说明文档/功能说明/案件列表标准字段优化完成报告.md)
- 🧪 [测试指南](./说明文档/功能说明/案件列表标准字段优化-测试指南.md)
- 📋 [PRD文档](./PRD需求文档/CCO管理控台/字段管理/案件列表字段管理/1-案件列表标准字段管理-PRD.md)

---

## 贡献者
- **大象** - PRD设计 & 代码实现 & 文档编写

---

**版本发布时间**: 2025-12-12  
**下一版本预告**: 案件类型枚举值配置管理

